import{A as Oo,B as w_,C as C_,D as A,E as Ze,F as De,G as ad,H as D_,I as xo,J as Be,K as on,L as Ea,M as ld,N as E_,O as tr,P as ko,Q as I_,R as T_,S as An,T as Ue,a as y,b as U,c as Qe,d as u_,e as ba,f as d_,g as h_,h as v,i as er,j as wa,k as f_,l as p_,m as Me,n as g_,o as sd,p as m_,q as Ut,r as __,s as v_,t as Ca,u as ye,v as y_,w as b_,x as ft,y as Mn,z as Da}from"./chunk-GSGJEBQA.js";function S_(e,t){return Object.is(e,t)}var Ee=null,Ia=!1,Ta=1,sn=Symbol("SIGNAL");function Q(e){let t=Ee;return Ee=e,t}function M_(){return Ee}var Fo={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function dd(e){if(Ia)throw new Error("");if(Ee===null)return;Ee.consumerOnSignalRead(e);let t=Ee.nextProducerIndex++;if(Na(Ee),t<Ee.producerNode.length&&Ee.producerNode[t]!==e&&Po(Ee)){let n=Ee.producerNode[t];Aa(n,Ee.producerIndexOfThis[t])}Ee.producerNode[t]!==e&&(Ee.producerNode[t]=e,Ee.producerIndexOfThis[t]=Po(Ee)?O_(e,Ee,t):0),Ee.producerLastReadVersion[t]=e.version}function kE(){Ta++}function A_(e){if(!(Po(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Ta)){if(!e.producerMustRecompute(e)&&!fd(e)){e.dirty=!1,e.lastCleanEpoch=Ta;return}e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=Ta}}function N_(e){if(e.liveConsumerNode===void 0)return;let t=Ia;Ia=!0;try{for(let n of e.liveConsumerNode)n.dirty||PE(n)}finally{Ia=t}}function R_(){return Ee?.consumerAllowSignalWrites!==!1}function PE(e){e.dirty=!0,N_(e),e.consumerMarkedDirty?.(e)}function Ma(e){return e&&(e.nextProducerIndex=0),Q(e)}function hd(e,t){if(Q(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(Po(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)Aa(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function fd(e){Na(e);for(let t=0;t<e.producerNode.length;t++){let n=e.producerNode[t],i=e.producerLastReadVersion[t];if(i!==n.version||(A_(n),i!==n.version))return!0}return!1}function pd(e){if(Na(e),Po(e))for(let t=0;t<e.producerNode.length;t++)Aa(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function O_(e,t,n){if(x_(e),e.liveConsumerNode.length===0&&k_(e))for(let i=0;i<e.producerNode.length;i++)e.producerIndexOfThis[i]=O_(e.producerNode[i],e,i);return e.liveConsumerIndexOfThis.push(n),e.liveConsumerNode.push(t)-1}function Aa(e,t){if(x_(e),e.liveConsumerNode.length===1&&k_(e))for(let i=0;i<e.producerNode.length;i++)Aa(e.producerNode[i],e.producerIndexOfThis[i]);let n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let i=e.liveConsumerIndexOfThis[t],r=e.liveConsumerNode[t];Na(r),r.producerIndexOfThis[i]=t}}function Po(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Na(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function x_(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function k_(e){return e.producerNode!==void 0}function P_(e){let t=Object.create(FE);t.computation=e;let n=()=>{if(A_(t),dd(t),t.value===Sa)throw t.error;return t.value};return n[sn]=t,n}var cd=Symbol("UNSET"),ud=Symbol("COMPUTING"),Sa=Symbol("ERRORED"),FE=U(y({},Fo),{value:cd,dirty:!0,error:null,equal:S_,producerMustRecompute(e){return e.value===cd||e.value===ud},producerRecomputeValue(e){if(e.value===ud)throw new Error("Detected cycle in computations.");let t=e.value;e.value=ud;let n=Ma(e),i;try{i=e.computation()}catch(r){i=Sa,e.error=r}finally{hd(e,n)}if(t!==cd&&t!==Sa&&i!==Sa&&e.equal(t,i)){e.value=t;return}e.value=i,e.version++}});function LE(){throw new Error}var F_=LE;function L_(){F_()}function V_(e){F_=e}var VE=null;function j_(e){let t=Object.create(U_);t.value=e;let n=()=>(dd(t),t.value);return n[sn]=t,n}function gd(e,t){R_()||L_(),e.equal(e.value,t)||(e.value=t,jE(e))}function B_(e,t){R_()||L_(),gd(e,t(e.value))}var U_=U(y({},Fo),{equal:S_,value:void 0});function jE(e){e.version++,kE(),N_(e),VE?.()}function M(e){return typeof e=="function"}function nr(e){let n=e(i=>{Error.call(i),i.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ra=nr(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function fi(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var ge=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:i}=this;if(M(i))try{i()}catch(o){t=o instanceof Ra?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{$_(o)}catch(s){t=t??[],s instanceof Ra?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Ra(t)}}add(t){var n;if(t&&t!==this)if(this.closed)$_(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&fi(n,t)}remove(t){let{_finalizers:n}=this;n&&fi(n,t),t instanceof e&&t._removeParent(this)}};ge.EMPTY=(()=>{let e=new ge;return e.closed=!0,e})();var md=ge.EMPTY;function Oa(e){return e instanceof ge||e&&"closed"in e&&M(e.remove)&&M(e.add)&&M(e.unsubscribe)}function $_(e){M(e)?e():e.unsubscribe()}var Mt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ir={setTimeout(e,t,...n){let{delegate:i}=ir;return i?.setTimeout?i.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=ir;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function xa(e){ir.setTimeout(()=>{let{onUnhandledError:t}=Mt;if(t)t(e);else throw e})}function pi(){}var H_=_d("C",void 0,void 0);function G_(e){return _d("E",void 0,e)}function z_(e){return _d("N",e,void 0)}function _d(e,t,n){return{kind:e,value:t,error:n}}var gi=null;function rr(e){if(Mt.useDeprecatedSynchronousErrorHandling){let t=!gi;if(t&&(gi={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:i}=gi;if(gi=null,n)throw i}}else e()}function W_(e){Mt.useDeprecatedSynchronousErrorHandling&&gi&&(gi.errorThrown=!0,gi.error=e)}var mi=class extends ge{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Oa(t)&&t.add(this)):this.destination=$E}static create(t,n,i){return new an(t,n,i)}next(t){this.isStopped?yd(z_(t),this):this._next(t)}error(t){this.isStopped?yd(G_(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?yd(H_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},BE=Function.prototype.bind;function vd(e,t){return BE.call(e,t)}var bd=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(i){ka(i)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(i){ka(i)}else ka(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){ka(n)}}},an=class extends mi{constructor(t,n,i){super();let r;if(M(t)||!t)r={next:t??void 0,error:n??void 0,complete:i??void 0};else{let o;this&&Mt.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&vd(t.next,o),error:t.error&&vd(t.error,o),complete:t.complete&&vd(t.complete,o)}):r=t}this.destination=new bd(r)}};function ka(e){Mt.useDeprecatedSynchronousErrorHandling?W_(e):xa(e)}function UE(e){throw e}function yd(e,t){let{onStoppedNotification:n}=Mt;n&&ir.setTimeout(()=>n(e,t))}var $E={closed:!0,next:pi,error:UE,complete:pi};var or=typeof Symbol=="function"&&Symbol.observable||"@@observable";function ke(e){return e}function wd(...e){return Cd(e)}function Cd(e){return e.length===0?ke:e.length===1?e[0]:function(n){return e.reduce((i,r)=>r(i),n)}}var N=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let i=new e;return i.source=this,i.operator=n,i}subscribe(n,i,r){let o=GE(n)?n:new an(n,i,r);return rr(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return i=K_(i),new i((r,o)=>{let s=new an({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(n){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(n)}[or](){return this}pipe(...n){return Cd(n)(this)}toPromise(n){return n=K_(n),new n((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return e.create=t=>new e(t),e})();function K_(e){var t;return(t=e??Mt.Promise)!==null&&t!==void 0?t:Promise}function HE(e){return e&&M(e.next)&&M(e.error)&&M(e.complete)}function GE(e){return e&&e instanceof mi||HE(e)&&Oa(e)}function Dd(e){return M(e?.lift)}function k(e){return t=>{if(Dd(t))return t.lift(function(n){try{return e(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function R(e,t,n,i,r){return new Ed(e,t,n,i,r)}var Ed=class extends mi{constructor(t,n,i,r,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){t.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function sr(){return k((e,t)=>{let n=null;e._refCount++;let i=R(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let r=e._connection,o=n;n=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});e.subscribe(i),i.closed||(n=e.connect())})}var ar=class extends N{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Dd(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new ge;let n=this.getSubject();t.add(this.source.subscribe(R(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=ge.EMPTY)}return t}refCount(){return sr()(this)}};var q_=nr(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var q=(()=>{class e extends N{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let i=new Pa(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new q_}next(n){rr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(n)}})}error(n){rr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){rr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:i,isStopped:r,observers:o}=this;return i||r?md:(this.currentObservers=null,o.push(n),new ge(()=>{this.currentObservers=null,fi(o,n)}))}_checkFinalizedStatuses(n){let{hasError:i,thrownError:r,isStopped:o}=this;i?n.error(r):o&&n.complete()}asObservable(){let n=new N;return n.source=this,n}}return e.create=(t,n)=>new Pa(t,n),e})(),Pa=class extends q{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,t)}error(t){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&i!==void 0?i:md}};var be=class extends q{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:i}=this;if(t)throw n;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}};var Lo={now(){return(Lo.delegate||Date).now()},delegate:void 0};var Fa=class extends q{constructor(t=1/0,n=1/0,i=Lo){super(),this._bufferSize=t,this._windowTime=n,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,n)}next(t){let{isStopped:n,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;n||(i.push(t),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!t.closed;s+=i?1:2)t.next(o[s]);return this._checkFinalizedStatuses(t),n}_trimBuffer(){let{_bufferSize:t,_timestampProvider:n,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<i.length&&i.splice(0,i.length-o),!r){let s=n.now(),a=0;for(let l=1;l<i.length&&i[l]<=s;l+=2)a=l;a&&i.splice(0,a+1)}}};var La=class extends ge{constructor(t,n){super()}schedule(t,n=0){return this}};var Vo={setInterval(e,t,...n){let{delegate:i}=Vo;return i?.setInterval?i.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){let{delegate:t}=Vo;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};var lr=class extends La{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var i;if(this.closed)return this;this.state=t;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,n),this}requestAsyncId(t,n,i=0){return Vo.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,n,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&Vo.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(t,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let i=!1,r;try{this.work(t)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:t,scheduler:n}=this,{actions:i}=n;this.work=this.state=this.scheduler=null,this.pending=!1,fi(i,this),t!=null&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}};var cr=class e{constructor(t,n=e.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,i){return new this.schedulerActionCtor(this,t).schedule(i,n)}};cr.now=Lo.now;var ur=class extends cr{constructor(t,n=cr.now){super(t,n),this.actions=[],this._active=!1}flush(t){let{actions:n}=this;if(this._active){n.push(t);return}let i;this._active=!0;do if(i=t.execute(t.state,t.delay))break;while(t=n.shift());if(this._active=!1,i){for(;t=n.shift();)t.unsubscribe();throw i}}};var dr=new ur(lr),Id=dr;var Va=class extends lr{constructor(t,n){super(t,n),this.scheduler=t,this.work=n}schedule(t,n=0){return n>0?super.schedule(t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)}execute(t,n){return n>0||this.closed?super.execute(t,n):this._execute(t,n)}requestAsyncId(t,n,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(t,n,i):(t.flush(this),0)}};var ja=class extends ur{};var Td=new ja(Va);var Ie=new N(e=>e.complete());function Ba(e){return e&&M(e.schedule)}function Sd(e){return e[e.length-1]}function Nn(e){return M(Sd(e))?e.pop():void 0}function $t(e){return Ba(Sd(e))?e.pop():void 0}function Y_(e,t){return typeof Sd(e)=="number"?e.pop():t}var hr=e=>e&&typeof e.length=="number"&&typeof e!="function";function Ua(e){return M(e?.then)}function $a(e){return M(e[or])}function Ha(e){return Symbol.asyncIterator&&M(e?.[Symbol.asyncIterator])}function Ga(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function zE(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var za=zE();function Wa(e){return M(e?.[za])}function Ka(e){return d_(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:i,done:r}=yield ba(n.read());if(r)return yield ba(void 0);yield yield ba(i)}}finally{n.releaseLock()}})}function qa(e){return M(e?.getReader)}function Y(e){if(e instanceof N)return e;if(e!=null){if($a(e))return WE(e);if(hr(e))return KE(e);if(Ua(e))return qE(e);if(Ha(e))return Q_(e);if(Wa(e))return YE(e);if(qa(e))return QE(e)}throw Ga(e)}function WE(e){return new N(t=>{let n=e[or]();if(M(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function KE(e){return new N(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function qE(e){return new N(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,xa)})}function YE(e){return new N(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function Q_(e){return new N(t=>{ZE(e,t).catch(n=>t.error(n))})}function QE(e){return Q_(Ka(e))}function ZE(e,t){var n,i,r,o;return u_(this,void 0,void 0,function*(){try{for(n=h_(e);i=yield n.next(),!i.done;){let s=i.value;if(t.next(s),t.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=n.return)&&(yield o.call(n))}finally{if(r)throw r.error}}t.complete()})}function Je(e,t,n,i=0,r=!1){let o=t.schedule(function(){n(),r?e.add(this.schedule(null,i)):this.unsubscribe()},i);if(e.add(o),!r)return o}function pt(e,t=0){return k((n,i)=>{n.subscribe(R(i,r=>Je(i,e,()=>i.next(r),t),()=>Je(i,e,()=>i.complete(),t),r=>Je(i,e,()=>i.error(r),t)))})}function At(e,t=0){return k((n,i)=>{i.add(e.schedule(()=>n.subscribe(i),t))})}function Z_(e,t){return Y(e).pipe(At(t),pt(t))}function J_(e,t){return Y(e).pipe(At(t),pt(t))}function X_(e,t){return new N(n=>{let i=0;return t.schedule(function(){i===e.length?n.complete():(n.next(e[i++]),n.closed||this.schedule())})})}function ev(e,t){return new N(n=>{let i;return Je(n,t,()=>{i=e[za](),Je(n,t,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){n.error(s);return}o?n.complete():n.next(r)},0,!0)}),()=>M(i?.return)&&i.return()})}function Ya(e,t){if(!e)throw new Error("Iterable cannot be null");return new N(n=>{Je(n,t,()=>{let i=e[Symbol.asyncIterator]();Je(n,t,()=>{i.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function tv(e,t){return Ya(Ka(e),t)}function nv(e,t){if(e!=null){if($a(e))return Z_(e,t);if(hr(e))return X_(e,t);if(Ua(e))return J_(e,t);if(Ha(e))return Ya(e,t);if(Wa(e))return ev(e,t);if(qa(e))return tv(e,t)}throw Ga(e)}function ee(e,t){return t?nv(e,t):Y(e)}function D(...e){let t=$t(e);return ee(e,t)}function fr(e,t){let n=M(e)?e:()=>e,i=r=>r.error(n());return new N(t?r=>t.schedule(i,0,r):i)}function Md(e){return!!e&&(e instanceof N||M(e.lift)&&M(e.subscribe))}var ln=nr(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function iv(e){return e instanceof Date&&!isNaN(e)}function S(e,t){return k((n,i)=>{let r=0;n.subscribe(R(i,o=>{i.next(e.call(t,o,r++))}))})}var{isArray:JE}=Array;function XE(e,t){return JE(t)?e(...t):e(t)}function pr(e){return S(t=>XE(e,t))}var{isArray:eI}=Array,{getPrototypeOf:tI,prototype:nI,keys:iI}=Object;function Qa(e){if(e.length===1){let t=e[0];if(eI(t))return{args:t,keys:null};if(rI(t)){let n=iI(t);return{args:n.map(i=>t[i]),keys:n}}}return{args:e,keys:null}}function rI(e){return e&&typeof e=="object"&&tI(e)===nI}function Za(e,t){return e.reduce((n,i,r)=>(n[i]=t[r],n),{})}function gr(...e){let t=$t(e),n=Nn(e),{args:i,keys:r}=Qa(e);if(i.length===0)return ee([],t);let o=new N(oI(i,t,r?s=>Za(r,s):ke));return n?o.pipe(pr(n)):o}function oI(e,t,n=ke){return i=>{rv(t,()=>{let{length:r}=e,o=new Array(r),s=r,a=r;for(let l=0;l<r;l++)rv(t,()=>{let c=ee(e[l],t),u=!1;c.subscribe(R(i,d=>{o[l]=d,u||(u=!0,a--),a||i.next(n(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}function rv(e,t,n){e?Je(n,e,t):t()}function ov(e,t,n,i,r,o,s,a){let l=[],c=0,u=0,d=!1,h=()=>{d&&!l.length&&!c&&t.complete()},f=m=>c<i?p(m):l.push(m),p=m=>{o&&t.next(m),c++;let b=!1;Y(n(m,u++)).subscribe(R(t,T=>{r?.(T),o?f(T):t.next(T)},()=>{b=!0},void 0,()=>{if(b)try{for(c--;l.length&&c<i;){let T=l.shift();s?Je(t,s,()=>p(T)):p(T)}h()}catch(T){t.error(T)}}))};return e.subscribe(R(t,f,()=>{d=!0,h()})),()=>{a?.()}}function he(e,t,n=1/0){return M(t)?he((i,r)=>S((o,s)=>t(i,o,r,s))(Y(e(i,r))),n):(typeof t=="number"&&(n=t),k((i,r)=>ov(i,r,e,n)))}function Rn(e=1/0){return he(ke,e)}function sv(){return Rn(1)}function On(...e){return sv()(ee(e,$t(e)))}function Ja(e){return new N(t=>{Y(e()).subscribe(t)})}function Ad(...e){let t=Nn(e),{args:n,keys:i}=Qa(e),r=new N(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let u=0;u<s;u++){let d=!1;Y(n[u]).subscribe(R(o,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(i?Za(i,a):a),o.complete())}))}});return t?r.pipe(pr(t)):r}var sI=["addListener","removeListener"],aI=["addEventListener","removeEventListener"],lI=["on","off"];function gt(e,t,n,i){if(M(n)&&(i=n,n=void 0),i)return gt(e,t,n).pipe(pr(i));let[r,o]=dI(e)?aI.map(s=>a=>e[s](t,a,n)):cI(e)?sI.map(av(e,t)):uI(e)?lI.map(av(e,t)):[];if(!r&&hr(e))return he(s=>gt(s,t,n))(Y(e));if(!r)throw new TypeError("Invalid event target");return new N(s=>{let a=(...l)=>s.next(1<l.length?l:l[0]);return r(a),()=>o(a)})}function av(e,t){return n=>i=>e[n](t,i)}function cI(e){return M(e.addListener)&&M(e.removeListener)}function uI(e){return M(e.on)&&M(e.off)}function dI(e){return M(e.addEventListener)&&M(e.removeEventListener)}function Nd(e=0,t,n=Id){let i=-1;return t!=null&&(Ba(t)?n=t:i=t),new N(r=>{let o=iv(e)?+e-n.now():e;o<0&&(o=0);let s=0;return n.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function _i(...e){let t=$t(e),n=Y_(e,1/0),i=e;return i.length?i.length===1?Y(i[0]):Rn(n)(ee(i,t)):Ie}var{isArray:hI}=Array;function Xa(e){return e.length===1&&hI(e[0])?e[0]:e}function _e(e,t){return k((n,i)=>{let r=0;n.subscribe(R(i,o=>e.call(t,o,r++)&&i.next(o)))})}function Rd(...e){return e=Xa(e),e.length===1?Y(e[0]):new N(fI(e))}function fI(e){return t=>{let n=[];for(let i=0;n&&!t.closed&&i<e.length;i++)n.push(Y(e[i]).subscribe(R(t,r=>{if(n){for(let o=0;o<n.length;o++)o!==i&&n[o].unsubscribe();n=null}t.next(r)})))}}function jo(...e){let t=Nn(e),n=Xa(e);return n.length?new N(i=>{let r=n.map(()=>[]),o=n.map(()=>!1);i.add(()=>{r=o=null});for(let s=0;!i.closed&&s<n.length;s++)Y(n[s]).subscribe(R(i,a=>{if(r[s].push(a),r.every(l=>l.length)){let l=r.map(c=>c.shift());i.next(t?t(...l):l),r.some((c,u)=>!c.length&&o[u])&&i.complete()}},()=>{o[s]=!0,!r[s].length&&i.complete()}));return()=>{r=o=null}}):Ie}function xn(e){return k((t,n)=>{let i=null,r=!1,o;i=t.subscribe(R(n,void 0,void 0,s=>{o=Y(e(s,xn(e)(t))),i?(i.unsubscribe(),i=null,o.subscribe(n)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(n))})}function lv(e,t,n,i,r){return(o,s)=>{let a=n,l=t,c=0;o.subscribe(R(s,u=>{let d=c++;l=a?e(l,u,d):(a=!0,u),i&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}function cn(e,t){return M(t)?he(e,t,1):he(e,1)}function kn(e){return k((t,n)=>{let i=!1;t.subscribe(R(n,r=>{i=!0,n.next(r)},()=>{i||n.next(e),n.complete()}))})}function mt(e){return e<=0?()=>Ie:k((t,n)=>{let i=0;t.subscribe(R(n,r=>{++i<=e&&(n.next(r),e<=i&&n.complete())}))})}function Od(e){return S(()=>e)}function el(e,t=ke){return e=e??pI,k((n,i)=>{let r,o=!0;n.subscribe(R(i,s=>{let a=t(s);(o||!e(r,a))&&(o=!1,r=a,i.next(s))}))})}function pI(e,t){return e===t}function tl(e=gI){return k((t,n)=>{let i=!1;t.subscribe(R(n,r=>{i=!0,n.next(r)},()=>i?n.complete():n.error(e())))})}function gI(){return new ln}function xd(...e){return t=>On(t,D(...e))}function Pn(e){return k((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function _t(e,t){let n=arguments.length>=2;return i=>i.pipe(e?_e((r,o)=>e(r,o,i)):ke,mt(1),n?kn(t):tl(()=>new ln))}function mr(e){return e<=0?()=>Ie:k((t,n)=>{let i=[];t.subscribe(R(n,r=>{i.push(r),e<i.length&&i.shift()},()=>{for(let r of i)n.next(r);n.complete()},void 0,()=>{i=null}))})}function kd(e,t){let n=arguments.length>=2;return i=>i.pipe(e?_e((r,o)=>e(r,o,i)):ke,mr(1),n?kn(t):tl(()=>new ln))}function _r(e,t){return k(lv(e,t,arguments.length>=2,!0))}function Bo(e={}){let{connector:t=()=>new q,resetOnError:n=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=e;return o=>{let s,a,l,c=0,u=!1,d=!1,h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),s=l=void 0,u=d=!1},p=()=>{let m=s;f(),m?.unsubscribe()};return k((m,b)=>{c++,!d&&!u&&h();let T=l=l??t();b.add(()=>{c--,c===0&&!d&&!u&&(a=Pd(p,r))}),T.subscribe(b),!s&&c>0&&(s=new an({next:j=>T.next(j),error:j=>{d=!0,h(),a=Pd(f,n,j),T.error(j)},complete:()=>{u=!0,h(),a=Pd(f,i),T.complete()}}),Y(m).subscribe(s))})(o)}}function Pd(e,t,...n){if(t===!0){e();return}if(t===!1)return;let i=new an({next:()=>{i.unsubscribe(),e()}});return Y(t(...n)).subscribe(i)}function nl(e,t,n){let i,r=!1;return e&&typeof e=="object"?{bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:n}=e:i=e??1/0,Bo({connector:()=>new Fa(i,t,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function Fd(e){return k((t,n)=>{let i=!1,r=0;t.subscribe(R(n,o=>(i||(i=!e(o,r++)))&&n.next(o)))})}function il(...e){let t=$t(e);return k((n,i)=>{(t?On(e,n,t):On(e,n)).subscribe(i)})}function ie(e,t){return k((n,i)=>{let r=null,o=0,s=!1,a=()=>s&&!r&&i.complete();n.subscribe(R(i,l=>{r?.unsubscribe();let c=0,u=o++;Y(e(l,u)).subscribe(r=R(i,d=>i.next(t?t(l,d,u,c++):d),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function rl(e,t){return M(t)?ie(()=>e,t):ie(()=>e)}function Le(e){return k((t,n)=>{Y(e).subscribe(R(n,()=>n.complete(),pi)),!n.closed&&t.subscribe(n)})}function me(e,t,n){let i=M(e)||t||n?{next:e,error:t,complete:n}:e;return i?k((r,o)=>{var s;(s=i.subscribe)===null||s===void 0||s.call(i);let a=!0;r.subscribe(R(o,l=>{var c;(c=i.next)===null||c===void 0||c.call(i,l),o.next(l)},()=>{var l;a=!1,(l=i.complete)===null||l===void 0||l.call(i),o.complete()},l=>{var c;a=!1,(c=i.error)===null||c===void 0||c.call(i,l),o.error(l)},()=>{var l,c;a&&((l=i.unsubscribe)===null||l===void 0||l.call(i)),(c=i.finalize)===null||c===void 0||c.call(i)}))}):ke}function vr(...e){let t=Nn(e);return k((n,i)=>{let r=e.length,o=new Array(r),s=e.map(()=>!1),a=!1;for(let l=0;l<r;l++)Y(e[l]).subscribe(R(i,c=>{o[l]=c,!a&&!s[l]&&(s[l]=!0,(a=s.every(ke))&&(s=null))},pi));n.subscribe(R(i,l=>{if(a){let c=[l,...o];i.next(t?t(...c):c)}}))})}var zv="https://g.co/ng/security#xss",I=class extends Error{constructor(t,n){super($l(t,n)),this.code=t}};function $l(e,t){return`${`NG0${Math.abs(e)}`}${t?": "+t:""}`}function Zo(e){return{toString:e}.toString()}var ol="__parameters__";function mI(e){return function(...n){if(e){let i=e(...n);for(let r in i)this[r]=i[r]}}}function Wv(e,t,n){return Zo(()=>{let i=mI(t);function r(...o){if(this instanceof r)return i.apply(this,o),this;let s=new r(...o);return a.annotation=s,a;function a(l,c,u){let d=l.hasOwnProperty(ol)?l[ol]:Object.defineProperty(l,ol,{value:[]})[ol];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r})}var xt=globalThis;function oe(e){for(let t in e)if(e[t]===oe)return t;throw Error("Could not find renamed property on target object.")}function _I(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function et(e){if(typeof e=="string")return e;if(Array.isArray(e))return"["+e.map(et).join(", ")+"]";if(e==null)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;let t=e.toString();if(t==null)return""+t;let n=t.indexOf(`
`);return n===-1?t:t.substring(0,n)}function Qd(e,t){return e==null||e===""?t===null?"":t:t==null||t===""?e:e+" "+t}var vI=oe({__forward_ref__:oe});function kr(e){return e.__forward_ref__=kr,e.toString=function(){return et(this())},e}function $e(e){return Kv(e)?e():e}function Kv(e){return typeof e=="function"&&e.hasOwnProperty(vI)&&e.__forward_ref__===kr}function C(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function F(e){return{providers:e.providers||[],imports:e.imports||[]}}function Hl(e){return cv(e,Yv)||cv(e,Qv)}function qv(e){return Hl(e)!==null}function cv(e,t){return e.hasOwnProperty(t)?e[t]:null}function yI(e){let t=e&&(e[Yv]||e[Qv]);return t||null}function uv(e){return e&&(e.hasOwnProperty(dv)||e.hasOwnProperty(bI))?e[dv]:null}var Yv=oe({\u0275prov:oe}),dv=oe({\u0275inj:oe}),Qv=oe({ngInjectableDef:oe}),bI=oe({ngInjectorDef:oe}),w=class{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=C({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Zv(e){return e&&!!e.\u0275providers}var wI=oe({\u0275cmp:oe}),CI=oe({\u0275dir:oe}),DI=oe({\u0275pipe:oe}),EI=oe({\u0275mod:oe}),ml=oe({\u0275fac:oe}),$o=oe({__NG_ELEMENT_ID__:oe}),hv=oe({__NG_ENV_ID__:oe});function Gl(e){return typeof e=="string"?e:e==null?"":String(e)}function II(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():Gl(e)}function TI(e,t){let n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new I(-200,e)}function qh(e,t){throw new I(-201,!1)}var $=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}($||{}),Zd;function Jv(){return Zd}function vt(e){let t=Zd;return Zd=e,t}function Xv(e,t,n){let i=Hl(e);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(n&$.Optional)return null;if(t!==void 0)return t;qh(e,"Injector")}var SI={},Go=SI,Jd="__NG_DI_FLAG__",_l="ngTempTokenPath",MI="ngTokenPath",AI=/\n/gm,NI="\u0275",fv="__source",Cr;function RI(){return Cr}function Fn(e){let t=Cr;return Cr=e,t}function OI(e,t=$.Default){if(Cr===void 0)throw new I(-203,!1);return Cr===null?Xv(e,void 0,t):Cr.get(e,t&$.Optional?null:void 0,t)}function _(e,t=$.Default){return(Jv()||OI)($e(e),t)}function g(e,t=$.Default){return _(e,zl(t))}function zl(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Xd(e){let t=[];for(let n=0;n<e.length;n++){let i=$e(e[n]);if(Array.isArray(i)){if(i.length===0)throw new I(900,!1);let r,o=$.Default;for(let s=0;s<i.length;s++){let a=i[s],l=xI(a);typeof l=="number"?l===-1?r=a.token:o|=l:r=a}t.push(_(r,o))}else t.push(_(i))}return t}function ey(e,t){return e[Jd]=t,e.prototype[Jd]=t,e}function xI(e){return e[Jd]}function kI(e,t,n,i){let r=e[_l];throw t[fv]&&r.unshift(t[fv]),e.message=PI(`
`+e.message,r,n,i),e[MI]=r,e[_l]=null,e}function PI(e,t,n,i=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==NI?e.slice(2):e;let r=et(t);if(Array.isArray(t))r=t.map(et).join(" -> ");else if(typeof t=="object"){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):et(a)))}r=`{${o.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${e.replace(AI,`
  `)}`}var Pr=ey(Wv("Optional"),8);var Yh=ey(Wv("SkipSelf"),4);function Er(e,t){let n=e.hasOwnProperty(ml);return n?e[ml]:null}function FI(e,t,n){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],o=t[i];if(n&&(r=n(r),o=n(o)),o!==r)return!1}return!0}function LI(e){return e.flat(Number.POSITIVE_INFINITY)}function Qh(e,t){e.forEach(n=>Array.isArray(n)?Qh(n,t):t(n))}function ty(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function vl(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function VI(e,t){let n=[];for(let i=0;i<e;i++)n.push(t);return n}function jI(e,t,n,i){let r=e.length;if(r==t)e.push(n,i);else if(r===1)e.push(i,e[0]),e[0]=n;else{for(r--,e.push(e[r-1],e[r]);r>t;){let o=r-2;e[r]=e[o],r--}e[t]=n,e[t+1]=i}}function Zh(e,t,n){let i=Jo(e,t);return i>=0?e[i|1]=n:(i=~i,jI(e,i,t,n)),i}function Ld(e,t){let n=Jo(e,t);if(n>=0)return e[n|1]}function Jo(e,t){return BI(e,t,1)}function BI(e,t,n){let i=0,r=e.length>>n;for(;r!==i;){let o=i+(r-i>>1),s=e[o<<n];if(t===s)return o<<n;s>t?r=o:i=o+1}return~(r<<n)}var Ir={},Xe=[],Tr=new w(""),ny=new w("",-1),iy=new w(""),yl=class{get(t,n=Go){if(n===Go){let i=new Error(`NullInjectorError: No provider for ${et(t)}!`);throw i.name="NullInjectorError",i}return n}},ry=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(ry||{}),zt=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(zt||{}),jn=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(jn||{});function UI(e,t,n){let i=e.length;for(;;){let r=e.indexOf(t,n);if(r===-1)return r;if(r===0||e.charCodeAt(r-1)<=32){let o=t.length;if(r+o===i||e.charCodeAt(r+o)<=32)return r}n=r+1}}function eh(e,t,n){let i=0;for(;i<n.length;){let r=n[i];if(typeof r=="number"){if(r!==0)break;i++;let o=n[i++],s=n[i++],a=n[i++];e.setAttribute(t,s,a,o)}else{let o=r,s=n[++i];$I(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),i++}}return i}function oy(e){return e===3||e===4||e===6}function $I(e){return e.charCodeAt(0)===64}function zo(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let i=0;i<t.length;i++){let r=t[i];typeof r=="number"?n=r:n===0||(n===-1||n===2?pv(e,n,r,null,t[++i]):pv(e,n,r,null,null))}}return e}function pv(e,t,n,i,r){let o=0,s=e.length;if(t===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===n){if(i===null){r!==null&&(e[o+1]=r);return}else if(i===e[o+1]){e[o+2]=r;return}}o++,i!==null&&o++,r!==null&&o++}s!==-1&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),i!==null&&e.splice(o++,0,i),r!==null&&e.splice(o++,0,r)}var sy="ng-template";function HI(e,t,n,i){let r=0;if(i){for(;r<t.length&&typeof t[r]=="string";r+=2)if(t[r]==="class"&&UI(t[r+1].toLowerCase(),n,0)!==-1)return!0}else if(Jh(e))return!1;if(r=t.indexOf(1,r),r>-1){let o;for(;++r<t.length&&typeof(o=t[r])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Jh(e){return e.type===4&&e.value!==sy}function GI(e,t,n){let i=e.type===4&&!n?sy:e.value;return t===i}function zI(e,t,n){let i=4,r=e.attrs,o=r!==null?qI(r):0,s=!1;for(let a=0;a<t.length;a++){let l=t[a];if(typeof l=="number"){if(!s&&!Nt(i)&&!Nt(l))return!1;if(s&&Nt(l))continue;s=!1,i=l|i&1;continue}if(!s)if(i&4){if(i=2|i&1,l!==""&&!GI(e,l,n)||l===""&&t.length===1){if(Nt(i))return!1;s=!0}}else if(i&8){if(r===null||!HI(e,r,l,n)){if(Nt(i))return!1;s=!0}}else{let c=t[++a],u=WI(l,r,Jh(e),n);if(u===-1){if(Nt(i))return!1;s=!0;continue}if(c!==""){let d;if(u>o?d="":d=r[u+1].toLowerCase(),i&2&&c!==d){if(Nt(i))return!1;s=!0}}}}return Nt(i)||s}function Nt(e){return(e&1)===0}function WI(e,t,n,i){if(t===null)return-1;let r=0;if(i||!n){let o=!1;for(;r<t.length;){let s=t[r];if(s===e)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=t[++r];for(;typeof a=="string";)a=t[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return YI(t,e)}function ay(e,t,n=!1){for(let i=0;i<t.length;i++)if(zI(e,t[i],n))return!0;return!1}function KI(e){let t=e.attrs;if(t!=null){let n=t.indexOf(5);if(!(n&1))return t[n+1]}return null}function qI(e){for(let t=0;t<e.length;t++){let n=e[t];if(oy(n))return t}return e.length}function YI(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let i=e[n];if(typeof i=="number")return-1;if(i===t)return n;n++}return-1}function QI(e,t){e:for(let n=0;n<t.length;n++){let i=t[n];if(e.length===i.length){for(let r=0;r<e.length;r++)if(e[r]!==i[r])continue e;return!0}}return!1}function gv(e,t){return e?":not("+t.trim()+")":t}function ZI(e){let t=e[0],n=1,i=2,r="",o=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(i&2){let a=e[++n];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!Nt(s)&&(t+=gv(o,r),r=""),i=s,o=o||!Nt(i);n++}return r!==""&&(t+=gv(o,r)),t}function JI(e){return e.map(ZI).join(",")}function XI(e){let t=[],n=[],i=1,r=2;for(;i<e.length;){let o=e[i];if(typeof o=="string")r===2?o!==""&&t.push(o,e[++i]):r===8&&n.push(o);else{if(!Nt(r))break;r=o}i++}return{attrs:t,classes:n}}function ot(e){return Zo(()=>{let t=hy(e),n=U(y({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===ry.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||zt.Emulated,styles:e.styles||Xe,_:null,schemas:e.schemas||null,tView:null,id:""});fy(n);let i=e.dependencies;return n.directiveDefs=_v(i,!1),n.pipeDefs=_v(i,!0),n.id=nT(n),n})}function eT(e){return dn(e)||ly(e)}function tT(e){return e!==null}function L(e){return Zo(()=>({type:e.type,bootstrap:e.bootstrap||Xe,declarations:e.declarations||Xe,imports:e.imports||Xe,exports:e.exports||Xe,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function mv(e,t){if(e==null)return Ir;let n={};for(let i in e)if(e.hasOwnProperty(i)){let r=e[i],o,s,a=jn.None;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o):(o=r,s=r),t?(n[o]=a!==jn.None?[i,a]:i,t[o]=s):n[o]=i}return n}function st(e){return Zo(()=>{let t=hy(e);return fy(t),t})}function dn(e){return e[wI]||null}function ly(e){return e[CI]||null}function cy(e){return e[DI]||null}function uy(e){let t=dn(e)||ly(e)||cy(e);return t!==null?t.standalone:!1}function dy(e,t){let n=e[EI]||null;if(!n&&t===!0)throw new Error(`Type ${et(e)} does not have '\u0275mod' property.`);return n}function hy(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||Ir,exportAs:e.exportAs||null,standalone:e.standalone===!0,signals:e.signals===!0,selectors:e.selectors||Xe,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:mv(e.inputs,t),outputs:mv(e.outputs),debugInfo:null}}function fy(e){e.features?.forEach(t=>t(e))}function _v(e,t){if(!e)return null;let n=t?cy:eT;return()=>(typeof e=="function"?e():e).map(i=>n(i)).filter(tT)}function nT(e){let t=0,n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(let r of n)t=Math.imul(31,t)+r.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function Wl(e){return{\u0275providers:e}}function iT(...e){return{\u0275providers:py(!0,e),\u0275fromNgModule:!0}}function py(e,...t){let n=[],i=new Set,r,o=s=>{n.push(s)};return Qh(t,s=>{let a=s;th(a,o,[],i)&&(r||=[],r.push(a))}),r!==void 0&&gy(r,o),n}function gy(e,t){for(let n=0;n<e.length;n++){let{ngModule:i,providers:r}=e[n];Xh(r,o=>{t(o,i)})}}function th(e,t,n,i){if(e=$e(e),!e)return!1;let r=null,o=uv(e),s=!o&&dn(e);if(!o&&!s){let l=e.ngModule;if(o=uv(l),o)r=l;else return!1}else{if(s&&!s.standalone)return!1;r=e}let a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)th(c,t,n,i)}}else if(o){if(o.imports!=null&&!a){i.add(r);let c;try{Qh(o.imports,u=>{th(u,t,n,i)&&(c||=[],c.push(u))})}finally{}c!==void 0&&gy(c,t)}if(!a){let c=Er(r)||(()=>new r);t({provide:r,useFactory:c,deps:Xe},r),t({provide:iy,useValue:r,multi:!0},r),t({provide:Tr,useValue:()=>_(r),multi:!0},r)}let l=o.providers;if(l!=null&&!a){let c=e;Xh(l,u=>{t(u,c)})}}else return!1;return r!==e&&e.providers!==void 0}function Xh(e,t){for(let n of e)Zv(n)&&(n=n.\u0275providers),Array.isArray(n)?Xh(n,t):t(n)}var rT=oe({provide:String,useValue:oe});function my(e){return e!==null&&typeof e=="object"&&rT in e}function oT(e){return!!(e&&e.useExisting)}function sT(e){return!!(e&&e.useFactory)}function Sr(e){return typeof e=="function"}function aT(e){return!!e.useClass}var Kl=new w(""),dl={},lT={},Vd;function ql(){return Vd===void 0&&(Vd=new yl),Vd}var Ae=class{},Wo=class extends Ae{get destroyed(){return this._destroyed}constructor(t,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ih(t,s=>this.processProvider(s)),this.records.set(ny,yr(void 0,this)),r.has("environment")&&this.records.set(Ae,yr(void 0,this));let o=this.records.get(Kl);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(iy,Xe,$.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let t=Q(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Q(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();let n=Fn(this),i=vt(void 0),r;try{return t()}finally{Fn(n),vt(i)}}get(t,n=Go,i=$.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(hv))return t[hv](this);i=zl(i);let r,o=Fn(this),s=vt(void 0);try{if(!(i&$.SkipSelf)){let l=this.records.get(t);if(l===void 0){let c=fT(t)&&Hl(t);c&&this.injectableDefInScope(c)?l=yr(nh(t),dl):l=null,this.records.set(t,l)}if(l!=null)return this.hydrate(t,l)}let a=i&$.Self?ql():this.parent;return n=i&$.Optional&&n===Go?null:n,a.get(t,n)}catch(a){if(a.name==="NullInjectorError"){if((a[_l]=a[_l]||[]).unshift(et(t)),o)throw a;return kI(a,t,"R3InjectorError",this.source)}else throw a}finally{vt(s),Fn(o)}}resolveInjectorInitializers(){let t=Q(null),n=Fn(this),i=vt(void 0),r;try{let o=this.get(Tr,Xe,$.Self);for(let s of o)s()}finally{Fn(n),vt(i),Q(t)}}toString(){let t=[],n=this.records;for(let i of n.keys())t.push(et(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new I(205,!1)}processProvider(t){t=$e(t);let n=Sr(t)?t:$e(t&&t.provide),i=uT(t);if(!Sr(t)&&t.multi===!0){let r=this.records.get(n);r||(r=yr(void 0,dl,!0),r.factory=()=>Xd(r.multi),this.records.set(n,r)),n=t,r.multi.push(t)}this.records.set(n,i)}hydrate(t,n){let i=Q(null);try{return n.value===dl&&(n.value=lT,n.value=n.factory()),typeof n.value=="object"&&n.value&&hT(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Q(i)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=$e(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function nh(e){let t=Hl(e),n=t!==null?t.factory:Er(e);if(n!==null)return n;if(e instanceof w)throw new I(204,!1);if(e instanceof Function)return cT(e);throw new I(204,!1)}function cT(e){if(e.length>0)throw new I(204,!1);let n=yI(e);return n!==null?()=>n.factory(e):()=>new e}function uT(e){if(my(e))return yr(void 0,e.useValue);{let t=_y(e);return yr(t,dl)}}function _y(e,t,n){let i;if(Sr(e)){let r=$e(e);return Er(r)||nh(r)}else if(my(e))i=()=>$e(e.useValue);else if(sT(e))i=()=>e.useFactory(...Xd(e.deps||[]));else if(oT(e))i=()=>_($e(e.useExisting));else{let r=$e(e&&(e.useClass||e.provide));if(dT(e))i=()=>new r(...Xd(e.deps));else return Er(r)||nh(r)}return i}function yr(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function dT(e){return!!e.deps}function hT(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function fT(e){return typeof e=="function"||typeof e=="object"&&e instanceof w}function ih(e,t){for(let n of e)Array.isArray(n)?ih(n,t):n&&Zv(n)?ih(n.\u0275providers,t):t(n)}function wt(e,t){e instanceof Wo&&e.assertNotDestroyed();let n,i=Fn(e),r=vt(void 0);try{return t()}finally{Fn(i),vt(r)}}function vy(){return Jv()!==void 0||RI()!=null}function pT(e){if(!vy())throw new I(-203,!1)}function gT(e){let t=xt.ng;if(t&&t.\u0275compilerFacade)return t.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function mT(e){return typeof e=="function"}var mn=0,B=1,O=2,Ve=3,Ot=4,tt=5,Ko=6,bl=7,kt=8,Mr=9,Wt=10,ve=11,qo=12,vv=13,Fr=14,bt=15,yi=16,br=17,hn=18,Yl=19,yy=20,Ln=21,jd=22,yt=23,Kt=25,by=1;var bi=7,wl=8,Ar=9,rt=10,Cl=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(Cl||{});function Vn(e){return Array.isArray(e)&&typeof e[by]=="object"}function _n(e){return Array.isArray(e)&&e[by]===!0}function wy(e){return(e.flags&4)!==0}function Ql(e){return e.componentOffset>-1}function ef(e){return(e.flags&1)===1}function Bn(e){return!!e.template}function rh(e){return(e[O]&512)!==0}var oh=class{constructor(t,n,i){this.previousValue=t,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}};function Cy(e,t,n,i){t!==null?t.applyValueToInputSignal(t,i):e[n]=i}function Hn(){return Dy}function Dy(e){return e.type.prototype.ngOnChanges&&(e.setInput=vT),_T}Hn.ngInherit=!0;function _T(){let e=Iy(this),t=e?.current;if(t){let n=e.previous;if(n===Ir)e.previous=t;else for(let i in t)n[i]=t[i];e.current=null,this.ngOnChanges(t)}}function vT(e,t,n,i,r){let o=this.declaredInputs[i],s=Iy(e)||yT(e,{previous:Ir,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new oh(c&&c.currentValue,n,l===Ir),Cy(e,t,r,n)}var Ey="__ngSimpleChanges__";function Iy(e){return e[Ey]||null}function yT(e,t){return e[Ey]=t}var yv=null;var Ht=function(e,t,n){yv?.(e,t,n)},bT="svg",wT="math";function qt(e){for(;Array.isArray(e);)e=e[mn];return e}function Ty(e,t){return qt(t[e])}function Ct(e,t){return qt(t[e.index])}function Sy(e,t){return e.data[t]}function Gn(e,t){let n=t[e];return Vn(n)?n:n[mn]}function CT(e){return(e[O]&4)===4}function tf(e){return(e[O]&128)===128}function DT(e){return _n(e[Ve])}function Dl(e,t){return t==null?null:e[t]}function My(e){e[br]=0}function Ay(e){e[O]&1024||(e[O]|=1024,tf(e)&&Jl(e))}function ET(e,t){for(;e>0;)t=t[Fr],e--;return t}function Zl(e){return!!(e[O]&9216||e[yt]?.dirty)}function sh(e){e[Wt].changeDetectionScheduler?.notify(8),e[O]&64&&(e[O]|=1024),Zl(e)&&Jl(e)}function Jl(e){e[Wt].changeDetectionScheduler?.notify(0);let t=wi(e);for(;t!==null&&!(t[O]&8192||(t[O]|=8192,!tf(t)));)t=wi(t)}function Ny(e,t){if((e[O]&256)===256)throw new I(911,!1);e[Ln]===null&&(e[Ln]=[]),e[Ln].push(t)}function IT(e,t){if(e[Ln]===null)return;let n=e[Ln].indexOf(t);n!==-1&&e[Ln].splice(n,1)}function wi(e){let t=e[Ve];return _n(t)?t[Ve]:t}var W={lFrame:$y(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Ry=!1;function TT(){return W.lFrame.elementDepthCount}function ST(){W.lFrame.elementDepthCount++}function MT(){W.lFrame.elementDepthCount--}function Oy(){return W.bindingsEnabled}function xy(){return W.skipHydrationRootTNode!==null}function AT(e){return W.skipHydrationRootTNode===e}function NT(){W.skipHydrationRootTNode=null}function X(){return W.lFrame.lView}function Pe(){return W.lFrame.tView}function Ai(e){return W.lFrame.contextLView=e,e[kt]}function Ni(e){return W.lFrame.contextLView=null,e}function He(){let e=ky();for(;e!==null&&e.type===64;)e=e.parent;return e}function ky(){return W.lFrame.currentTNode}function RT(){let e=W.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function Xo(e,t){let n=W.lFrame;n.currentTNode=e,n.isParent=t}function Py(){return W.lFrame.isParent}function Fy(){W.lFrame.isParent=!1}function Ly(){return Ry}function bv(e){Ry=e}function OT(e){return W.lFrame.bindingIndex=e}function Xl(){return W.lFrame.bindingIndex++}function Vy(e){let t=W.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function xT(){return W.lFrame.inI18n}function kT(e,t){let n=W.lFrame;n.bindingIndex=n.bindingRootIndex=e,ah(t)}function PT(){return W.lFrame.currentDirectiveIndex}function ah(e){W.lFrame.currentDirectiveIndex=e}function FT(e){let t=W.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function jy(){return W.lFrame.currentQueryIndex}function nf(e){W.lFrame.currentQueryIndex=e}function LT(e){let t=e[B];return t.type===2?t.declTNode:t.type===1?e[tt]:null}function By(e,t,n){if(n&$.SkipSelf){let r=t,o=e;for(;r=r.parent,r===null&&!(n&$.Host);)if(r=LT(o),r===null||(o=o[Fr],r.type&10))break;if(r===null)return!1;t=r,e=o}let i=W.lFrame=Uy();return i.currentTNode=t,i.lView=e,!0}function rf(e){let t=Uy(),n=e[B];W.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Uy(){let e=W.lFrame,t=e===null?null:e.child;return t===null?$y(e):t}function $y(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function Hy(){let e=W.lFrame;return W.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var Gy=Hy;function of(){let e=Hy();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function VT(e){return(W.lFrame.contextLView=ET(e,W.lFrame.contextLView))[kt]}function Ri(){return W.lFrame.selectedIndex}function Ci(e){W.lFrame.selectedIndex=e}function sf(){let e=W.lFrame;return Sy(e.tView,e.selectedIndex)}function jT(){return W.lFrame.currentNamespace}var zy=!0;function af(){return zy}function lf(e){zy=e}function BT(e,t,n){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=t.type.prototype;if(i){let s=Dy(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}r&&(n.preOrderHooks??=[]).push(0-e,r),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}function cf(e,t){for(let n=t.directiveStart,i=t.directiveEnd;n<i;n++){let o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),l&&(e.viewHooks??=[]).push(-n,l),c&&((e.viewHooks??=[]).push(n,c),(e.viewCheckHooks??=[]).push(n,c)),u!=null&&(e.destroyHooks??=[]).push(n,u)}}function hl(e,t,n){Wy(e,t,3,n)}function fl(e,t,n,i){(e[O]&3)===n&&Wy(e,t,n,i)}function Bd(e,t){let n=e[O];(n&3)===t&&(n&=16383,n+=1,e[O]=n)}function Wy(e,t,n,i){let r=i!==void 0?e[br]&65535:0,o=i??-1,s=t.length-1,a=0;for(let l=r;l<s;l++)if(typeof t[l+1]=="number"){if(a=t[l],i!=null&&a>=i)break}else t[l]<0&&(e[br]+=65536),(a<o||o==-1)&&(UT(e,n,t,l),e[br]=(e[br]&4294901760)+l+2),l++}function wv(e,t){Ht(4,e,t);let n=Q(null);try{t.call(e)}finally{Q(n),Ht(5,e,t)}}function UT(e,t,n,i){let r=n[i]<0,o=n[i+1],s=r?-n[i]:n[i],a=e[s];r?e[O]>>14<e[br]>>16&&(e[O]&3)===t&&(e[O]+=16384,wv(a,o)):wv(a,o)}var Dr=-1,Di=class{constructor(t,n,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}};function $T(e){return e instanceof Di}function HT(e){return(e.flags&8)!==0}function GT(e){return(e.flags&16)!==0}var Ud={},lh=class{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,i){i=zl(i);let r=this.injector.get(t,Ud,i);return r!==Ud||n===Ud?r:this.parentInjector.get(t,n,i)}};function Ky(e){return e!==Dr}function El(e){return e&32767}function zT(e){return e>>16}function Il(e,t){let n=zT(e),i=t;for(;n>0;)i=i[Fr],n--;return i}var ch=!0;function Cv(e){let t=ch;return ch=e,t}var WT=256,qy=WT-1,Yy=5,KT=0,Gt={};function qT(e,t,n){let i;typeof n=="string"?i=n.charCodeAt(0)||0:n.hasOwnProperty($o)&&(i=n[$o]),i==null&&(i=n[$o]=KT++);let r=i&qy,o=1<<r;t.data[e+(r>>Yy)]|=o}function Tl(e,t){let n=Qy(e,t);if(n!==-1)return n;let i=t[B];i.firstCreatePass&&(e.injectorIndex=t.length,$d(i.data,e),$d(t,null),$d(i.blueprint,null));let r=uf(e,t),o=e.injectorIndex;if(Ky(r)){let s=El(r),a=Il(r,t),l=a[B].data;for(let c=0;c<8;c++)t[o+c]=a[s+c]|l[s+c]}return t[o+8]=r,o}function $d(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Qy(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function uf(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,i=null,r=t;for(;r!==null;){if(i=t0(r),i===null)return Dr;if(n++,r=r[Fr],i.injectorIndex!==-1)return i.injectorIndex|n<<16}return Dr}function uh(e,t,n){qT(e,t,n)}function YT(e,t){if(t==="class")return e.classes;if(t==="style")return e.styles;let n=e.attrs;if(n){let i=n.length,r=0;for(;r<i;){let o=n[r];if(oy(o))break;if(o===0)r=r+2;else if(typeof o=="number")for(r++;r<i&&typeof n[r]=="string";)r++;else{if(o===t)return n[r+1];r=r+2}}}return null}function Zy(e,t,n){if(n&$.Optional||e!==void 0)return e;qh(t,"NodeInjector")}function Jy(e,t,n,i){if(n&$.Optional&&i===void 0&&(i=null),!(n&($.Self|$.Host))){let r=e[Mr],o=vt(void 0);try{return r?r.get(t,i,n&$.Optional):Xv(t,i,n&$.Optional)}finally{vt(o)}}return Zy(i,t,n)}function Xy(e,t,n,i=$.Default,r){if(e!==null){if(t[O]&2048&&!(i&$.Self)){let s=XT(e,t,n,i,Gt);if(s!==Gt)return s}let o=e0(e,t,n,i,Gt);if(o!==Gt)return o}return Jy(t,n,i,r)}function e0(e,t,n,i,r){let o=ZT(n);if(typeof o=="function"){if(!By(t,e,i))return i&$.Host?Zy(r,n,i):Jy(t,n,i,r);try{let s;if(s=o(i),s==null&&!(i&$.Optional))qh(n);else return s}finally{Gy()}}else if(typeof o=="number"){let s=null,a=Qy(e,t),l=Dr,c=i&$.Host?t[bt][tt]:null;for((a===-1||i&$.SkipSelf)&&(l=a===-1?uf(e,t):t[a+8],l===Dr||!Ev(i,!1)?a=-1:(s=t[B],a=El(l),t=Il(l,t)));a!==-1;){let u=t[B];if(Dv(o,a,u.data)){let d=QT(a,t,n,s,i,c);if(d!==Gt)return d}l=t[a+8],l!==Dr&&Ev(i,t[B].data[a+8]===c)&&Dv(o,a,t)?(s=u,a=El(l),t=Il(l,t)):a=-1}}return r}function QT(e,t,n,i,r,o){let s=t[B],a=s.data[e+8],l=i==null?Ql(a)&&ch:i!=s&&(a.type&3)!==0,c=r&$.Host&&o===a,u=pl(a,s,n,l,c);return u!==null?Ei(t,s,u,a):Gt}function pl(e,t,n,i,r){let o=e.providerIndexes,s=t.data,a=o&1048575,l=e.directiveStart,c=e.directiveEnd,u=o>>20,d=i?a:a+u,h=r?a+u:c;for(let f=d;f<h;f++){let p=s[f];if(f<l&&n===p||f>=l&&p.type===n)return f}if(r){let f=s[l];if(f&&Bn(f)&&f.type===n)return l}return null}function Ei(e,t,n,i){let r=e[n],o=t.data;if($T(r)){let s=r;s.resolving&&TI(II(o[n]));let a=Cv(s.canSeeViewProviders);s.resolving=!0;let l,c=s.injectImpl?vt(s.injectImpl):null,u=By(e,i,$.Default);try{r=e[n]=s.factory(void 0,o,e,i),t.firstCreatePass&&n>=i.directiveStart&&BT(n,o[n],t)}finally{c!==null&&vt(c),Cv(a),s.resolving=!1,Gy()}}return r}function ZT(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty($o)?e[$o]:void 0;return typeof t=="number"?t>=0?t&qy:JT:t}function Dv(e,t,n){let i=1<<e;return!!(n[t+(e>>Yy)]&i)}function Ev(e,t){return!(e&$.Self)&&!(e&$.Host&&t)}var vi=class{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,i){return Xy(this._tNode,this._lView,t,zl(i),n)}};function JT(){return new vi(He(),X())}function Lr(e){return Zo(()=>{let t=e.prototype.constructor,n=t[ml]||dh(t),i=Object.prototype,r=Object.getPrototypeOf(e.prototype).constructor;for(;r&&r!==i;){let o=r[ml]||dh(r);if(o&&o!==n)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function dh(e){return Kv(e)?()=>{let t=dh($e(e));return t&&t()}:Er(e)}function XT(e,t,n,i,r){let o=e,s=t;for(;o!==null&&s!==null&&s[O]&2048&&!(s[O]&512);){let a=e0(o,s,n,i|$.Self,Gt);if(a!==Gt)return a;let l=o.parent;if(!l){let c=s[yy];if(c){let u=c.get(n,Gt,i);if(u!==Gt)return u}l=t0(s),s=s[Fr]}o=l}return r}function t0(e){let t=e[B],n=t.type;return n===2?t.declTNode:n===1?e[tt]:null}function ec(e){return YT(He(),e)}function Iv(e,t=null,n=null,i){let r=n0(e,t,n,i);return r.resolveInjectorInitializers(),r}function n0(e,t=null,n=null,i,r=new Set){let o=[n||Xe,iT(e)];return i=i||(typeof e=="object"?void 0:et(e)),new Wo(o,t||ql(),i||null,r)}var Te=class e{static{this.THROW_IF_NOT_FOUND=Go}static{this.NULL=new yl}static create(t,n){if(Array.isArray(t))return Iv({name:""},n,t,"");{let i=t.name??"";return Iv({name:i},t.parent,t.providers,i)}}static{this.\u0275prov=C({token:e,providedIn:"any",factory:()=>_(ny)})}static{this.__NG_ELEMENT_ID__=-1}};var eS=new w("");eS.__NG_ELEMENT_ID__=e=>{let t=He();if(t===null)throw new I(204,!1);if(t.type&2)return t.value;if(e&$.Optional)return null;throw new I(204,!1)};var tS="ngOriginalError";function Hd(e){return e[tS]}var i0=!0,tc=(()=>{class e{static{this.__NG_ELEMENT_ID__=nS}static{this.__NG_ENV_ID__=n=>n}}return e})(),hh=class extends tc{constructor(t){super(),this._lView=t}onDestroy(t){return Ny(this._lView,t),()=>IT(this._lView,t)}};function nS(){return new hh(X())}var zn=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new be(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=C({token:e,providedIn:"root",factory:()=>new e})}}return e})();var fh=class extends q{constructor(t=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=t,vy()&&(this.destroyRef=g(tc,{optional:!0})??void 0,this.pendingTasks=g(zn,{optional:!0})??void 0)}emit(t){let n=Q(null);try{super.next(t)}finally{Q(n)}}subscribe(t,n,i){let r=t,o=n||(()=>null),s=i;if(t&&typeof t=="object"){let l=t;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),r&&(r=this.wrapInTimeout(r)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:r,error:o,complete:s});return t instanceof ge&&t.add(a),a}wrapInTimeout(t){return n=>{let i=this.pendingTasks?.add();setTimeout(()=>{t(n),i!==void 0&&this.pendingTasks?.remove(i)})}}},le=fh;function Sl(...e){}function r0(e){let t,n;function i(){e=Sl;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),i()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),i()})),()=>i()}function Tv(e){return queueMicrotask(()=>e()),()=>{e=Sl}}var df="isAngularZone",Ml=df+"_ID",iS=0,P=class e{constructor(t){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new le(!1),this.onMicrotaskEmpty=new le(!1),this.onStable=new le(!1),this.onError=new le(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:o=i0}=t;if(typeof Zone>"u")throw new I(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&i,s.shouldCoalesceRunChangeDetection=r,s.callbackScheduled=!1,s.scheduleInRootZone=o,sS(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(df)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new I(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new I(909,!1)}run(t,n,i){return this._inner.run(t,n,i)}runTask(t,n,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,t,rS,Sl,Sl);try{return o.runTask(s,n,i)}finally{o.cancelTask(s)}}runGuarded(t,n,i){return this._inner.runGuarded(t,n,i)}runOutsideAngular(t){return this._outer.run(t)}},rS={};function hf(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function oS(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){r0(()=>{e.callbackScheduled=!1,ph(e),e.isCheckStableRunning=!0,hf(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),ph(e)}function sS(e){let t=()=>{oS(e)},n=iS++;e._inner=e._inner.fork({name:"angular",properties:{[df]:!0,[Ml]:n,[Ml+n]:!0},onInvokeTask:(i,r,o,s,a,l)=>{if(aS(l))return i.invokeTask(o,s,a,l);try{return Sv(e),i.invokeTask(o,s,a,l)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),Mv(e)}},onInvoke:(i,r,o,s,a,l,c)=>{try{return Sv(e),i.invoke(o,s,a,l,c)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!lS(l)&&t(),Mv(e)}},onHasTask:(i,r,o,s)=>{i.hasTask(o,s),r===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,ph(e),hf(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(i,r,o,s)=>(i.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function ph(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function Sv(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Mv(e){e._nesting--,hf(e)}var Al=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new le,this.onMicrotaskEmpty=new le,this.onStable=new le,this.onError=new le}run(t,n,i){return t.apply(n,i)}runGuarded(t,n,i){return t.apply(n,i)}runOutsideAngular(t){return t()}runTask(t,n,i,r){return t.apply(n,i)}};function aS(e){return o0(e,"__ignore_ng_zone__")}function lS(e){return o0(e,"__scheduler_tick__")}function o0(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}function cS(e="zone.js",t){return e==="noop"?new Al:e==="zone.js"?new P(t):e}var fn=class{constructor(){this._console=console}handleError(t){let n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&Hd(t);for(;n&&Hd(n);)n=Hd(n);return n||null}},uS=new w("",{providedIn:"root",factory:()=>{let e=g(P),t=g(fn);return n=>e.runOutsideAngular(()=>t.handleError(n))}});function dS(){return Vr(He(),X())}function Vr(e,t){return new Ge(Ct(e,t))}var Ge=(()=>{class e{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=dS}}return e})();function hS(e){return e instanceof Ge?e.nativeElement:e}function fS(){return this._results[Symbol.iterator]()}var gh=class e{get changes(){return this._changes??=new le}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=e.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=fS)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;let i=LI(t);(this._changesDetected=!FI(this._results,i,n))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function s0(e){return(e.flags&128)===128}var a0=new Map,pS=0;function gS(){return pS++}function mS(e){a0.set(e[Yl],e)}function mh(e){a0.delete(e[Yl])}var Av="__ngContext__";function Ii(e,t){Vn(t)?(e[Av]=t[Yl],mS(t)):e[Av]=t}function l0(e){return u0(e[qo])}function c0(e){return u0(e[Ot])}function u0(e){for(;e!==null&&!_n(e);)e=e[Ot];return e}var _h;function d0(e){_h=e}function _S(){if(_h!==void 0)return _h;if(typeof document<"u")return document;throw new I(210,!1)}var nc=new w("",{providedIn:"root",factory:()=>vS}),vS="ng",ff=new w(""),Fe=new w("",{providedIn:"platform",factory:()=>"unknown"});var pf=new w("",{providedIn:"root",factory:()=>_S().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var yS="h",bS="b";var wS=()=>null;function gf(e,t,n=!1){return wS(e,t,n)}var h0=!1,CS=new w("",{providedIn:"root",factory:()=>h0});var sl;function DS(){if(sl===void 0&&(sl=null,xt.trustedTypes))try{sl=xt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return sl}function Nv(e){return DS()?.createScriptURL(e)||e}var Nl=class{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${zv})`}};function jr(e){return e instanceof Nl?e.changingThisBreaksApplicationSecurity:e}function mf(e,t){let n=ES(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${zv})`)}return n===t}function ES(e){return e instanceof Nl&&e.getTypeName()||null}var IS=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function f0(e){return e=String(e),e.match(IS)?e:"unsafe:"+e}var ic=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(ic||{});function TS(e){let t=g0();return t?t.sanitize(ic.URL,e)||"":mf(e,"URL")?jr(e):f0(Gl(e))}function SS(e){let t=g0();if(t)return Nv(t.sanitize(ic.RESOURCE_URL,e)||"");if(mf(e,"ResourceURL"))return Nv(jr(e));throw new I(904,!1)}function MS(e,t){return t==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||t==="href"&&(e==="base"||e==="link")?SS:TS}function p0(e,t,n){return MS(t,n)(e)}function g0(){let e=X();return e&&e[Wt].sanitizer}function m0(e){return e instanceof Function?e():e}function AS(e){return(e??g(Te)).get(Fe)==="browser"}var pn=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(pn||{}),NS;function _f(e,t){return NS(e,t)}function wr(e,t,n,i,r){if(i!=null){let o,s=!1;_n(i)?o=i:Vn(i)&&(s=!0,i=i[mn]);let a=qt(i);e===0&&n!==null?r==null?C0(t,n,a):Rl(t,n,a,r||null,!0):e===1&&n!==null?Rl(t,n,a,r||null,!0):e===2?HS(t,a,s):e===3&&t.destroyNode(a),o!=null&&zS(t,e,o,n,r)}}function RS(e,t){return e.createText(t)}function OS(e,t,n){e.setValue(t,n)}function _0(e,t,n){return e.createElement(t,n)}function xS(e,t){v0(e,t),t[mn]=null,t[tt]=null}function kS(e,t,n,i,r,o){i[mn]=r,i[tt]=t,rc(e,i,n,1,r,o)}function v0(e,t){t[Wt].changeDetectionScheduler?.notify(9),rc(e,t,t[ve],2,null,null)}function PS(e){let t=e[qo];if(!t)return Gd(e[B],e);for(;t;){let n=null;if(Vn(t))n=t[qo];else{let i=t[rt];i&&(n=i)}if(!n){for(;t&&!t[Ot]&&t!==e;)Vn(t)&&Gd(t[B],t),t=t[Ve];t===null&&(t=e),Vn(t)&&Gd(t[B],t),n=t&&t[Ot]}t=n}}function FS(e,t,n,i){let r=rt+i,o=n.length;i>0&&(n[r-1][Ot]=t),i<o-rt?(t[Ot]=n[r],ty(n,rt+i,t)):(n.push(t),t[Ot]=null),t[Ve]=n;let s=t[yi];s!==null&&n!==s&&y0(s,t);let a=t[hn];a!==null&&a.insertView(e),sh(t),t[O]|=128}function y0(e,t){let n=e[Ar],i=t[Ve];if(Vn(i))e[O]|=Cl.HasTransplantedViews;else{let r=i[Ve][bt];t[bt]!==r&&(e[O]|=Cl.HasTransplantedViews)}n===null?e[Ar]=[t]:n.push(t)}function vf(e,t){let n=e[Ar],i=n.indexOf(t);n.splice(i,1)}function vh(e,t){if(e.length<=rt)return;let n=rt+t,i=e[n];if(i){let r=i[yi];r!==null&&r!==e&&vf(r,i),t>0&&(e[n-1][Ot]=i[Ot]);let o=vl(e,rt+t);xS(i[B],i);let s=o[hn];s!==null&&s.detachView(o[B]),i[Ve]=null,i[Ot]=null,i[O]&=-129}return i}function b0(e,t){if(!(t[O]&256)){let n=t[ve];n.destroyNode&&rc(e,t,n,3,null,null),PS(t)}}function Gd(e,t){if(t[O]&256)return;let n=Q(null);try{t[O]&=-129,t[O]|=256,t[yt]&&pd(t[yt]),VS(e,t),LS(e,t),t[B].type===1&&t[ve].destroy();let i=t[yi];if(i!==null&&_n(t[Ve])){i!==t[Ve]&&vf(i,t);let r=t[hn];r!==null&&r.detachView(e)}mh(t)}finally{Q(n)}}function LS(e,t){let n=e.cleanup,i=t[bl];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else{let s=i[n[o+1]];n[o].call(s)}i!==null&&(t[bl]=null);let r=t[Ln];if(r!==null){t[Ln]=null;for(let o=0;o<r.length;o++){let s=r[o];s()}}}function VS(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let i=0;i<n.length;i+=2){let r=t[n[i]];if(!(r instanceof Di)){let o=n[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],l=o[s+1];Ht(4,a,l);try{l.call(a)}finally{Ht(5,a,l)}}else{Ht(4,r,o);try{o.call(r)}finally{Ht(5,r,o)}}}}}function w0(e,t,n){return jS(e,t.parent,n)}function jS(e,t,n){let i=t;for(;i!==null&&i.type&168;)t=i,i=t.parent;if(i===null)return n[mn];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:o}=e.data[i.directiveStart+r];if(o===zt.None||o===zt.Emulated)return null}return Ct(i,n)}}function Rl(e,t,n,i,r){e.insertBefore(t,n,i,r)}function C0(e,t,n){e.appendChild(t,n)}function Rv(e,t,n,i,r){i!==null?Rl(e,t,n,i,r):C0(e,t,n)}function D0(e,t){return e.parentNode(t)}function BS(e,t){return e.nextSibling(t)}function E0(e,t,n){return $S(e,t,n)}function US(e,t,n){return e.type&40?Ct(e,n):null}var $S=US,Ov;function yf(e,t,n,i){let r=w0(e,i,t),o=t[ve],s=i.parent||t[tt],a=E0(s,i,t);if(r!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)Rv(o,r,n[l],a,!1);else Rv(o,r,n,a,!1);Ov!==void 0&&Ov(o,i,t,n,r)}function Uo(e,t){if(t!==null){let n=t.type;if(n&3)return Ct(t,e);if(n&4)return yh(-1,e[t.index]);if(n&8){let i=t.child;if(i!==null)return Uo(e,i);{let r=e[t.index];return _n(r)?yh(-1,r):qt(r)}}else{if(n&128)return Uo(e,t.next);if(n&32)return _f(t,e)()||qt(e[t.index]);{let i=I0(e,t);if(i!==null){if(Array.isArray(i))return i[0];let r=wi(e[bt]);return Uo(r,i)}else return Uo(e,t.next)}}}return null}function I0(e,t){if(t!==null){let i=e[bt][tt],r=t.projection;return i.projection[r]}return null}function yh(e,t){let n=rt+e+1;if(n<t.length){let i=t[n],r=i[B].firstChild;if(r!==null)return Uo(i,r)}return t[bi]}function HS(e,t,n){e.removeChild(null,t,n)}function bf(e,t,n,i,r,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=i[n.index],l=n.type;if(s&&t===0&&(a&&Ii(qt(a),i),n.flags|=2),(n.flags&32)!==32)if(l&8)bf(e,t,n.child,i,r,o,!1),wr(t,e,r,a,o);else if(l&32){let c=_f(n,i),u;for(;u=c();)wr(t,e,r,u,o);wr(t,e,r,a,o)}else l&16?T0(e,t,i,n,r,o):wr(t,e,r,a,o);n=s?n.projectionNext:n.next}}function rc(e,t,n,i,r,o){bf(n,i,e.firstChild,t,r,o,!1)}function GS(e,t,n){let i=t[ve],r=w0(e,n,t),o=n.parent||t[tt],s=E0(o,n,t);T0(i,0,t,n,r,s)}function T0(e,t,n,i,r,o){let s=n[bt],l=s[tt].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];wr(t,e,r,u,o)}else{let c=l,u=s[Ve];s0(i)&&(c.flags|=128),bf(e,t,c,u,r,o,!0)}}function zS(e,t,n,i,r){let o=n[bi],s=qt(n);o!==s&&wr(t,e,i,o,r);for(let a=rt;a<n.length;a++){let l=n[a];rc(l[B],l,e,t,i,o)}}function WS(e,t,n,i,r){if(t)r?e.addClass(n,i):e.removeClass(n,i);else{let o=i.indexOf("-")===-1?void 0:pn.DashCase;r==null?e.removeStyle(n,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=pn.Important),e.setStyle(n,i,r,o))}}function KS(e,t,n){e.setAttribute(t,"style",n)}function S0(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function M0(e,t,n){let{mergedAttrs:i,classes:r,styles:o}=n;i!==null&&eh(e,t,i),r!==null&&S0(e,t,r),o!==null&&KS(e,t,o)}var Wn={};function se(e=1){A0(Pe(),X(),Ri()+e,!1)}function A0(e,t,n,i){if(!i)if((t[O]&3)===3){let o=e.preOrderCheckHooks;o!==null&&hl(t,o,n)}else{let o=e.preOrderHooks;o!==null&&fl(t,o,0,n)}Ci(n)}function K(e,t=$.Default){let n=X();if(n===null)return _(e,t);let i=He();return Xy(i,n,$e(e),t)}function N0(){let e="invalid";throw new Error(e)}function R0(e,t,n,i,r,o){let s=Q(null);try{let a=null;r&jn.SignalBased&&(a=t[i][sn]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),r&jn.HasDecoratorInputTransform&&(o=e.inputTransforms[i].call(t,o)),e.setInput!==null?e.setInput(t,a,o,n,i):Cy(t,a,i,o)}finally{Q(s)}}function qS(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let i=0;i<n.length;i++){let r=n[i];if(r<0)Ci(~r);else{let o=r,s=n[++i],a=n[++i];kT(s,o);let l=t[o];a(2,l)}}}finally{Ci(-1)}}function oc(e,t,n,i,r,o,s,a,l,c,u){let d=t.blueprint.slice();return d[mn]=r,d[O]=i|4|128|8|64,(c!==null||e&&e[O]&2048)&&(d[O]|=2048),My(d),d[Ve]=d[Fr]=e,d[kt]=n,d[Wt]=s||e&&e[Wt],d[ve]=a||e&&e[ve],d[Mr]=l||e&&e[Mr]||null,d[tt]=o,d[Yl]=gS(),d[Ko]=u,d[yy]=c,d[bt]=t.type==2?e[bt]:d,d}function es(e,t,n,i,r){let o=e.data[t];if(o===null)o=YS(e,t,n,i,r),xT()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=i,o.attrs=r;let s=RT();o.injectorIndex=s===null?-1:s.injectorIndex}return Xo(o,!0),o}function YS(e,t,n,i,r){let o=ky(),s=Py(),a=s?o:o&&o.parent,l=e.data[t]=tM(e,a,n,t,i,r);return e.firstChild===null&&(e.firstChild=l),o!==null&&(s?o.child==null&&l.parent!==null&&(o.child=l):o.next===null&&(o.next=l,l.prev=o)),l}function O0(e,t,n,i){if(n===0)return-1;let r=t.length;for(let o=0;o<n;o++)t.push(i),e.blueprint.push(i),e.data.push(null);return r}function x0(e,t,n,i,r){let o=Ri(),s=i&2;try{Ci(-1),s&&t.length>Kt&&A0(e,t,Kt,!1),Ht(s?2:0,r),n(i,r)}finally{Ci(o),Ht(s?3:1,r)}}function k0(e,t,n){if(wy(t)){let i=Q(null);try{let r=t.directiveStart,o=t.directiveEnd;for(let s=r;s<o;s++){let a=e.data[s];if(a.contentQueries){let l=n[s];a.contentQueries(1,l,s)}}}finally{Q(i)}}}function P0(e,t,n){Oy()&&(aM(e,t,n,Ct(n,t)),(n.flags&64)===64&&U0(e,t,n))}function F0(e,t,n=Ct){let i=t.localNames;if(i!==null){let r=t.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],a=s===-1?n(t,e):e[s];e[r++]=a}}}function L0(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=wf(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function wf(e,t,n,i,r,o,s,a,l,c,u){let d=Kt+i,h=d+r,f=QS(d,h),p=typeof c=="function"?c():c;return f[B]={type:e,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:t,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:u}}function QS(e,t){let n=[];for(let i=0;i<t;i++)n.push(i<e?null:Wn);return n}function ZS(e,t,n,i){let o=i.get(CS,h0)||n===zt.ShadowDom,s=e.selectRootElement(t,o);return JS(s),s}function JS(e){XS(e)}var XS=()=>null;function eM(e,t,n,i){let r=G0(t);r.push(n),e.firstCreatePass&&z0(e).push(i,r.length-1)}function tM(e,t,n,i,r,o){let s=t?t.injectorIndex:-1,a=0;return xy()&&(a|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function xv(e,t,n,i,r){for(let o in t){if(!t.hasOwnProperty(o))continue;let s=t[o];if(s===void 0)continue;i??={};let a,l=jn.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let c=o;if(r!==null){if(!r.hasOwnProperty(o))continue;c=r[o]}e===0?kv(i,n,c,a,l):kv(i,n,c,a)}return i}function kv(e,t,n,i,r){let o;e.hasOwnProperty(n)?(o=e[n]).push(t,i):o=e[n]=[t,i],r!==void 0&&o.push(r)}function nM(e,t,n){let i=t.directiveStart,r=t.directiveEnd,o=e.data,s=t.attrs,a=[],l=null,c=null;for(let u=i;u<r;u++){let d=o[u],h=n?n.get(d):null,f=h?h.inputs:null,p=h?h.outputs:null;l=xv(0,d.inputs,u,l,f),c=xv(1,d.outputs,u,c,p);let m=l!==null&&s!==null&&!Jh(t)?vM(l,u,s):null;a.push(m)}l!==null&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=c}function iM(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function V0(e,t,n,i,r,o,s,a){let l=Ct(t,n),c=t.inputs,u;!a&&c!=null&&(u=c[i])?(Cf(e,n,u,i,r),Ql(t)&&rM(n,t.index)):t.type&3?(i=iM(i),r=s!=null?s(r,t.value||"",i):r,o.setProperty(l,i,r)):t.type&12}function rM(e,t){let n=Gn(t,e);n[O]&16||(n[O]|=64)}function j0(e,t,n,i){if(Oy()){let r=i===null?null:{"":-1},o=cM(e,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&B0(e,t,n,s,r,a),r&&uM(n,i,r)}n.mergedAttrs=zo(n.mergedAttrs,n.attrs)}function B0(e,t,n,i,r,o){for(let c=0;c<i.length;c++)uh(Tl(n,t),e,i[c].type);hM(n,e.data.length,i.length);for(let c=0;c<i.length;c++){let u=i[c];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,l=O0(e,t,i.length,null);for(let c=0;c<i.length;c++){let u=i[c];n.mergedAttrs=zo(n.mergedAttrs,u.hostAttrs),fM(e,n,t,l,u),dM(l,u,r),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}nM(e,n,o)}function oM(e,t,n,i,r){let o=r.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;sM(s)!=a&&s.push(a),s.push(n,i,o)}}function sM(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function aM(e,t,n,i){let r=n.directiveStart,o=n.directiveEnd;Ql(n)&&pM(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||Tl(n,t),Ii(i,t);let s=n.initialInputs;for(let a=r;a<o;a++){let l=e.data[a],c=Ei(t,e,a,n);if(Ii(c,t),s!==null&&_M(t,a-r,c,l,n,s),Bn(l)){let u=Gn(n.index,t);u[kt]=Ei(t,e,a,n)}}}function U0(e,t,n){let i=n.directiveStart,r=n.directiveEnd,o=n.index,s=PT();try{Ci(o);for(let a=i;a<r;a++){let l=e.data[a],c=t[a];ah(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&lM(l,c)}}finally{Ci(-1),ah(s)}}function lM(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function cM(e,t){let n=e.directiveRegistry,i=null,r=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(ay(t,s.selectors,!1))if(i||(i=[]),Bn(s))if(s.findHostDirectiveDefs!==null){let a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s);let l=a.length;bh(e,t,l)}else i.unshift(s),bh(e,t,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return i===null?null:[i,r]}function bh(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function uM(e,t,n){if(t){let i=e.localNames=[];for(let r=0;r<t.length;r+=2){let o=n[t[r+1]];if(o==null)throw new I(-301,!1);i.push(t[r],o)}}}function dM(e,t,n){if(n){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)n[t.exportAs[i]]=e;Bn(t)&&(n[""]=e)}}function hM(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function fM(e,t,n,i,r){e.data[i]=r;let o=r.factory||(r.factory=Er(r.type,!0)),s=new Di(o,Bn(r),K);e.blueprint[i]=s,n[i]=s,oM(e,t,i,O0(e,n,r.hostVars,Wn),r)}function pM(e,t,n){let i=Ct(t,e),r=L0(n),o=e[Wt].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=sc(e,oc(e,r,null,s,i,t,null,o.createRenderer(i,n),null,null,null));e[t.index]=a}function gM(e,t,n,i,r,o){let s=Ct(e,t);mM(t[ve],s,o,e.value,n,i,r)}function mM(e,t,n,i,r,o,s){if(o==null)e.removeAttribute(t,r,n);else{let a=s==null?Gl(o):s(o,i||"",r);e.setAttribute(t,r,a,n)}}function _M(e,t,n,i,r,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;){let l=s[a++],c=s[a++],u=s[a++],d=s[a++];R0(i,n,l,c,u,d)}}function vM(e,t,n){let i=null,r=0;for(;r<n.length;){let o=n[r];if(o===0){r+=4;continue}else if(o===5){r+=2;continue}if(typeof o=="number")break;if(e.hasOwnProperty(o)){i===null&&(i=[]);let s=e[o];for(let a=0;a<s.length;a+=3)if(s[a]===t){i.push(o,s[a+1],s[a+2],n[r+1]);break}}r+=2}return i}function $0(e,t,n,i){return[e,!0,0,t,null,i,null,n,null,null]}function H0(e,t){let n=e.contentQueries;if(n!==null){let i=Q(null);try{for(let r=0;r<n.length;r+=2){let o=n[r],s=n[r+1];if(s!==-1){let a=e.data[s];nf(o),a.contentQueries(2,t[s],s)}}}finally{Q(i)}}}function sc(e,t){return e[qo]?e[vv][Ot]=t:e[qo]=t,e[vv]=t,t}function wh(e,t,n){nf(0);let i=Q(null);try{t(e,n)}finally{Q(i)}}function G0(e){return e[bl]??=[]}function z0(e){return e.cleanup??=[]}function W0(e,t){let n=e[Mr],i=n?n.get(fn,null):null;i&&i.handleError(t)}function Cf(e,t,n,i,r){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],l=n[o++],c=t[s],u=e.data[s];R0(u,c,i,a,l,r)}}function yM(e,t,n){let i=Ty(t,e);OS(e[ve],i,n)}function bM(e,t){let n=Gn(t,e),i=n[B];wM(i,n);let r=n[mn];r!==null&&n[Ko]===null&&(n[Ko]=gf(r,n[Mr])),Df(i,n,n[kt])}function wM(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function Df(e,t,n){rf(t);try{let i=e.viewQuery;i!==null&&wh(1,i,n);let r=e.template;r!==null&&x0(e,t,r,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[hn]?.finishViewCreation(e),e.staticContentQueries&&H0(e,t),e.staticViewQueries&&wh(2,e.viewQuery,n);let o=e.components;o!==null&&CM(t,o)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),i}finally{t[O]&=-5,of()}}function CM(e,t){for(let n=0;n<t.length;n++)bM(e,t[n])}function K0(e,t,n,i){let r=Q(null);try{let o=t.tView,a=e[O]&4096?4096:16,l=oc(e,o,n,a,null,t,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),c=e[t.index];l[yi]=c;let u=e[hn];return u!==null&&(l[hn]=u.createEmbeddedView(o)),Df(o,l,n),l}finally{Q(r)}}function Ch(e,t){return!t||t.firstChild===null||s0(e)}function q0(e,t,n,i=!0){let r=t[B];if(FS(r,t,e,n),i){let s=yh(n,e),a=t[ve],l=D0(a,e[bi]);l!==null&&kS(r,e[tt],a,t,l,s)}let o=t[Ko];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Ol(e,t,n,i,r=!1){for(;n!==null;){if(n.type===128){n=r?n.projectionNext:n.next;continue}let o=t[n.index];o!==null&&i.push(qt(o)),_n(o)&&DM(o,i);let s=n.type;if(s&8)Ol(e,t,n.child,i);else if(s&32){let a=_f(n,t),l;for(;l=a();)i.push(l)}else if(s&16){let a=I0(t,n);if(Array.isArray(a))i.push(...a);else{let l=wi(t[bt]);Ol(l[B],l,a,i,!0)}}n=r?n.projectionNext:n.next}return i}function DM(e,t){for(let n=rt;n<e.length;n++){let i=e[n],r=i[B].firstChild;r!==null&&Ol(i[B],i,r,t)}e[bi]!==e[mn]&&t.push(e[bi])}var Y0=[];function EM(e){return e[yt]??IM(e)}function IM(e){let t=Y0.pop()??Object.create(SM);return t.lView=e,t}function TM(e){e.lView[yt]!==e&&(e.lView=null,Y0.push(e))}var SM=U(y({},Fo),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Jl(e.lView)},consumerOnSignalRead(){this.lView[yt]=this}});function MM(e){let t=e[yt]??Object.create(AM);return t.lView=e,t}var AM=U(y({},Fo),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{let t=wi(e.lView);for(;t&&!Q0(t[B]);)t=wi(t);t&&Ay(t)},consumerOnSignalRead(){this.lView[yt]=this}});function Q0(e){return e.type!==2}var NM=100;function Z0(e,t=!0,n=0){let i=e[Wt],r=i.rendererFactory,o=!1;o||r.begin?.();try{RM(e,n)}catch(s){throw t&&W0(e,s),s}finally{o||(r.end?.(),i.inlineEffectRunner?.flush())}}function RM(e,t){let n=Ly();try{bv(!0),Dh(e,t);let i=0;for(;Zl(e);){if(i===NM)throw new I(103,!1);i++,Dh(e,1)}}finally{bv(n)}}function OM(e,t,n,i){let r=t[O];if((r&256)===256)return;let o=!1,s=!1;!o&&t[Wt].inlineEffectRunner?.flush(),rf(t);let a=!0,l=null,c=null;o||(Q0(e)?(c=EM(t),l=Ma(c)):M_()===null?(a=!1,c=MM(t),l=Ma(c)):t[yt]&&(pd(t[yt]),t[yt]=null));try{My(t),OT(e.bindingStartIndex),n!==null&&x0(e,t,n,2,i);let u=(r&3)===3;if(!o)if(u){let f=e.preOrderCheckHooks;f!==null&&hl(t,f,null)}else{let f=e.preOrderHooks;f!==null&&fl(t,f,0,null),Bd(t,0)}if(s||xM(t),J0(t,0),e.contentQueries!==null&&H0(e,t),!o)if(u){let f=e.contentCheckHooks;f!==null&&hl(t,f)}else{let f=e.contentHooks;f!==null&&fl(t,f,1),Bd(t,1)}qS(e,t);let d=e.components;d!==null&&eb(t,d,0);let h=e.viewQuery;if(h!==null&&wh(2,h,i),!o)if(u){let f=e.viewCheckHooks;f!==null&&hl(t,f)}else{let f=e.viewHooks;f!==null&&fl(t,f,2),Bd(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[jd]){for(let f of t[jd])f();t[jd]=null}o||(t[O]&=-73)}catch(u){throw o||Jl(t),u}finally{c!==null&&(hd(c,l),a&&TM(c)),of()}}function J0(e,t){for(let n=l0(e);n!==null;n=c0(n))for(let i=rt;i<n.length;i++){let r=n[i];X0(r,t)}}function xM(e){for(let t=l0(e);t!==null;t=c0(t)){if(!(t[O]&Cl.HasTransplantedViews))continue;let n=t[Ar];for(let i=0;i<n.length;i++){let r=n[i];Ay(r)}}}function kM(e,t,n){let i=Gn(t,e);X0(i,n)}function X0(e,t){tf(e)&&Dh(e,t)}function Dh(e,t){let i=e[B],r=e[O],o=e[yt],s=!!(t===0&&r&16);if(s||=!!(r&64&&t===0),s||=!!(r&1024),s||=!!(o?.dirty&&fd(o)),s||=!1,o&&(o.dirty=!1),e[O]&=-9217,s)OM(i,e,i.template,e[kt]);else if(r&8192){J0(e,1);let a=i.components;a!==null&&eb(e,a,1)}}function eb(e,t,n){for(let i=0;i<t.length;i++)kM(e,t[i],n)}function Ef(e,t){let n=Ly()?64:1088;for(e[Wt].changeDetectionScheduler?.notify(t);e;){e[O]|=n;let i=wi(e);if(rh(e)&&!i)return e;e=i}return null}var Ti=class{get rootNodes(){let t=this._lView,n=t[B];return Ol(n,t,n.firstChild,[])}constructor(t,n,i=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[kt]}set context(t){this._lView[kt]=t}get destroyed(){return(this._lView[O]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[Ve];if(_n(t)){let n=t[wl],i=n?n.indexOf(this):-1;i>-1&&(vh(t,i),vl(n,i))}this._attachedToViewContainer=!1}b0(this._lView[B],this._lView)}onDestroy(t){Ny(this._lView,t)}markForCheck(){Ef(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[O]&=-129}reattach(){sh(this._lView),this._lView[O]|=128}detectChanges(){this._lView[O]|=1024,Z0(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new I(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=rh(this._lView),n=this._lView[yi];n!==null&&!t&&vf(n,this._lView),v0(this._lView[B],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new I(902,!1);this._appRef=t;let n=rh(this._lView),i=this._lView[yi];i!==null&&!n&&y0(i,this._lView),sh(this._lView)}},Un=(()=>{class e{static{this.__NG_ELEMENT_ID__=LM}}return e})(),PM=Un,FM=class extends PM{constructor(t,n,i){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,i){let r=K0(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:i});return new Ti(r)}};function LM(){return If(He(),X())}function If(e,t){return e.type&4?new FM(t,e,Vr(e,t)):null}var C3=new RegExp(`^(\\d+)*(${bS}|${yS})*(.*)`);var VM=()=>null;function Eh(e,t){return VM(e,t)}var Nr=class{},Tf=new w("",{providedIn:"root",factory:()=>!1});var tb=new w(""),nb=new w(""),Ih=class{},xl=class{};function jM(e){let t=Error(`No component factory found for ${et(e)}.`);return t[BM]=e,t}var BM="ngComponent";var Th=class{resolveComponentFactory(t){throw jM(t)}},Rr=class{static{this.NULL=new Th}},Or=class{},Oi=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>UM()}}return e})();function UM(){let e=X(),t=He(),n=Gn(t.index,e);return(Vn(n)?n:e)[ve]}var $M=(()=>{class e{static{this.\u0275prov=C({token:e,providedIn:"root",factory:()=>null})}}return e})();function Sh(e,t,n){let i=n?e.styles:null,r=n?e.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)r=Qd(r,a);else if(o==2){let l=a,c=t[++s];i=Qd(i,l+": "+c+";")}}n?e.styles=i:e.stylesWithoutHost=i,n?e.classes=r:e.classesWithoutHost=r}var kl=class extends Rr{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=dn(t);return new Si(n,this.ngModule)}};function Pv(e,t){let n=[];for(let i in e){if(!e.hasOwnProperty(i))continue;let r=e[i];if(r===void 0)continue;let o=Array.isArray(r),s=o?r[0]:r,a=o?r[1]:jn.None;t?n.push({propName:s,templateName:i,isSignal:(a&jn.SignalBased)!==0}):n.push({propName:s,templateName:i})}return n}function HM(e){let t=e.toLowerCase();return t==="svg"?bT:t==="math"?wT:null}var Si=class extends xl{get inputs(){let t=this.componentDef,n=t.inputTransforms,i=Pv(t.inputs,!0);if(n!==null)for(let r of i)n.hasOwnProperty(r.propName)&&(r.transform=n[r.propName]);return i}get outputs(){return Pv(this.componentDef.outputs,!1)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=JI(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,i,r){let o=Q(null);try{r=r||this.ngModule;let s=r instanceof Ae?r:r?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new lh(t,s):t,l=a.get(Or,null);if(l===null)throw new I(407,!1);let c=a.get($M,null),u=a.get(Nr,null),d={rendererFactory:l,sanitizer:c,inlineEffectRunner:null,changeDetectionScheduler:u},h=l.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=i?ZS(h,i,this.componentDef.encapsulation,a):_0(h,f,HM(f)),m=512;this.componentDef.signals?m|=4096:this.componentDef.onPush||(m|=16);let b=null;p!==null&&(b=gf(p,a,!0));let T=wf(0,null,null,1,0,null,null,null,null,null,null),j=oc(null,T,null,m,null,null,d,h,a,null,b);rf(j);let E,ne,pe=null;try{let Ce=this.componentDef,rn,od=null;Ce.findHostDirectiveDefs?(rn=[],od=new Map,Ce.findHostDirectiveDefs(Ce,rn,od),rn.push(Ce)):rn=[Ce];let xE=GM(j,p);pe=zM(xE,p,Ce,rn,j,d,h),ne=Sy(T,Kt),p&&qM(h,Ce,p,i),n!==void 0&&YM(ne,this.ngContentSelectors,n),E=KM(pe,Ce,rn,od,j,[QM]),Df(T,j,null)}catch(Ce){throw pe!==null&&mh(pe),mh(j),Ce}finally{of()}return new Mh(this.componentType,E,Vr(ne,j),j,ne)}finally{Q(o)}}},Mh=class extends Ih{constructor(t,n,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Ti(r,void 0,!1),this.componentType=t}setInput(t,n){let i=this._tNode.inputs,r;if(i!==null&&(r=i[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let o=this._rootLView;Cf(o[B],o,r,t,n),this.previousInputValues.set(t,n);let s=Gn(this._tNode.index,o);Ef(s,1)}}get injector(){return new vi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function GM(e,t){let n=e[B],i=Kt;return e[i]=t,es(n,i,2,"#host",null)}function zM(e,t,n,i,r,o,s){let a=r[B];WM(i,e,t,s);let l=null;t!==null&&(l=gf(t,r[Mr]));let c=o.rendererFactory.createRenderer(t,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=oc(r,L0(n),null,u,r[e.index],e,o,c,null,null,l);return a.firstCreatePass&&bh(a,e,i.length-1),sc(r,d),r[e.index]=d}function WM(e,t,n,i){for(let r of e)t.mergedAttrs=zo(t.mergedAttrs,r.hostAttrs);t.mergedAttrs!==null&&(Sh(t,t.mergedAttrs,!0),n!==null&&M0(i,n,t))}function KM(e,t,n,i,r,o){let s=He(),a=r[B],l=Ct(s,r);B0(a,r,s,n,null,i);for(let u=0;u<n.length;u++){let d=s.directiveStart+u,h=Ei(r,a,d,s);Ii(h,r)}U0(a,r,s),l&&Ii(l,r);let c=Ei(r,a,s.directiveStart+s.componentOffset,s);if(e[kt]=r[kt]=c,o!==null)for(let u of o)u(c,t);return k0(a,s,r),c}function qM(e,t,n,i){if(i)eh(e,n,["ng-version","18.2.9"]);else{let{attrs:r,classes:o}=XI(t.selectors[0]);r&&eh(e,n,r),o&&o.length>0&&S0(e,n,o.join(" "))}}function YM(e,t,n){let i=e.projection=[];for(let r=0;r<t.length;r++){let o=n[r];i.push(o!=null?Array.from(o):null)}}function QM(){let e=He();cf(X()[B],e)}var Kn=(()=>{class e{static{this.__NG_ELEMENT_ID__=ZM}}return e})();function ZM(){let e=He();return rb(e,X())}var JM=Kn,ib=class extends JM{constructor(t,n,i){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=i}get element(){return Vr(this._hostTNode,this._hostLView)}get injector(){return new vi(this._hostTNode,this._hostLView)}get parentInjector(){let t=uf(this._hostTNode,this._hostLView);if(Ky(t)){let n=Il(t,this._hostLView),i=El(t),r=n[B].data[i+8];return new vi(r,n)}else return new vi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=Fv(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-rt}createEmbeddedView(t,n,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=Eh(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,r,Ch(this._hostTNode,s)),a}createComponent(t,n,i,r,o){let s=t&&!mT(t),a;if(s)a=n;else{let p=n||{};a=p.index,i=p.injector,r=p.projectableNodes,o=p.environmentInjector||p.ngModuleRef}let l=s?t:new Si(dn(t)),c=i||this.parentInjector;if(!o&&l.ngModule==null){let m=(s?c:this.parentInjector).get(Ae,null);m&&(o=m)}let u=dn(l.componentType??{}),d=Eh(this._lContainer,u?.id??null),h=d?.firstChild??null,f=l.create(c,r,h,o);return this.insertImpl(f.hostView,a,Ch(this._hostTNode,d)),f}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,i){let r=t._lView;if(DT(r)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let l=r[Ve],c=new ib(l,l[tt],l[Ve]);c.detach(c.indexOf(t))}}let o=this._adjustIndex(n),s=this._lContainer;return q0(s,r,o,i),t.attachToViewContainerRef(),ty(zd(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=Fv(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),i=vh(this._lContainer,n);i&&(vl(zd(this._lContainer),n),b0(i[B],i))}detach(t){let n=this._adjustIndex(t,-1),i=vh(this._lContainer,n);return i&&vl(zd(this._lContainer),n)!=null?new Ti(i):null}_adjustIndex(t,n=0){return t??this.length+n}};function Fv(e){return e[wl]}function zd(e){return e[wl]||(e[wl]=[])}function rb(e,t){let n,i=t[e.index];return _n(i)?n=i:(n=$0(i,t,null,e),t[e.index]=n,sc(t,n)),eA(n,t,e,i),new ib(n,e,t)}function XM(e,t){let n=e[ve],i=n.createComment(""),r=Ct(t,e),o=D0(n,r);return Rl(n,o,i,BS(n,r),!1),i}var eA=iA,tA=()=>!1;function nA(e,t,n){return tA(e,t,n)}function iA(e,t,n,i){if(e[bi])return;let r;n.type&8?r=qt(i):r=XM(t,n),e[bi]=r}var Ah=class e{constructor(t){this.queryList=t,this.matches=null}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},Nh=class e{constructor(t=[]){this.queries=t}createEmbeddedView(t){let n=t.queries;if(n!==null){let i=t.contentQueries!==null?t.contentQueries[0]:n.length,r=[];for(let o=0;o<i;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];r.push(a.clone())}return new e(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)Sf(t,n).matches!==null&&this.queries[n].setDirty()}},Rh=class{constructor(t,n,i=null){this.flags=n,this.read=i,typeof t=="string"?this.predicate=dA(t):this.predicate=t}},Oh=class e{constructor(t=[]){this.queries=t}elementStart(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let i=0;i<this.length;i++){let r=n!==null?n.length:0,o=this.getByIndex(i).embeddedTView(t,r);o&&(o.indexInDeclarationView=i,n!==null?n.push(o):n=[o])}return n!==null?new e(n):null}template(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},xh=class e{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,i=t.parent;for(;i!==null&&i.type&8&&i.index!==n;)i=i.parent;return n===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(t,n){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(t,n,rA(n,o)),this.matchTNodeWithReadOption(t,n,pl(n,t,o,!1,!1))}else i===Un?n.type&4&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,pl(n,t,i,!1,!1))}matchTNodeWithReadOption(t,n,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===Ge||r===Kn||r===Un&&n.type&4)this.addMatch(n.index,-2);else{let o=pl(n,t,r,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,i)}}addMatch(t,n){this.matches===null?this.matches=[t,n]:this.matches.push(t,n)}};function rA(e,t){let n=e.localNames;if(n!==null){for(let i=0;i<n.length;i+=2)if(n[i]===t)return n[i+1]}return null}function oA(e,t){return e.type&11?Vr(e,t):e.type&4?If(e,t):null}function sA(e,t,n,i){return n===-1?oA(t,e):n===-2?aA(e,t,i):Ei(e,e[B],n,t)}function aA(e,t,n){if(n===Ge)return Vr(t,e);if(n===Un)return If(t,e);if(n===Kn)return rb(t,e)}function ob(e,t,n,i){let r=t[hn].queries[i];if(r.matches===null){let o=e.data,s=n.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let c=s[l];if(c<0)a.push(null);else{let u=o[c];a.push(sA(t,u,s[l+1],n.metadata.read))}}r.matches=a}return r.matches}function kh(e,t,n,i){let r=e.queries.getByIndex(n),o=r.matches;if(o!==null){let s=ob(e,t,r,n);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)i.push(s[a/2]);else{let c=o[a+1],u=t[-l];for(let d=rt;d<u.length;d++){let h=u[d];h[yi]===h[Ve]&&kh(h[B],h,c,i)}if(u[Ar]!==null){let d=u[Ar];for(let h=0;h<d.length;h++){let f=d[h];kh(f[B],f,c,i)}}}}}return i}function lA(e,t){return e[hn].queries[t].queryList}function cA(e,t,n){let i=new gh((n&4)===4);return eM(e,t,i,i.destroy),(t[hn]??=new Nh).queries.push(new Ah(i))-1}function uA(e,t,n){let i=Pe();return i.firstCreatePass&&(hA(i,new Rh(e,t,n),-1),(t&2)===2&&(i.staticViewQueries=!0)),cA(i,X(),t)}function dA(e){return e.split(",").map(t=>t.trim())}function hA(e,t,n){e.queries===null&&(e.queries=new Oh),e.queries.track(new xh(t,n))}function Sf(e,t){return e.queries.getByIndex(t)}function fA(e,t){let n=e[B],i=Sf(n,t);return i.crossesNgTemplate?kh(n,e,t,[]):ob(n,e,i,t)}var Lv=new Set;function Br(e){Lv.has(e)||(Lv.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function pA(e){return typeof e=="function"&&e[sn]!==void 0}function ac(e,t){Br("NgSignals");let n=j_(e),i=n[sn];return t?.equal&&(i.equal=t.equal),n.set=r=>gd(i,r),n.update=r=>B_(i,r),n.asReadonly=gA.bind(n),n}function gA(){let e=this[sn];if(e.readonlyFn===void 0){let t=()=>this();t[sn]=e,e.readonlyFn=t}return e.readonlyFn}function sb(e){return pA(e)&&typeof e.set=="function"}function mA(e){let t=[],n=new Map;function i(r){let o=n.get(r);if(!o){let s=e(r);n.set(r,o=s.then(bA))}return o}return Pl.forEach((r,o)=>{let s=[];r.templateUrl&&s.push(i(r.templateUrl).then(c=>{r.template=c}));let a=typeof r.styles=="string"?[r.styles]:r.styles||[];if(r.styles=a,r.styleUrl&&r.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(r.styleUrls?.length){let c=r.styles.length,u=r.styleUrls;r.styleUrls.forEach((d,h)=>{a.push(""),s.push(i(d).then(f=>{a[c+h]=f,u.splice(u.indexOf(d),1),u.length==0&&(r.styleUrls=void 0)}))})}else r.styleUrl&&s.push(i(r.styleUrl).then(c=>{a.push(c),r.styleUrl=void 0}));let l=Promise.all(s).then(()=>wA(o));t.push(l)}),vA(),Promise.all(t).then(()=>{})}var Pl=new Map,_A=new Set;function vA(){let e=Pl;return Pl=new Map,e}function yA(){return Pl.size===0}function bA(e){return typeof e=="string"?e:e.text()}function wA(e){_A.delete(e)}function CA(e){return Object.getPrototypeOf(e.prototype).constructor}function xi(e){let t=CA(e.type),n=!0,i=[e];for(;t;){let r;if(Bn(e))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new I(903,!1);r=t.\u0275dir}if(r){if(n){i.push(r);let s=e;s.inputs=al(e.inputs),s.inputTransforms=al(e.inputTransforms),s.declaredInputs=al(e.declaredInputs),s.outputs=al(e.outputs);let a=r.hostBindings;a&&SA(e,a);let l=r.viewQuery,c=r.contentQueries;if(l&&IA(e,l),c&&TA(e,c),DA(e,r),_I(e.outputs,r.outputs),Bn(r)&&r.data.animation){let u=e.data;u.animation=(u.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===xi&&(n=!1)}}t=Object.getPrototypeOf(t)}EA(i)}function DA(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let i=t.inputs[n];if(i!==void 0&&(e.inputs[n]=i,e.declaredInputs[n]=t.declaredInputs[n],t.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!t.inputTransforms.hasOwnProperty(r))continue;e.inputTransforms??={},e.inputTransforms[r]=t.inputTransforms[r]}}}function EA(e){let t=0,n=null;for(let i=e.length-1;i>=0;i--){let r=e[i];r.hostVars=t+=r.hostVars,r.hostAttrs=zo(r.hostAttrs,n=zo(n,r.hostAttrs))}}function al(e){return e===Ir?{}:e===Xe?[]:e}function IA(e,t){let n=e.viewQuery;n?e.viewQuery=(i,r)=>{t(i,r),n(i,r)}:e.viewQuery=t}function TA(e,t){let n=e.contentQueries;n?e.contentQueries=(i,r,o)=>{t(i,r,o),n(i,r,o)}:e.contentQueries=t}function SA(e,t){let n=e.hostBindings;n?e.hostBindings=(i,r)=>{t(i,r),n(i,r)}:e.hostBindings=t}function Mf(e){let t=e.inputConfig,n={};for(let i in t)if(t.hasOwnProperty(i)){let r=t[i];Array.isArray(r)&&r[3]&&(n[i]=r[3])}e.inputTransforms=n}var $n=class{},Yo=class{};var Fl=class extends $n{constructor(t,n,i,r=!0){super(),this.ngModuleType=t,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new kl(this);let o=dy(t);this._bootstrapComponents=m0(o.bootstrap),this._r3Injector=n0(t,n,[{provide:$n,useValue:this},{provide:Rr,useValue:this.componentFactoryResolver},...i],et(t),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},Ll=class extends Yo{constructor(t){super(),this.moduleType=t}create(t){return new Fl(this.moduleType,t,[])}};function MA(e,t,n){return new Fl(e,t,n,!1)}var Ph=class extends $n{constructor(t){super(),this.componentFactoryResolver=new kl(this),this.instance=null;let n=new Wo([...t.providers,{provide:$n,useValue:this},{provide:Rr,useValue:this.componentFactoryResolver}],t.parent||ql(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function lc(e,t,n=null){return new Ph({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}function ab(e){return NA(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function AA(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{let n=e[Symbol.iterator](),i;for(;!(i=n.next()).done;)t(i.value)}}function NA(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function Ur(e,t,n){let i=e[t];return Object.is(i,n)?!1:(e[t]=n,!0)}function RA(e){return(e.flags&32)===32}function OA(e,t,n,i,r,o,s,a,l){let c=t.consts,u=es(t,e,4,s||null,a||null);j0(t,n,u,Dl(c,l)),cf(t,u);let d=u.tView=wf(2,u,i,r,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return t.queries!==null&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}function lb(e,t,n,i,r,o,s,a,l,c){let u=n+Kt,d=t.firstCreatePass?OA(u,t,e,i,r,o,s,a,l):t.data[u];Xo(d,!1);let h=xA(t,e,d,n);af()&&yf(t,e,h,d),Ii(h,e);let f=$0(h,e,h,d);return e[u]=f,sc(e,f),nA(f,d,e),ef(d)&&P0(t,e,d),l!=null&&F0(e,d,c),d}function nt(e,t,n,i,r,o,s,a){let l=X(),c=Pe(),u=Dl(c.consts,o);return lb(l,c,e,t,n,i,r,u,s,a),nt}var xA=kA;function kA(e,t,n,i){return lf(!0),t[ve].createComment("")}var un=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(un||{}),cb=(()=>{class e{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=C({token:e,providedIn:"root",factory:()=>new e})}}return e})(),Fh=class e{constructor(){this.ngZone=g(P),this.scheduler=g(Nr),this.errorHandler=g(fn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[un.EarlyRead,un.Write,un.MixedReadWrite,un.Read]}execute(){this.executing=!0;for(let t of e.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[t]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[t](n.pipelinedValue))}catch(i){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let t of this.sequences)t.afterRun(),t.once&&(this.sequences.delete(t),t.destroy());for(let t of this.deferredRegistrations)this.sequences.add(t);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(t){this.executing?this.deferredRegistrations.add(t):(this.sequences.add(t),this.scheduler.notify(6))}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}static{this.\u0275prov=C({token:e,providedIn:"root",factory:()=>new e})}},Lh=class{constructor(t,n,i,r){this.impl=t,this.hooks=n,this.once=i,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=r?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function $r(e,t){!t?.injector&&pT($r);let n=t?.injector??g(Te);return AS(n)?(Br("NgAfterNextRender"),FA(e,n,t,!0)):LA}function PA(e,t){if(e instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[t]=e,n}else return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function FA(e,t,n,i){let r=t.get(cb);r.impl??=t.get(Fh);let o=n?.phase??un.MixedReadWrite,s=n?.manualCleanup!==!0?t.get(tc):null,a=new Lh(r.impl,PA(e,o),i,s);return r.impl.register(a),a}var LA={destroy(){}};function Hr(e,t,n,i){let r=X(),o=Xl();if(Ur(r,o,t)){let s=Pe(),a=sf();gM(a,r,e,t,n,i)}return Hr}function VA(e,t,n,i){return Ur(e,Xl(),n)?t+Gl(n)+i:Wn}function ll(e,t){return e<<17|t<<2}function Mi(e){return e>>17&32767}function jA(e){return(e&2)==2}function BA(e,t){return e&131071|t<<17}function Vh(e){return e|2}function xr(e){return(e&131068)>>2}function Wd(e,t){return e&-131069|t<<2}function UA(e){return(e&1)===1}function jh(e){return e|1}function $A(e,t,n,i,r,o){let s=o?t.classBindings:t.styleBindings,a=Mi(s),l=xr(s);e[i]=n;let c=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||Jo(d,u)>0)&&(c=!0)}else u=n;if(r)if(l!==0){let h=Mi(e[a+1]);e[i+1]=ll(h,a),h!==0&&(e[h+1]=Wd(e[h+1],i)),e[a+1]=BA(e[a+1],i)}else e[i+1]=ll(a,0),a!==0&&(e[a+1]=Wd(e[a+1],i)),a=i;else e[i+1]=ll(l,0),a===0?a=i:e[l+1]=Wd(e[l+1],i),l=i;c&&(e[i+1]=Vh(e[i+1])),Vv(e,u,i,!0),Vv(e,u,i,!1),HA(t,u,e,i,o),s=ll(a,l),o?t.classBindings=s:t.styleBindings=s}function HA(e,t,n,i,r){let o=r?e.residualClasses:e.residualStyles;o!=null&&typeof t=="string"&&Jo(o,t)>=0&&(n[i+1]=jh(n[i+1]))}function Vv(e,t,n,i){let r=e[n+1],o=t===null,s=i?Mi(r):xr(r),a=!1;for(;s!==0&&(a===!1||o);){let l=e[s],c=e[s+1];GA(l,t)&&(a=!0,e[s+1]=i?jh(c):Vh(c)),s=i?Mi(c):xr(c)}a&&(e[n+1]=i?Vh(r):jh(r))}function GA(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?Jo(e,t)>=0:!1}var Rt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function zA(e){return e.substring(Rt.key,Rt.keyEnd)}function WA(e){return KA(e),ub(e,db(e,0,Rt.textEnd))}function ub(e,t){let n=Rt.textEnd;return n===t?-1:(t=Rt.keyEnd=qA(e,Rt.key=t,n),db(e,t,n))}function KA(e){Rt.key=0,Rt.keyEnd=0,Rt.value=0,Rt.valueEnd=0,Rt.textEnd=e.length}function db(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function qA(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}function Se(e,t,n){let i=X(),r=Xl();if(Ur(i,r,t)){let o=Pe(),s=sf();V0(o,s,i,e,t,i[ve],n,!1)}return Se}function Bh(e,t,n,i,r){let o=t.inputs,s=r?"class":"style";Cf(e,n,o[s],s,i)}function ki(e,t){return QA(e,t,null,!0),ki}function cc(e){ZA(iN,YA,e,!0)}function YA(e,t){for(let n=WA(t);n>=0;n=ub(t,n))Zh(e,zA(t),!0)}function QA(e,t,n,i){let r=X(),o=Pe(),s=Vy(2);if(o.firstUpdatePass&&fb(o,e,s,i),t!==Wn&&Ur(r,s,t)){let a=o.data[Ri()];pb(o,a,r,r[ve],e,r[s+1]=oN(t,n),i,s)}}function ZA(e,t,n,i){let r=Pe(),o=Vy(2);r.firstUpdatePass&&fb(r,null,o,i);let s=X();if(n!==Wn&&Ur(s,o,n)){let a=r.data[Ri()];if(gb(a,i)&&!hb(r,o)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(n=Qd(l,n||"")),Bh(r,a,s,n,i)}else rN(r,a,s,s[ve],s[o+1],s[o+1]=nN(e,t,n),i,o)}}function hb(e,t){return t>=e.expandoStartIndex}function fb(e,t,n,i){let r=e.data;if(r[n+1]===null){let o=r[Ri()],s=hb(e,n);gb(o,i)&&t===null&&!s&&(t=!1),t=JA(r,o,t,i),$A(r,o,t,n,s,i)}}function JA(e,t,n,i){let r=FT(e),o=i?t.residualClasses:t.residualStyles;if(r===null)(i?t.classBindings:t.styleBindings)===0&&(n=Kd(null,e,t,n,i),n=Qo(n,t.attrs,i),o=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==r)if(n=Kd(r,e,t,n,i),o===null){let l=XA(e,t,i);l!==void 0&&Array.isArray(l)&&(l=Kd(null,e,t,l[1],i),l=Qo(l,t.attrs,i),eN(e,t,i,l))}else o=tN(e,t,i)}return o!==void 0&&(i?t.residualClasses=o:t.residualStyles=o),n}function XA(e,t,n){let i=n?t.classBindings:t.styleBindings;if(xr(i)!==0)return e[Mi(i)]}function eN(e,t,n,i){let r=n?t.classBindings:t.styleBindings;e[Mi(r)]=i}function tN(e,t,n){let i,r=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<r;o++){let s=e[o].hostAttrs;i=Qo(i,s,n)}return Qo(i,t.attrs,n)}function Kd(e,t,n,i,r){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=t[a],i=Qo(i,o.hostAttrs,r),o!==e);)a++;return e!==null&&(n.directiveStylingLast=a),i}function Qo(e,t,n){let i=n?1:2,r=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?r=s:r===i&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),Zh(e,s,n?!0:t[++o]))}return e===void 0?null:e}function nN(e,t,n){if(n==null||n==="")return Xe;let i=[],r=jr(n);if(Array.isArray(r))for(let o=0;o<r.length;o++)e(i,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&e(i,o,r[o]);else typeof r=="string"&&t(i,r);return i}function iN(e,t,n){let i=String(t);i!==""&&!i.includes(" ")&&Zh(e,i,n)}function rN(e,t,n,i,r,o,s,a){r===Wn&&(r=Xe);let l=0,c=0,u=0<r.length?r[0]:null,d=0<o.length?o[0]:null;for(;u!==null||d!==null;){let h=l<r.length?r[l+1]:void 0,f=c<o.length?o[c+1]:void 0,p=null,m;u===d?(l+=2,c+=2,h!==f&&(p=d,m=f)):d===null||u!==null&&u<d?(l+=2,p=u):(c+=2,p=d,m=f),p!==null&&pb(e,t,n,i,p,m,s,a),u=l<r.length?r[l]:null,d=c<o.length?o[c]:null}}function pb(e,t,n,i,r,o,s,a){if(!(t.type&3))return;let l=e.data,c=l[a+1],u=UA(c)?jv(l,t,n,r,xr(c),s):void 0;if(!Vl(u)){Vl(o)||jA(c)&&(o=jv(l,null,n,r,a,s));let d=Ty(Ri(),n);WS(i,s,d,r,o)}}function jv(e,t,n,i,r,o){let s=t===null,a;for(;r>0;){let l=e[r],c=Array.isArray(l),u=c?l[1]:l,d=u===null,h=n[r+1];h===Wn&&(h=d?Xe:void 0);let f=d?Ld(h,i):u===i?h:void 0;if(c&&!Vl(f)&&(f=Ld(l,i)),Vl(f)&&(a=f,s))return a;let p=e[r+1];r=s?Mi(p):xr(p)}if(t!==null){let l=o?t.residualClasses:t.residualStyles;l!=null&&(a=Ld(l,i))}return a}function Vl(e){return e!==void 0}function oN(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=et(jr(e)))),e}function gb(e,t){return(e.flags&(t?8:16))!==0}function sN(e,t,n,i,r,o){let s=t.consts,a=Dl(s,r),l=es(t,e,2,i,a);return j0(t,n,l,Dl(s,o)),l.attrs!==null&&Sh(l,l.attrs,!1),l.mergedAttrs!==null&&Sh(l,l.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,l),l}function re(e,t,n,i){let r=X(),o=Pe(),s=Kt+e,a=r[ve],l=o.firstCreatePass?sN(s,o,r,t,n,i):o.data[s],c=aN(o,r,l,a,t,e);r[s]=c;let u=ef(l);return Xo(l,!0),M0(a,c,l),!RA(l)&&af()&&yf(o,r,c,l),TT()===0&&Ii(c,r),ST(),u&&(P0(o,r,l),k0(o,l,r)),i!==null&&F0(r,l),re}function ce(){let e=He();Py()?Fy():(e=e.parent,Xo(e,!1));let t=e;AT(t)&&NT(),MT();let n=Pe();return n.firstCreatePass&&(cf(n,e),wy(e)&&n.queries.elementEnd(e)),t.classesWithoutHost!=null&&HT(t)&&Bh(n,t,X(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&GT(t)&&Bh(n,t,X(),t.stylesWithoutHost,!1),ce}function ze(e,t,n,i){return re(e,t,n,i),ce(),ze}var aN=(e,t,n,i,r,o)=>(lf(!0),_0(i,r,jT()));function Pi(){return X()}var jl="en-US";var lN=jl;function cN(e){typeof e=="string"&&(lN=e.toLowerCase().replace(/_/g,"-"))}var uN=(e,t,n)=>{};function it(e,t,n,i){let r=X(),o=Pe(),s=He();return mb(o,r,r[ve],s,e,t,i),it}function dN(e,t,n,i){let r=e.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===n&&r[o+1]===i){let a=t[bl],l=r[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function mb(e,t,n,i,r,o,s){let a=ef(i),c=e.firstCreatePass&&z0(e),u=t[kt],d=G0(t),h=!0;if(i.type&3||s){let m=Ct(i,t),b=s?s(m):m,T=d.length,j=s?ne=>s(qt(ne[i.index])):i.index,E=null;if(!s&&a&&(E=dN(e,t,r,i.index)),E!==null){let ne=E.__ngLastListenerFn__||E;ne.__ngNextListenerFn__=o,E.__ngLastListenerFn__=o,h=!1}else{o=Uv(i,t,u,o),uN(m,r,o);let ne=n.listen(b,r,o);d.push(o,ne),c&&c.push(r,j,T,T+1)}}else o=Uv(i,t,u,o);let f=i.outputs,p;if(h&&f!==null&&(p=f[r])){let m=p.length;if(m)for(let b=0;b<m;b+=2){let T=p[b],j=p[b+1],pe=t[T][j].subscribe(o),Ce=d.length;d.push(o,pe),c&&c.push(r,i.index,Ce,-(Ce+1))}}}function Bv(e,t,n,i){let r=Q(null);try{return Ht(6,t,n),n(i)!==!1}catch(o){return W0(e,o),!1}finally{Ht(7,t,n),Q(r)}}function Uv(e,t,n,i){return function r(o){if(o===Function)return i;let s=e.componentOffset>-1?Gn(e.index,t):t;Ef(s,5);let a=Bv(t,n,i,o),l=r.__ngNextListenerFn__;for(;l;)a=Bv(t,n,l,o)&&a,l=l.__ngNextListenerFn__;return a}}function Dt(e=1){return VT(e)}function hN(e,t){let n=null,i=KI(e);for(let r=0;r<t.length;r++){let o=t[r];if(o==="*"){n=r;continue}if(i===null?ay(e,o,!0):QI(i,o))return r}return n}function _b(e){let t=X()[bt][tt];if(!t.projection){let n=e?e.length:1,i=t.projection=VI(n,null),r=i.slice(),o=t.child;for(;o!==null;){if(o.type!==128){let s=e?hN(o,e):0;s!==null&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o)}o=o.next}}}function vb(e,t=0,n,i,r,o){let s=X(),a=Pe(),l=i?e+1:null;l!==null&&lb(s,a,l,i,r,o,null,n);let c=es(a,Kt+e,16,null,n||null);c.projection===null&&(c.projection=t),Fy();let d=!s[Ko]||xy();s[bt][tt].projection[c.projection]===null&&l!==null?fN(s,a,l):d&&(c.flags&32)!==32&&GS(a,s,c)}function fN(e,t,n){let i=Kt+n,r=t.data[i],o=e[i],s=Eh(o,r.tView.ssrId),a=K0(e,r,void 0,{dehydratedView:s});q0(o,a,0,Ch(r,s))}function yb(e,t,n){uA(e,t,n)}function Af(e){let t=X(),n=Pe(),i=jy();nf(i+1);let r=Sf(n,i);if(e.dirty&&CT(t)===((r.metadata.flags&2)===2)){if(r.matches===null)e.reset([]);else{let o=fA(t,i);e.reset(o,hS),e.notifyOnChanges()}return!0}return!1}function Nf(){return lA(X(),jy())}function We(e,t=""){let n=X(),i=Pe(),r=e+Kt,o=i.firstCreatePass?es(i,r,1,t,null):i.data[r],s=pN(i,n,o,t,e);n[r]=s,af()&&yf(i,n,s,o),Xo(o,!1)}var pN=(e,t,n,i,r)=>(lf(!0),RS(t[ve],i));function Pt(e){return Fi("",e,""),Pt}function Fi(e,t,n){let i=X(),r=VA(i,e,t,n);return r!==Wn&&yM(i,Ri(),r),Fi}function Gr(e,t,n){sb(t)&&(t=t());let i=X(),r=Xl();if(Ur(i,r,t)){let o=Pe(),s=sf();V0(o,s,i,e,t,i[ve],n,!1)}return Gr}function ts(e,t){let n=sb(e);return n&&e.set(t),n}function zr(e,t){let n=X(),i=Pe(),r=He();return mb(i,n,n[ve],r,e,t),zr}function gN(e,t,n){let i=Pe();if(i.firstCreatePass){let r=Bn(e);Uh(n,i.data,i.blueprint,r,!0),Uh(t,i.data,i.blueprint,r,!1)}}function Uh(e,t,n,i,r){if(e=$e(e),Array.isArray(e))for(let o=0;o<e.length;o++)Uh(e[o],t,n,i,r);else{let o=Pe(),s=X(),a=He(),l=Sr(e)?e:$e(e.provide),c=_y(e),u=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(Sr(e)||!e.multi){let f=new Di(c,r,K),p=Yd(l,t,r?u:u+h,d);p===-1?(uh(Tl(a,s),o,l),qd(o,e,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[p]=f,s[p]=f)}else{let f=Yd(l,t,u+h,d),p=Yd(l,t,u,u+h),m=f>=0&&n[f],b=p>=0&&n[p];if(r&&!b||!r&&!m){uh(Tl(a,s),o,l);let T=vN(r?_N:mN,n.length,r,i,c);!r&&b&&(n[p].providerFactory=T),qd(o,e,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(T),s.push(T)}else{let T=bb(n[r?p:f],c,!r&&i);qd(o,e,f>-1?f:p,T)}!r&&i&&b&&n[p].componentProviders++}}}function qd(e,t,n,i){let r=Sr(t),o=aT(t);if(r||o){let l=(o?$e(t.useClass):t).prototype.ngOnDestroy;if(l){let c=e.destroyHooks||(e.destroyHooks=[]);if(!r&&t.multi){let u=c.indexOf(n);u===-1?c.push(n,[i,l]):c[u+1].push(i,l)}else c.push(n,l)}}}function bb(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Yd(e,t,n,i){for(let r=n;r<i;r++)if(t[r]===e)return r;return-1}function mN(e,t,n,i){return $h(this.multi,[])}function _N(e,t,n,i){let r=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Ei(n,n[B],this.providerFactory.index,i);o=a.slice(0,s),$h(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],$h(r,o);return o}function $h(e,t){for(let n=0;n<e.length;n++){let i=e[n];t.push(i())}return t}function vN(e,t,n,i,r){let o=new Di(e,n,K);return o.multi=[],o.index=t,o.componentProviders=0,bb(o,r,i&&!n),o}function uc(e,t=[]){return n=>{n.providersResolver=(i,r)=>gN(i,r?r(e):e,t)}}var yN=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let i=py(!1,n.type),r=i.length>0?lc([i],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,r)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=C({token:e,providedIn:"environment",factory:()=>new e(_(Ae))})}}return e})();function ns(e){Br("NgStandalone"),e.getStandaloneInjector=t=>t.get(yN).getOrCreateStandaloneInjector(e)}var cl=null;function bN(e){cl!==null&&(e.defaultEncapsulation!==cl.defaultEncapsulation||e.preserveWhitespaces!==cl.preserveWhitespaces)||(cl=e)}var gn=class{constructor(t){this.full=t;let n=t.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},wb=new gn("18.2.9");var dc=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();var Rf=new w(""),is=new w(""),hc=(()=>{class e{constructor(n,i,r){this._ngZone=n,this.registry=i,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Of||(wN(r),r.addToWindow(i)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{P.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(n)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n()},i)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:r})}whenStable(n,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,i,r),this._runCallbacksIfReady()}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,i,r){return[]}static{this.\u0275fac=function(i){return new(i||e)(_(P),_(fc),_(is))}}static{this.\u0275prov=C({token:e,factory:e.\u0275fac})}}return e})(),fc=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,i){this._applications.set(n,i)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,i=!0){return Of?.findTestabilityInTree(this,n,i)??null}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();function wN(e){Of=e}var Of;function Li(e){return!!e&&typeof e.then=="function"}function Cb(e){return!!e&&typeof e.subscribe=="function"}var pc=new w(""),Db=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,i)=>{this.resolve=n,this.reject=i}),this.appInits=g(pc,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let r of this.appInits){let o=r();if(Li(o))n.push(o);else if(Cb(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});n.push(s)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{i()}).catch(r=>{this.reject(r)}),n.length===0&&i(),this.initialized=!0}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),gc=new w("");function CN(){V_(()=>{throw new I(600,!1)})}function DN(e){return e.isBoundToModule}var EN=10;function IN(e,t,n){try{let i=n();return Li(i)?i.catch(r=>{throw t.runOutsideAngular(()=>e.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>e.handleError(i)),i}}function Eb(e,t){return Array.isArray(t)?t.reduce(Eb,e):y(y({},e),t)}var Ft=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=g(uS),this.afterRenderManager=g(cb),this.zonelessEnabled=g(Tf),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new q,this.afterTick=new q,this.componentTypes=[],this.components=[],this.isStable=g(zn).hasPendingTasks.pipe(S(n=>!n)),this._injector=g(Ae)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(i=>{n=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,i){let r=n instanceof xl;if(!this._injector.get(Db).done){let h=!r&&uy(n),f=!1;throw new I(405,f)}let s;r?s=n:s=this._injector.get(Rr).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let a=DN(s)?void 0:this._injector.get($n),l=i||s.selector,c=s.create(Te.NULL,[],l,a),u=c.location.nativeElement,d=c.injector.get(Rf,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),gl(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new I(101,!1);let n=Q(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,Q(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(Or,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let i=0;for(;this.dirtyFlags!==0&&i++<EN;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(i);for(let{_lView:r,notifyErrorHandler:o}of this._views)TN(r,o,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Zl(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){let i=n;gl(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let i=this._injector.get(gc,[]);[...this._bootstrapListeners,...i].forEach(r=>r(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>gl(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new I(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function gl(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function TN(e,t,n,i){if(!n&&!Zl(e))return;Z0(e,t,n&&!i?0:1)}var Hh=class{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},mc=(()=>{class e{compileModuleSync(n){return new Ll(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let i=this.compileModuleSync(n),r=dy(n),o=m0(r.declarations).reduce((s,a)=>{let l=dn(a);return l&&s.push(new Si(l)),s},[]);return new Hh(i,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),SN=new w("");function MN(e,t,n){let i=new Ll(n);return Promise.resolve(i)}function $v(e){for(let t=e.length-1;t>=0;t--)if(e[t]!==void 0)return e[t]}var AN=(()=>{class e{constructor(){this.zone=g(P),this.changeDetectionScheduler=g(Nr),this.applicationRef=g(Ft)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function NN({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new P(U(y({},Ib()),{scheduleInRootZone:n})),[{provide:P,useFactory:e},{provide:Tr,multi:!0,useFactory:()=>{let i=g(AN,{optional:!0});return()=>i.initialize()}},{provide:Tr,multi:!0,useFactory:()=>{let i=g(RN);return()=>{i.initialize()}}},t===!0?{provide:tb,useValue:!0}:[],{provide:nb,useValue:n??i0}]}function Ib(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var RN=(()=>{class e{constructor(){this.subscription=new ge,this.initialized=!1,this.zone=g(P),this.pendingTasks=g(zn)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{P.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{P.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var ON=(()=>{class e{constructor(){this.appRef=g(Ft),this.taskService=g(zn),this.ngZone=g(P),this.zonelessEnabled=g(Tf),this.disableScheduling=g(tb,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new ge,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Ml):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(g(nb,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Al||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?Tv:r0;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Ml+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(n),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Tv(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function xN(){return typeof $localize<"u"&&$localize.locale||jl}var _c=new w("",{providedIn:"root",factory:()=>g(_c,$.Optional|$.SkipSelf)||xN()});var Bl=new w("");function ul(e){return!e.moduleRef}function kN(e){let t=ul(e)?e.r3Injector:e.moduleRef.injector,n=t.get(P);return n.run(()=>{ul(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let i=t.get(fn,null),r;if(n.runOutsideAngular(()=>{r=n.onError.subscribe({next:o=>{i.handleError(o)}})}),ul(e)){let o=()=>t.destroy(),s=e.platformInjector.get(Bl);s.add(o),t.onDestroy(()=>{r.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(Bl);s.add(o),e.moduleRef.onDestroy(()=>{gl(e.allPlatformModules,e.moduleRef),r.unsubscribe(),s.delete(o)})}return IN(i,n,()=>{let o=t.get(Db);return o.runInitializers(),o.donePromise.then(()=>{let s=t.get(_c,jl);if(cN(s||jl),ul(e)){let a=t.get(Ft);return e.rootComponent!==void 0&&a.bootstrap(e.rootComponent),a}else return PN(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function PN(e,t){let n=e.injector.get(Ft);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(i=>n.bootstrap(i));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(n);else throw new I(-403,!1);t.push(e)}var Tb=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,i){let r=i?.scheduleInRootZone,o=()=>cS(i?.ngZone,U(y({},Ib({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing})),{scheduleInRootZone:r})),s=i?.ignoreChangesOutsideZone,a=[NN({ngZoneFactory:o,ignoreChangesOutsideZone:s}),{provide:Nr,useExisting:ON}],l=MA(n.moduleType,this.injector,a);return kN({moduleRef:l,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(n,i=[]){let r=Eb({},i);return MN(this.injector,r,n).then(o=>this.bootstrapModuleFactory(o,r))}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new I(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());let n=this._injector.get(Bl,null);n&&(n.forEach(i=>i()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(i){return new(i||e)(_(Te))}}static{this.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})(),Ho=null,Sb=new w("");function FN(e){if(Ho&&!Ho.get(Sb,!1))throw new I(400,!1);CN(),Ho=e;let t=e.get(Tb);return jN(e),t}function xf(e,t,n=[]){let i=`Platform: ${t}`,r=new w(i);return(o=[])=>{let s=Mb();if(!s||s.injector.get(Sb,!1)){let a=[...n,...o,{provide:r,useValue:!0}];e?e(a):FN(LN(a,i))}return VN(r)}}function LN(e=[],t){return Te.create({name:t,providers:[{provide:Kl,useValue:"platform"},{provide:Bl,useValue:new Set([()=>Ho=null])},...e]})}function VN(e){let t=Mb();if(!t)throw new I(401,!1);return t}function Mb(){return Ho?.get(Tb)??null}function jN(e){e.get(ff,null)?.forEach(n=>n())}function kf(){return!1}var vn=(()=>{class e{static{this.__NG_ELEMENT_ID__=BN}}return e})();function BN(e){return UN(He(),X(),(e&16)===16)}function UN(e,t,n){if(Ql(e)&&!n){let i=Gn(e.index,t);return new Ti(i,i)}else if(e.type&175){let i=t[bt];return new Ti(i,t)}return null}var Gh=class{constructor(){}supports(t){return ab(t)}create(t){return new zh(t)}},$N=(e,t)=>t,zh=class{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||$N}forEachItem(t){let n;for(n=this._itHead;n!==null;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,i=this._removalsHead,r=0,o=null;for(;n||i;){let s=!i||n&&n.currentIndex<Hv(i,r,o)?n:i,a=Hv(s,r,o),l=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(n=n._next,s.previousIndex==null)r++;else{o||(o=[]);let c=a-r,u=l-r;if(c!=u){for(let h=0;h<c;h++){let f=h<o.length?o[h]:o[h]=0,p=f+h;u<=p&&p<c&&(o[h]=f+1)}let d=s.previousIndex;o[d]=u-c}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)t(n)}diff(t){if(t==null&&(t=[]),!ab(t))throw new I(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._itHead,i=!1,r,o,s;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),i=!0):(i&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else r=0,AA(t,a=>{s=this._trackByFn(r,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,r),i=!0):(i&&(n=this._verifyReinsertion(n,a,s,r)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,r++}),this.length=r;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,i,r){let o;return t===null?o=this._itTail:(o=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,o,r)):(t=this._linkedRecords===null?null:this._linkedRecords.get(i,r),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,o,r)):t=this._addAfter(new Wh(n,i),o,r)),t}_verifyReinsertion(t,n,i,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?t=this._reinsertAfter(o,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;t!==null;){let n=t._next;this._addToRemovals(this._unlink(t)),t=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let r=t._prevRemoved,o=t._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(t,n,i),this._addToMoves(t,i),t}_moveAfter(t,n,i){return this._unlink(t),this._insertAfter(t,n,i),this._addToMoves(t,i),t}_addAfter(t,n,i){return this._insertAfter(t,n,i),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,n,i){let r=n===null?this._itHead:n._next;return t._next=r,t._prev=n,r===null?this._itTail=t:r._prev=t,n===null?this._itHead=t:n._next=t,this._linkedRecords===null&&(this._linkedRecords=new Ul),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let n=t._prev,i=t._next;return n===null?this._itHead=i:n._next=i,i===null?this._itTail=n:i._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Ul),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},Wh=class{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Kh=class{constructor(){this._head=null,this._tail=null}add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let i;for(i=this._head;i!==null;i=i._nextDup)if((n===null||n<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){let n=t._prevDup,i=t._nextDup;return n===null?this._head=i:n._nextDup=i,i===null?this._tail=n:i._prevDup=n,this._head===null}},Ul=class{constructor(){this.map=new Map}put(t){let n=t.trackById,i=this.map.get(n);i||(i=new Kh,this.map.set(n,i)),i.add(t)}get(t,n){let i=t,r=this.map.get(i);return r?r.get(t,n):null}remove(t){let n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Hv(e,t,n){let i=e.previousIndex;if(i===null)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+t+r}function Gv(){return new Pf([new Gh])}var Pf=(()=>{class e{static{this.\u0275prov=C({token:e,providedIn:"root",factory:Gv})}constructor(n){this.factories=n}static create(n,i){if(i!=null){let r=i.factories.slice();n=n.concat(r)}return new e(n)}static extend(n){return{provide:e,useFactory:i=>e.create(n,i||Gv()),deps:[[e,new Yh,new Pr]]}}find(n){let i=this.factories.find(r=>r.supports(n));if(i!=null)return i;throw new I(901,!1)}}return e})();var Ab=xf(null,"core",[]),Nb=(()=>{class e{constructor(n){}static{this.\u0275fac=function(i){return new(i||e)(_(Ft))}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();function Vi(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function vc(e,t){Br("NgSignals");let n=P_(e);return t?.equal&&(n[sn].equal=t.equal),n}function qn(e){let t=Q(null);try{return e()}finally{Q(t)}}function yc(e,t){let n=dn(e),i=t.elementInjector||ql();return new Si(n).create(i,t.projectableNodes,t.hostElement,t.environmentInjector)}function Rb(e){let t=dn(e);if(!t)return null;let n=new Si(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var Pb=null;function Yt(){return Pb}function Fb(e){Pb??=e}var bc=class{};var we=new w(""),jf=(()=>{class e{historyGo(n){throw new Error("")}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=C({token:e,factory:()=>g(zN),providedIn:"platform"})}}return e})(),Lb=new w(""),zN=(()=>{class e extends jf{constructor(){super(),this._doc=g(we),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Yt().getBaseHref(this._doc)}onPopState(n){let i=Yt().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",n,!1),()=>i.removeEventListener("popstate",n)}onHashChange(n){let i=Yt().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",n,!1),()=>i.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,i,r){this._history.pushState(n,i,r)}replaceState(n,i,r){this._history.replaceState(n,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=C({token:e,factory:()=>new e,providedIn:"platform"})}}return e})();function Bf(e,t){if(e.length==0)return t;if(t.length==0)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,n==2?e+t.substring(1):n==1?e+t:e+"/"+t}function Ob(e){let t=e.match(/#|\?|$/),n=t&&t.index||e.length,i=n-(e[n-1]==="/"?1:0);return e.slice(0,i)+e.slice(n)}function yn(e){return e&&e[0]!=="?"?"?"+e:e}var bn=(()=>{class e{historyGo(n){throw new Error("")}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=C({token:e,factory:()=>g(Uf),providedIn:"root"})}}return e})(),Vb=new w(""),Uf=(()=>{class e extends bn{constructor(n,i){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??g(we).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Bf(this._baseHref,n)}path(n=!1){let i=this._platformLocation.pathname+yn(this._platformLocation.search),r=this._platformLocation.hash;return r&&n?`${i}${r}`:i}pushState(n,i,r,o){let s=this.prepareExternalUrl(r+yn(o));this._platformLocation.pushState(n,i,s)}replaceState(n,i,r,o){let s=this.prepareExternalUrl(r+yn(o));this._platformLocation.replaceState(n,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(i){return new(i||e)(_(jf),_(Vb,8))}}static{this.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),jb=(()=>{class e extends bn{constructor(n,i){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(n){let i=Bf(this._baseHref,n);return i.length>0?"#"+i:i}pushState(n,i,r,o){let s=this.prepareExternalUrl(r+yn(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,i,s)}replaceState(n,i,r,o){let s=this.prepareExternalUrl(r+yn(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(i){return new(i||e)(_(jf),_(Vb,8))}}static{this.\u0275prov=C({token:e,factory:e.\u0275fac})}}return e})(),Kr=(()=>{class e{constructor(n){this._subject=new le,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let i=this._locationStrategy.getBaseHref();this._basePath=qN(Ob(xb(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,i=""){return this.path()==this.normalize(n+yn(i))}normalize(n){return e.stripTrailingSlash(KN(this._basePath,xb(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,i="",r=null){this._locationStrategy.pushState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+yn(i)),r)}replaceState(n,i="",r=null){this._locationStrategy.replaceState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+yn(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",i){this._urlChangeListeners.forEach(r=>r(n,i))}subscribe(n,i,r){return this._subject.subscribe({next:n,error:i,complete:r})}static{this.normalizeQueryParams=yn}static{this.joinWithSlash=Bf}static{this.stripTrailingSlash=Ob}static{this.\u0275fac=function(i){return new(i||e)(_(bn))}}static{this.\u0275prov=C({token:e,factory:()=>WN(),providedIn:"root"})}}return e})();function WN(){return new Kr(_(bn))}function KN(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function xb(e){return e.replace(/\/index.html$/,"")}function qN(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}function wc(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let i=n.indexOf("="),[r,o]=i==-1?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}var Ff=class{constructor(t,n,i,r){this.$implicit=t,this.ngForOf=n,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},qr=(()=>{class e{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,i,r){this._viewContainer=n,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let i=this._viewContainer;n.forEachOperation((r,o,s)=>{if(r.previousIndex==null)i.createEmbeddedView(this._template,new Ff(r.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)i.remove(o===null?void 0:o);else if(o!==null){let a=i.get(o);i.move(a,s),kb(a,r)}});for(let r=0,o=i.length;r<o;r++){let a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(r=>{let o=i.get(r.currentIndex);kb(o,r)})}static ngTemplateContextGuard(n,i){return!0}static{this.\u0275fac=function(i){return new(i||e)(K(Kn),K(Un),K(Pf))}}static{this.\u0275dir=st({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return e})();function kb(e,t){e.context.$implicit=t.item}var Bb=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})(),$f="browser",YN="server";function Ub(e){return e===$f}function Yr(e){return e===YN}var $b=(()=>{class e{static{this.\u0275prov=C({token:e,providedIn:"root",factory:()=>Ub(g(Fe))?new Lf(g(we),window):new Vf})}}return e})(),Lf=class{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t){this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){let n=QN(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){this.window.history.scrollRestoration=t}scrollToElement(t){let n=t.getBoundingClientRect(),i=n.left+this.window.pageXOffset,r=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}};function QN(e,t){let n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let i=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let o=r.shadowRoot;if(o){let s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}r=i.nextNode()}}return null}var Vf=class{setOffset(t){}getScrollPosition(){return[0,0]}scrollToPosition(t){}scrollToAnchor(t){}setHistoryScrollRestoration(t){}},Wr=class{};var ss=class{},Dc=class{},wn=class e{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(n=>{let i=n.indexOf(":");if(i>0){let r=n.slice(0,i),o=r.toLowerCase(),s=n.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,i)=>{this.setHeaderEntries(i,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,i])=>{this.setHeaderEntries(n,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){let n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){let n=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(t.name,n);let r=(t.op==="a"?this.headers.get(n):void 0)||[];r.push(...i),this.headers.set(n,r);break;case"d":let o=t.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(t,n){let i=(Array.isArray(n)?n:[n]).map(o=>o.toString()),r=t.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}};var Gf=class{encodeKey(t){return Hb(t)}encodeValue(t){return Hb(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function ZN(e,t){let n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],l=n.get(s)||[];l.push(a),n.set(s,l)}),n}var JN=/%(\d[a-f0-9])/gi,XN={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Hb(e){return encodeURIComponent(e).replace(JN,(t,n)=>XN[n]??t)}function Cc(e){return`${e}`}var Qn=class e{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Gf,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=ZN(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{let i=t.fromObject[n],r=Array.isArray(i)?i.map(Cc):[Cc(i)];this.map.set(n,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){let n=[];return Object.keys(t).forEach(i=>{let r=t[i];Array.isArray(r)?r.forEach(o=>{n.push({param:i,value:o,op:"a"})}):n.push({param:i,value:r,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let n=this.encoder.encodeKey(t);return this.map.get(t).map(i=>n+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let n=(t.op==="a"?this.map.get(t.param):void 0)||[];n.push(Cc(t.value)),this.map.set(t.param,n);break;case"d":if(t.value!==void 0){let i=this.map.get(t.param)||[],r=i.indexOf(Cc(t.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var zf=class{constructor(){this.map=new Map}set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function eR(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Gb(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function zb(e){return typeof Blob<"u"&&e instanceof Blob}function Wb(e){return typeof FormData<"u"&&e instanceof FormData}function tR(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var os=class e{constructor(t,n,i,r){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase();let o;if(eR(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new wn,this.context??=new zf,!this.params)this.params=new Qn,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),l=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Gb(this.body)||zb(this.body)||Wb(this.body)||tR(this.body)?this.body:this.body instanceof Qn?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Wb(this.body)?null:zb(this.body)?this.body.type||null:Gb(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Qn?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(t={}){let n=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,o=t.transferCache??this.transferCache,s=t.body!==void 0?t.body:this.body,a=t.withCredentials??this.withCredentials,l=t.reportProgress??this.reportProgress,c=t.headers||this.headers,u=t.params||this.params,d=t.context??this.context;return t.setHeaders!==void 0&&(c=Object.keys(t.setHeaders).reduce((h,f)=>h.set(f,t.setHeaders[f]),c)),t.setParams&&(u=Object.keys(t.setParams).reduce((h,f)=>h.set(f,t.setParams[f]),u)),new e(n,i,s,{params:u,headers:c,context:d,reportProgress:l,responseType:r,withCredentials:a,transferCache:o})}},Zn=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Zn||{}),as=class{constructor(t,n=200,i="OK"){this.headers=t.headers||new wn,this.status=t.status!==void 0?t.status:n,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},Ec=class e extends as{constructor(t={}){super(t),this.type=Zn.ResponseHeader}clone(t={}){return new e({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},ls=class e extends as{constructor(t={}){super(t),this.type=Zn.Response,this.body=t.body!==void 0?t.body:null}clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Yn=class extends as{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},Qb=200,nR=204;function Hf(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}var Cn=(()=>{class e{constructor(n){this.handler=n}request(n,i,r={}){let o;if(n instanceof os)o=n;else{let l;r.headers instanceof wn?l=r.headers:l=new wn(r.headers);let c;r.params&&(r.params instanceof Qn?c=r.params:c=new Qn({fromObject:r.params})),o=new os(n,i,r.body!==void 0?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}let s=D(o).pipe(cn(l=>this.handler.handle(l)));if(n instanceof os||r.observe==="events")return s;let a=s.pipe(_e(l=>l instanceof ls));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(S(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(S(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(S(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return a.pipe(S(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(n,i={}){return this.request("DELETE",n,i)}get(n,i={}){return this.request("GET",n,i)}head(n,i={}){return this.request("HEAD",n,i)}jsonp(n,i){return this.request("JSONP",n,{params:new Qn().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,i={}){return this.request("OPTIONS",n,i)}patch(n,i,r={}){return this.request("PATCH",n,Hf(r,i))}post(n,i,r={}){return this.request("POST",n,Hf(r,i))}put(n,i,r={}){return this.request("PUT",n,Hf(r,i))}static{this.\u0275fac=function(i){return new(i||e)(_(ss))}}static{this.\u0275prov=C({token:e,factory:e.\u0275fac})}}return e})(),iR=/^\)\]\}',?\n/,rR="X-Request-URL";function Kb(e){if(e.url)return e.url;let t=rR.toLocaleLowerCase();return e.headers.get(t)}var oR=(()=>{class e{constructor(){this.fetchImpl=g(Wf,{optional:!0})?.fetch??((...n)=>globalThis.fetch(...n)),this.ngZone=g(P)}handle(n){return new N(i=>{let r=new AbortController;return this.doRequest(n,r.signal,i).then(Kf,o=>i.error(new Yn({error:o}))),()=>r.abort()})}doRequest(n,i,r){return Qe(this,null,function*(){let o=this.createRequestInit(n),s;try{let f=this.ngZone.runOutsideAngular(()=>this.fetchImpl(n.urlWithParams,y({signal:i},o)));sR(f),r.next({type:Zn.Sent}),s=yield f}catch(f){r.error(new Yn({error:f,status:f.status??0,statusText:f.statusText,url:n.urlWithParams,headers:f.headers}));return}let a=new wn(s.headers),l=s.statusText,c=Kb(s)??n.urlWithParams,u=s.status,d=null;if(n.reportProgress&&r.next(new Ec({headers:a,status:u,statusText:l,url:c})),s.body){let f=s.headers.get("content-length"),p=[],m=s.body.getReader(),b=0,T,j,E=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>Qe(this,null,function*(){for(;;){let{done:pe,value:Ce}=yield m.read();if(pe)break;if(p.push(Ce),b+=Ce.length,n.reportProgress){j=n.responseType==="text"?(j??"")+(T??=new TextDecoder).decode(Ce,{stream:!0}):void 0;let rn=()=>r.next({type:Zn.DownloadProgress,total:f?+f:void 0,loaded:b,partialText:j});E?E.run(rn):rn()}}}));let ne=this.concatChunks(p,b);try{let pe=s.headers.get("Content-Type")??"";d=this.parseBody(n,ne,pe)}catch(pe){r.error(new Yn({error:pe,headers:new wn(s.headers),status:s.status,statusText:s.statusText,url:Kb(s)??n.urlWithParams}));return}}u===0&&(u=d?Qb:0),u>=200&&u<300?(r.next(new ls({body:d,headers:a,status:u,statusText:l,url:c})),r.complete()):r.error(new Yn({error:d,headers:a,status:u,statusText:l,url:c}))})}parseBody(n,i,r){switch(n.responseType){case"json":let o=new TextDecoder().decode(i).replace(iR,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:r});case"arraybuffer":return i.buffer}}createRequestInit(n){let i={},r=n.withCredentials?"include":void 0;if(n.headers.forEach((o,s)=>i[o]=s.join(",")),n.headers.has("Accept")||(i.Accept="application/json, text/plain, */*"),!n.headers.has("Content-Type")){let o=n.detectContentTypeHeader();o!==null&&(i["Content-Type"]=o)}return{body:n.serializeBody(),method:n.method,headers:i,credentials:r}}concatChunks(n,i){let r=new Uint8Array(i),o=0;for(let s of n)r.set(s,o),o+=s.length;return r}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=C({token:e,factory:e.\u0275fac})}}return e})(),Wf=class{};function Kf(){}function sR(e){e.then(Kf,Kf)}function aR(e,t){return t(e)}function lR(e,t,n){return(i,r)=>wt(n,()=>t(i,o=>e(o,r)))}var Zb=new w(""),cR=new w(""),uR=new w("",{providedIn:"root",factory:()=>!0});var qb=(()=>{class e extends ss{constructor(n,i){super(),this.backend=n,this.injector=i,this.chain=null,this.pendingTasks=g(zn),this.contributeToStability=g(uR)}handle(n){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(Zb),...this.injector.get(cR,[])]));this.chain=i.reduceRight((r,o)=>lR(r,o,this.injector),aR)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(n,r=>this.backend.handle(r)).pipe(Pn(()=>this.pendingTasks.remove(i)))}else return this.chain(n,i=>this.backend.handle(i))}static{this.\u0275fac=function(i){return new(i||e)(_(Dc),_(Ae))}}static{this.\u0275prov=C({token:e,factory:e.\u0275fac})}}return e})();var dR=/^\)\]\}',?\n/;function hR(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}var Yb=(()=>{class e{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new I(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?ee(i.\u0275loadImpl()):D(null)).pipe(ie(()=>new N(o=>{let s=i.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((m,b)=>s.setRequestHeader(m,b.join(","))),n.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let m=n.detectContentTypeHeader();m!==null&&s.setRequestHeader("Content-Type",m)}if(n.responseType){let m=n.responseType.toLowerCase();s.responseType=m!=="json"?m:"text"}let a=n.serializeBody(),l=null,c=()=>{if(l!==null)return l;let m=s.statusText||"OK",b=new wn(s.getAllResponseHeaders()),T=hR(s)||n.url;return l=new Ec({headers:b,status:s.status,statusText:m,url:T}),l},u=()=>{let{headers:m,status:b,statusText:T,url:j}=c(),E=null;b!==nR&&(E=typeof s.response>"u"?s.responseText:s.response),b===0&&(b=E?Qb:0);let ne=b>=200&&b<300;if(n.responseType==="json"&&typeof E=="string"){let pe=E;E=E.replace(dR,"");try{E=E!==""?JSON.parse(E):null}catch(Ce){E=pe,ne&&(ne=!1,E={error:Ce,text:E})}}ne?(o.next(new ls({body:E,headers:m,status:b,statusText:T,url:j||void 0})),o.complete()):o.error(new Yn({error:E,headers:m,status:b,statusText:T,url:j||void 0}))},d=m=>{let{url:b}=c(),T=new Yn({error:m,status:s.status||0,statusText:s.statusText||"Unknown Error",url:b||void 0});o.error(T)},h=!1,f=m=>{h||(o.next(c()),h=!0);let b={type:Zn.DownloadProgress,loaded:m.loaded};m.lengthComputable&&(b.total=m.total),n.responseType==="text"&&s.responseText&&(b.partialText=s.responseText),o.next(b)},p=m=>{let b={type:Zn.UploadProgress,loaded:m.loaded};m.lengthComputable&&(b.total=m.total),o.next(b)};return s.addEventListener("load",u),s.addEventListener("error",d),s.addEventListener("timeout",d),s.addEventListener("abort",d),n.reportProgress&&(s.addEventListener("progress",f),a!==null&&s.upload&&s.upload.addEventListener("progress",p)),s.send(a),o.next({type:Zn.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",u),s.removeEventListener("timeout",d),n.reportProgress&&(s.removeEventListener("progress",f),a!==null&&s.upload&&s.upload.removeEventListener("progress",p)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(i){return new(i||e)(_(Wr))}}static{this.\u0275prov=C({token:e,factory:e.\u0275fac})}}return e})(),Jb=new w(""),fR="XSRF-TOKEN",pR=new w("",{providedIn:"root",factory:()=>fR}),gR="X-XSRF-TOKEN",mR=new w("",{providedIn:"root",factory:()=>gR}),Ic=class{},_R=(()=>{class e{constructor(n,i,r){this.doc=n,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=wc(n,this.cookieName),this.lastCookieString=n),this.lastToken}static{this.\u0275fac=function(i){return new(i||e)(_(we),_(Fe),_(pR))}}static{this.\u0275prov=C({token:e,factory:e.\u0275fac})}}return e})();function vR(e,t){let n=e.url.toLowerCase();if(!g(Jb)||e.method==="GET"||e.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return t(e);let i=g(Ic).getToken(),r=g(mR);return i!=null&&!e.headers.has(r)&&(e=e.clone({headers:e.headers.set(r,i)})),t(e)}function Xb(...e){let t=[Cn,Yb,qb,{provide:ss,useExisting:qb},{provide:Dc,useFactory:()=>g(oR,{optional:!0})??g(Yb)},{provide:Zb,useValue:vR,multi:!0},{provide:Jb,useValue:!0},{provide:Ic,useClass:_R}];for(let n of e)t.push(...n.\u0275providers);return Wl(t)}var Qf=class extends bc{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Zf=class e extends Qf{static makeCurrent(){Fb(new e)}onAndCancel(t,n,i){return t.addEventListener(n,i),()=>{t.removeEventListener(n,i)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=yR();return n==null?null:bR(n)}resetBaseElement(){cs=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return wc(document.cookie,t)}},cs=null;function yR(){return cs=cs||document.querySelector("base"),cs?cs.getAttribute("href"):null}function bR(e){return new URL(e,document.baseURI).pathname}var Jf=class{addToWindow(t){xt.getAngularTestability=(i,r=!0)=>{let o=t.findTestabilityInTree(i,r);if(o==null)throw new I(5103,!1);return o},xt.getAllAngularTestabilities=()=>t.getAllTestabilities(),xt.getAllAngularRootElements=()=>t.getAllRootElements();let n=i=>{let r=xt.getAllAngularTestabilities(),o=r.length,s=function(){o--,o==0&&i()};r.forEach(a=>{a.whenStable(s)})};xt.frameworkStabilizers||(xt.frameworkStabilizers=[]),xt.frameworkStabilizers.push(n)}findTestabilityInTree(t,n,i){if(n==null)return null;let r=t.getTestability(n);return r??(i?Yt().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},wR=(()=>{class e{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=C({token:e,factory:e.\u0275fac})}}return e})(),Xf=new w(""),iw=(()=>{class e{constructor(n,i){this._zone=i,this._eventNameToPlugin=new Map,n.forEach(r=>{r.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,i,r){return this._findPluginFor(i).addEventListener(n,i,r)}getZone(){return this._zone}_findPluginFor(n){let i=this._eventNameToPlugin.get(n);if(i)return i;if(i=this._plugins.find(o=>o.supports(n)),!i)throw new I(5101,!1);return this._eventNameToPlugin.set(n,i),i}static{this.\u0275fac=function(i){return new(i||e)(_(Xf),_(P))}}static{this.\u0275prov=C({token:e,factory:e.\u0275fac})}}return e})(),Sc=class{constructor(t){this._doc=t}},qf="ng-app-id",rw=(()=>{class e{constructor(n,i,r,o={}){this.doc=n,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Yr(o),this.resetHostNodes()}addStyles(n){for(let i of n)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(n){for(let i of n)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(i=>i.remove()),n.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let i of this.getAllStyles())this.addStyleToHost(n,i)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let i of this.hostNodes)this.addStyleToHost(i,n)}onStyleRemoved(n){let i=this.styleRef;i.get(n)?.elements?.forEach(r=>r.remove()),i.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${qf}="${this.appId}"]`);if(n?.length){let i=new Map;return n.forEach(r=>{r.textContent!=null&&i.set(r.textContent,r)}),i}return null}changeUsageCount(n,i){let r=this.styleRef;if(r.has(n)){let o=r.get(n);return o.usage+=i,o.usage}return r.set(n,{usage:i,elements:[]}),i}getStyleElement(n,i){let r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===n)return r.delete(i),o.removeAttribute(qf),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(qf,this.appId),n.appendChild(s),s}}addStyleToHost(n,i){let r=this.getStyleElement(n,i),o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||e)(_(we),_(nc),_(pf,8),_(Fe))}}static{this.\u0275prov=C({token:e,factory:e.\u0275fac})}}return e})(),Yf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},tp=/%COMP%/g,ow="%COMP%",CR=`_nghost-${ow}`,DR=`_ngcontent-${ow}`,ER=!0,IR=new w("",{providedIn:"root",factory:()=>ER});function TR(e){return DR.replace(tp,e)}function SR(e){return CR.replace(tp,e)}function sw(e,t){return t.map(n=>n.replace(tp,e))}var ew=(()=>{class e{constructor(n,i,r,o,s,a,l,c=null){this.eventManager=n,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=Yr(a),this.defaultRenderer=new us(n,s,l,this.platformIsServer)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===zt.ShadowDom&&(i=U(y({},i),{encapsulation:zt.Emulated}));let r=this.getOrCreateRenderer(n,i);return r instanceof Mc?r.applyToHost(n):r instanceof ds&&r.applyStyles(),r}getOrCreateRenderer(n,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(i.encapsulation){case zt.Emulated:o=new Mc(l,c,i,this.appId,u,s,a,d);break;case zt.ShadowDom:return new ep(l,c,n,i,s,a,this.nonce,d);default:o=new ds(l,c,i,u,s,a,d);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||e)(_(iw),_(rw),_(nc),_(IR),_(we),_(Fe),_(P),_(pf))}}static{this.\u0275prov=C({token:e,factory:e.\u0275fac})}}return e})(),us=class{constructor(t,n,i,r){this.eventManager=t,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(Yf[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(tw(t)?t.content:t).appendChild(n)}insertBefore(t,n,i){t&&(tw(t)?t.content:t).insertBefore(n,i)}removeChild(t,n){n.remove()}selectRootElement(t,n){let i=typeof t=="string"?this.doc.querySelector(t):t;if(!i)throw new I(-5104,!1);return n||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,i,r){if(r){n=r+":"+n;let o=Yf[r];o?t.setAttributeNS(o,n,i):t.setAttribute(n,i)}else t.setAttribute(n,i)}removeAttribute(t,n,i){if(i){let r=Yf[i];r?t.removeAttributeNS(r,n):t.removeAttribute(`${i}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,i,r){r&(pn.DashCase|pn.Important)?t.style.setProperty(n,i,r&pn.Important?"important":""):t.style[n]=i}removeStyle(t,n,i){i&pn.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,i){t!=null&&(t[n]=i)}setValue(t,n){t.nodeValue=n}listen(t,n,i){if(typeof t=="string"&&(t=Yt().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(i))}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))===!1&&n.preventDefault()}}};function tw(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var ep=class extends us{constructor(t,n,i,r,o,s,a,l){super(t,o,s,l),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=sw(r.id,r.styles);for(let u of c){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,i){return super.insertBefore(this.nodeOrShadowRoot(t),n,i)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ds=class extends us{constructor(t,n,i,r,o,s,a,l){super(t,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=l?sw(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Mc=class extends ds{constructor(t,n,i,r,o,s,a,l){let c=r+"-"+i.id;super(t,n,i,o,s,a,l,c),this.contentAttr=TR(c),this.hostAttr=SR(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let i=super.createElement(t,n);return super.setAttribute(i,this.contentAttr,""),i}},MR=(()=>{class e extends Sc{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,r){return n.addEventListener(i,r,!1),()=>this.removeEventListener(n,i,r)}removeEventListener(n,i,r){return n.removeEventListener(i,r)}static{this.\u0275fac=function(i){return new(i||e)(_(we))}}static{this.\u0275prov=C({token:e,factory:e.\u0275fac})}}return e})(),nw=["alt","control","meta","shift"],AR={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},NR={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},RR=(()=>{class e extends Sc{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,i,r){let o=e.parseEventName(i),s=e.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Yt().onAndCancel(n,o.domEventName,s))}static parseEventName(n){let i=n.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=e._normalizeKey(i.pop()),s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),nw.forEach(c=>{let u=i.indexOf(c);u>-1&&(i.splice(u,1),s+=c+".")}),s+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(n,i){let r=AR[n.key]||n.key,o="";return i.indexOf("code.")>-1&&(r=n.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),nw.forEach(s=>{if(s!==r){let a=NR[s];a(n)&&(o+=s+".")}}),o+=r,o===i)}static eventCallback(n,i,r){return o=>{e.matchEventFullKeyCode(o,n)&&r.runGuarded(()=>i(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(i){return new(i||e)(_(we))}}static{this.\u0275prov=C({token:e,factory:e.\u0275fac})}}return e})();function OR(){Zf.makeCurrent()}function xR(){return new fn}function kR(){return d0(document),document}var PR=[{provide:Fe,useValue:$f},{provide:ff,useValue:OR,multi:!0},{provide:we,useFactory:kR,deps:[]}],aw=xf(Ab,"browser",PR),FR=new w(""),LR=[{provide:is,useClass:Jf,deps:[]},{provide:Rf,useClass:hc,deps:[P,fc,is]},{provide:hc,useClass:hc,deps:[P,fc,is]}],VR=[{provide:Kl,useValue:"root"},{provide:fn,useFactory:xR,deps:[]},{provide:Xf,useClass:MR,multi:!0,deps:[we,P,Fe]},{provide:Xf,useClass:RR,multi:!0,deps:[we]},ew,rw,iw,{provide:Or,useExisting:ew},{provide:Wr,useClass:wR,deps:[]},[]],lw=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:nc,useValue:n.appId}]}}static{this.\u0275fac=function(i){return new(i||e)(_(FR,12))}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({providers:[...VR,...LR],imports:[Bb,Nb]})}}return e})();var cw=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(i){return new(i||e)(_(we))}}static{this.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var V="primary",Is=Symbol("RouteTitle"),sp=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function to(e){return new sp(e)}function BR(e,t,n){let i=n.path.split("/");if(i.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||i.length<e.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],a=e[o];if(s[0]===":")r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,i.length),posParams:r}}function UR(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Qt(e[n],t[n]))return!1;return!0}function Qt(e,t){let n=e?ap(e):void 0,i=t?ap(t):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let o=0;o<n.length;o++)if(r=n[o],!ww(e[r],t[r]))return!1;return!0}function ap(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function ww(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),i=[...t].sort();return n.every((r,o)=>i[o]===r)}else return e===t}function Cw(e){return e.length>0?e[e.length-1]:null}function ei(e){return Md(e)?e:Li(e)?ee(Promise.resolve(e)):D(e)}var $R={exact:Ew,subset:Iw},Dw={exact:HR,subset:GR,ignored:()=>!0};function dw(e,t,n){return $R[n.paths](e.root,t.root,n.matrixParams)&&Dw[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function HR(e,t){return Qt(e,t)}function Ew(e,t,n){if(!Bi(e.segments,t.segments)||!Rc(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let i in t.children)if(!e.children[i]||!Ew(e.children[i],t.children[i],n))return!1;return!0}function GR(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>ww(e[n],t[n]))}function Iw(e,t,n){return Tw(e,t,t.segments,n)}function Tw(e,t,n,i){if(e.segments.length>n.length){let r=e.segments.slice(0,n.length);return!(!Bi(r,n)||t.hasChildren()||!Rc(r,n,i))}else if(e.segments.length===n.length){if(!Bi(e.segments,n)||!Rc(e.segments,n,i))return!1;for(let r in t.children)if(!e.children[r]||!Iw(e.children[r],t.children[r],i))return!1;return!0}else{let r=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!Bi(e.segments,r)||!Rc(e.segments,r,i)||!e.children[V]?!1:Tw(e.children[V],t,o,i)}}function Rc(e,t,n){return t.every((i,r)=>Dw[n](e[r].parameters,i.parameters))}var En=class{constructor(t=new te([],{}),n={},i=null){this.root=t,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap??=to(this.queryParams),this._queryParamMap}toString(){return KR.serialize(this)}},te=class{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Oc(this)}},ji=class{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=to(this.parameters),this._parameterMap}toString(){return Mw(this)}};function zR(e,t){return Bi(e,t)&&e.every((n,i)=>Qt(n.parameters,t[i].parameters))}function Bi(e,t){return e.length!==t.length?!1:e.every((n,i)=>n.path===t[i].path)}function WR(e,t){let n=[];return Object.entries(e.children).forEach(([i,r])=>{i===V&&(n=n.concat(t(r,i)))}),Object.entries(e.children).forEach(([i,r])=>{i!==V&&(n=n.concat(t(r,i)))}),n}var Ts=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=C({token:e,factory:()=>new no,providedIn:"root"})}}return e})(),no=class{parse(t){let n=new cp(t);return new En(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${hs(t.root,!0)}`,i=QR(t.queryParams),r=typeof t.fragment=="string"?`#${qR(t.fragment)}`:"";return`${n}${i}${r}`}},KR=new no;function Oc(e){return e.segments.map(t=>Mw(t)).join("/")}function hs(e,t){if(!e.hasChildren())return Oc(e);if(t){let n=e.children[V]?hs(e.children[V],!1):"",i=[];return Object.entries(e.children).forEach(([r,o])=>{r!==V&&i.push(`${r}:${hs(o,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}else{let n=WR(e,(i,r)=>r===V?[hs(e.children[V],!1)]:[`${r}:${hs(i,!1)}`]);return Object.keys(e.children).length===1&&e.children[V]!=null?`${Oc(e)}/${n[0]}`:`${Oc(e)}/(${n.join("//")})`}}function Sw(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ac(e){return Sw(e).replace(/%3B/gi,";")}function qR(e){return encodeURI(e)}function lp(e){return Sw(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function xc(e){return decodeURIComponent(e)}function hw(e){return xc(e.replace(/\+/g,"%20"))}function Mw(e){return`${lp(e.path)}${YR(e.parameters)}`}function YR(e){return Object.entries(e).map(([t,n])=>`;${lp(t)}=${lp(n)}`).join("")}function QR(e){let t=Object.entries(e).map(([n,i])=>Array.isArray(i)?i.map(r=>`${Ac(n)}=${Ac(r)}`).join("&"):`${Ac(n)}=${Ac(i)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var ZR=/^[^\/()?;#]+/;function np(e){let t=e.match(ZR);return t?t[0]:""}var JR=/^[^\/()?;=#]+/;function XR(e){let t=e.match(JR);return t?t[0]:""}var eO=/^[^=?&#]+/;function tO(e){let t=e.match(eO);return t?t[0]:""}var nO=/^[^&#]+/;function iO(e){let t=e.match(nO);return t?t[0]:""}var cp=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new te([],{}):new te([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(i[V]=new te(t,n)),i}parseSegment(){let t=np(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new I(4009,!1);return this.capture(t),new ji(xc(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=XR(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let r=np(this.remaining);r&&(i=r,this.capture(i))}t[xc(n)]=xc(i)}parseQueryParam(t){let n=tO(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let s=iO(this.remaining);s&&(i=s,this.capture(i))}let r=hw(n),o=hw(i);if(t.hasOwnProperty(r)){let s=t[r];Array.isArray(s)||(s=[s],t[r]=s),s.push(o)}else t[r]=o}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=np(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new I(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=V);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[V]:new te([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new I(4011,!1)}};function Aw(e){return e.segments.length>0?new te([],{[V]:e}):e}function Nw(e){let t={};for(let[i,r]of Object.entries(e.children)){let o=Nw(r);if(i===V&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[i]=o)}let n=new te(e.segments,t);return rO(n)}function rO(e){if(e.numberOfChildren===1&&e.children[V]){let t=e.children[V];return new te(e.segments.concat(t.segments),t.children)}return e}function Ui(e){return e instanceof En}function oO(e,t,n=null,i=null){let r=Rw(e);return Ow(r,t,n,i)}function Rw(e){let t;function n(o){let s={};for(let l of o.children){let c=n(l);s[l.outlet]=c}let a=new te(o.url,s);return o===e&&(t=a),a}let i=n(e.root),r=Aw(i);return t??r}function Ow(e,t,n,i){let r=e;for(;r.parent;)r=r.parent;if(t.length===0)return ip(r,r,r,n,i);let o=sO(t);if(o.toRoot())return ip(r,r,new te([],{}),n,i);let s=aO(o,r,e),a=s.processChildren?gs(s.segmentGroup,s.index,o.commands):kw(s.segmentGroup,s.index,o.commands);return ip(r,s.segmentGroup,a,n,i)}function kc(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function vs(e){return typeof e=="object"&&e!=null&&e.outlets}function ip(e,t,n,i,r){let o={};i&&Object.entries(i).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let s;e===t?s=n:s=xw(e,t,n);let a=Aw(Nw(s));return new En(a,o,r)}function xw(e,t,n){let i={};return Object.entries(e.children).forEach(([r,o])=>{o===t?i[r]=n:i[r]=xw(o,t,n)}),new te(e.segments,i)}var Pc=class{constructor(t,n,i){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=i,t&&i.length>0&&kc(i[0]))throw new I(4003,!1);let r=i.find(vs);if(r&&r!==Cw(i))throw new I(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function sO(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new Pc(!0,0,e);let t=0,n=!1,i=e.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?n=!0:a===".."?t++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new Pc(n,t,i)}var Jr=class{constructor(t,n,i){this.segmentGroup=t,this.processChildren=n,this.index=i}};function aO(e,t,n){if(e.isAbsolute)return new Jr(t,!0,0);if(!n)return new Jr(t,!1,NaN);if(n.parent===null)return new Jr(n,!0,0);let i=kc(e.commands[0])?0:1,r=n.segments.length-1+i;return lO(n,r,e.numberOfDoubleDots)}function lO(e,t,n){let i=e,r=t,o=n;for(;o>r;){if(o-=r,i=i.parent,!i)throw new I(4005,!1);r=i.segments.length}return new Jr(i,!1,r-o)}function cO(e){return vs(e[0])?e[0].outlets:{[V]:e}}function kw(e,t,n){if(e??=new te([],{}),e.segments.length===0&&e.hasChildren())return gs(e,t,n);let i=uO(e,t,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){let o=new te(e.segments.slice(0,i.pathIndex),{});return o.children[V]=new te(e.segments.slice(i.pathIndex),e.children),gs(o,0,r)}else return i.match&&r.length===0?new te(e.segments,{}):i.match&&!e.hasChildren()?up(e,t,n):i.match?gs(e,0,r):up(e,t,n)}function gs(e,t,n){if(n.length===0)return new te(e.segments,{});{let i=cO(n),r={};if(Object.keys(i).some(o=>o!==V)&&e.children[V]&&e.numberOfChildren===1&&e.children[V].segments.length===0){let o=gs(e.children[V],t,n);return new te(e.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=kw(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new te(e.segments,r)}}function uO(e,t,n){let i=0,r=t,o={match:!1,pathIndex:0,commandIndex:0};for(;r<e.segments.length;){if(i>=n.length)return o;let s=e.segments[r],a=n[i];if(vs(a))break;let l=`${a}`,c=i<n.length-1?n[i+1]:null;if(r>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!pw(l,c,s))return o;i+=2}else{if(!pw(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function up(e,t,n){let i=e.segments.slice(0,t),r=0;for(;r<n.length;){let o=n[r];if(vs(o)){let l=dO(o.outlets);return new te(i,l)}if(r===0&&kc(n[0])){let l=e.segments[t];i.push(new ji(l.path,fw(n[0]))),r++;continue}let s=vs(o)?o.outlets[V]:`${o}`,a=r<n.length-1?n[r+1]:null;s&&a&&kc(a)?(i.push(new ji(s,fw(a))),r+=2):(i.push(new ji(s,{})),r++)}return new te(i,{})}function dO(e){let t={};return Object.entries(e).forEach(([n,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(t[n]=up(new te([],{}),0,i))}),t}function fw(e){let t={};return Object.entries(e).forEach(([n,i])=>t[n]=`${i}`),t}function pw(e,t,n){return e==n.path&&Qt(t,n.parameters)}var ms="imperative",Re=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(Re||{}),Et=class{constructor(t,n){this.id=t,this.url=n}},io=class extends Et{constructor(t,n,i="imperative",r=null){super(t,n),this.type=Re.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Zt=class extends Et{constructor(t,n,i){super(t,n),this.urlAfterRedirects=i,this.type=Re.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},lt=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(lt||{}),Fc=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(Fc||{}),Dn=class extends Et{constructor(t,n,i,r){super(t,n),this.reason=i,this.code=r,this.type=Re.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Jn=class extends Et{constructor(t,n,i,r){super(t,n),this.reason=i,this.code=r,this.type=Re.NavigationSkipped}},ys=class extends Et{constructor(t,n,i,r){super(t,n),this.error=i,this.target=r,this.type=Re.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Lc=class extends Et{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=Re.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},dp=class extends Et{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=Re.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},hp=class extends Et{constructor(t,n,i,r,o){super(t,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=Re.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},fp=class extends Et{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=Re.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},pp=class extends Et{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=Re.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},gp=class{constructor(t){this.route=t,this.type=Re.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},mp=class{constructor(t){this.route=t,this.type=Re.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},_p=class{constructor(t){this.snapshot=t,this.type=Re.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},vp=class{constructor(t){this.snapshot=t,this.type=Re.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},yp=class{constructor(t){this.snapshot=t,this.type=Re.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},bp=class{constructor(t){this.snapshot=t,this.type=Re.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Vc=class{constructor(t,n,i){this.routerEvent=t,this.position=n,this.anchor=i,this.type=Re.Scroll}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},bs=class{},ro=class{constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function hO(e,t){return e.providers&&!e._injector&&(e._injector=lc(e.providers,t,`Route: ${e.path}`)),e._injector??t}function Lt(e){return e.outlet||V}function fO(e,t){let n=e.filter(i=>Lt(i)===t);return n.push(...e.filter(i=>Lt(i)!==t)),n}function Ss(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var wp=class{get injector(){return Ss(this.route?.snapshot)??this.rootInjector}set injector(t){}constructor(t){this.rootInjector=t,this.outlet=null,this.route=null,this.children=new Ms(this.rootInjector),this.attachRef=null}},Ms=(()=>{class e{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,i){let r=this.getOrCreateContext(n);r.outlet=i,this.contexts.set(n,r)}onChildOutletDestroyed(n){let i=this.getContext(n);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let i=this.getContext(n);return i||(i=new wp(this.rootInjector),this.contexts.set(n,i)),i}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(i){return new(i||e)(_(Ae))}}static{this.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),jc=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=Cp(t,this._root);return n?n.children.map(i=>i.value):[]}firstChild(t){let n=Cp(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=Dp(t,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Dp(t,this._root).map(n=>n.value)}};function Cp(e,t){if(e===t.value)return t;for(let n of t.children){let i=Cp(e,n);if(i)return i}return null}function Dp(e,t){if(e===t.value)return[t];for(let n of t.children){let i=Dp(e,n);if(i.length)return i.unshift(t),i}return[]}var at=class{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function Zr(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var Bc=class extends jc{constructor(t,n){super(t),this.snapshot=n,Op(this,t)}toString(){return this.snapshot.toString()}};function Pw(e){let t=pO(e),n=new be([new ji("",{})]),i=new be({}),r=new be({}),o=new be({}),s=new be(""),a=new $i(n,i,o,s,r,V,e,t.root);return a.snapshot=t.root,new Bc(new at(a,[]),t)}function pO(e){let t={},n={},i={},r="",o=new Xr([],t,i,r,n,V,e,null,{});return new $c("",new at(o,[]))}var $i=class{constructor(t,n,i,r,o,s,a,l){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(S(c=>c[Is]))??D(void 0),this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(S(t=>to(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(S(t=>to(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Uc(e,t,n="emptyOnly"){let i,{routeConfig:r}=e;return t!==null&&(n==="always"||r?.path===""||!t.component&&!t.routeConfig?.loadComponent)?i={params:y(y({},t.params),e.params),data:y(y({},t.data),e.data),resolve:y(y(y(y({},e.data),t.data),r?.data),e._resolvedData)}:i={params:y({},e.params),data:y({},e.data),resolve:y(y({},e.data),e._resolvedData??{})},r&&Lw(r)&&(i.resolve[Is]=r.title),i}var Xr=class{get title(){return this.data?.[Is]}constructor(t,n,i,r,o,s,a,l,c){this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=to(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=to(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(i=>i.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},$c=class extends jc{constructor(t,n){super(n),this.url=t,Op(this,n)}toString(){return Fw(this._root)}};function Op(e,t){t.value._routerState=e,t.children.forEach(n=>Op(e,n))}function Fw(e){let t=e.children.length>0?` { ${e.children.map(Fw).join(", ")} } `:"";return`${e.value}${t}`}function rp(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Qt(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),Qt(t.params,n.params)||e.paramsSubject.next(n.params),UR(t.url,n.url)||e.urlSubject.next(n.url),Qt(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Ep(e,t){let n=Qt(e.params,t.params)&&zR(e.url,t.url),i=!e.parent!=!t.parent;return n&&!i&&(!e.parent||Ep(e.parent,t.parent))}function Lw(e){return typeof e.title=="string"||e.title===null}var xp=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=V,this.activateEvents=new le,this.deactivateEvents=new le,this.attachEvents=new le,this.detachEvents=new le,this.parentContexts=g(Ms),this.location=g(Kn),this.changeDetector=g(vn),this.inputBinder=g(Kc,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:i,previousValue:r}=n.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new I(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new I(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new I(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,i){this.activated=n,this._activatedRoute=i,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,i){if(this.isActivated)throw new I(4013,!1);this._activatedRoute=n;let r=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new Ip(n,a,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275dir=st({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Hn]})}}return e})(),Ip=class e{__ngOutletInjector(t){return new e(this.route,this.childContexts,t)}constructor(t,n,i){this.route=t,this.childContexts=n,this.parent=i}get(t,n){return t===$i?this.route:t===Ms?this.childContexts:this.parent.get(t,n)}},Kc=new w(""),gw=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:i}=n,r=gr([i.queryParams,i.params,i.data]).pipe(ie(([o,s,a],l)=>(a=y(y(y({},o),s),a),l===0?D(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(n);return}let s=Rb(i.component);if(!s){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(n,r)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=C({token:e,factory:e.\u0275fac})}}return e})();function gO(e,t,n){let i=ws(e,t._root,n?n._root:void 0);return new Bc(i,t)}function ws(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let i=n.value;i._futureSnapshot=t.value;let r=mO(e,t,n);return new at(i,r)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>ws(e,a)),s}}let i=_O(t.value),r=t.children.map(o=>ws(e,o));return new at(i,r)}}function mO(e,t,n){return t.children.map(i=>{for(let r of n.children)if(e.shouldReuseRoute(i.value,r.value.snapshot))return ws(e,i,r);return ws(e,i)})}function _O(e){return new $i(new be(e.url),new be(e.params),new be(e.queryParams),new be(e.fragment),new be(e.data),e.outlet,e.component,e)}var Cs=class{constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},Vw="ngNavigationCancelingError";function Hc(e,t){let{redirectTo:n,navigationBehaviorOptions:i}=Ui(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=jw(!1,lt.Redirect);return r.url=n,r.navigationBehaviorOptions=i,r}function jw(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[Vw]=!0,n.cancellationCode=t,n}function vO(e){return Bw(e)&&Ui(e.url)}function Bw(e){return!!e&&e[Vw]}var yO=(e,t,n,i)=>S(r=>(new Tp(t,r.targetRouterState,r.currentRouterState,n,i).activate(e),r)),Tp=class{constructor(t,n,i,r,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(t){let n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,t),rp(this.futureState.root),this.activateChildRoutes(n,i,t)}deactivateChildRoutes(t,n,i){let r=Zr(n);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,n,i){let r=t.value,o=n?n.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,i);else o&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let i=n.getContext(t.value.outlet),r=i&&t.value.component?i.children:n,o=Zr(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){let i=n.getContext(t.value.outlet),r=i&&t.value.component?i.children:n,o=Zr(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,n,i){let r=Zr(n);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new bp(o.value.snapshot))}),t.children.length&&this.forwardEvent(new vp(t.value.snapshot))}activateRoutes(t,n,i){let r=t.value,o=n?n.value:null;if(rp(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),rp(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,i)}},Gc=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},eo=class{constructor(t,n){this.component=t,this.route=n}};function bO(e,t,n){let i=e._root,r=t?t._root:null;return fs(i,r,n,[i.value])}function wO(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function so(e,t){let n=Symbol(),i=t.get(e,n);return i===n?typeof e=="function"&&!qv(e)?e:t.get(e):i}function fs(e,t,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=Zr(t);return e.children.forEach(s=>{CO(s,o[s.value.outlet],n,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>_s(a,n.getContext(s),r)),r}function CO(e,t,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=DO(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new Gc(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?fs(e,t,a?a.children:null,i,r):fs(e,t,n,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new eo(a.outlet.component,s))}else s&&_s(t,a,r),r.canActivateChecks.push(new Gc(i)),o.component?fs(e,null,a?a.children:null,i,r):fs(e,null,n,i,r);return r}function DO(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!Bi(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Bi(e.url,t.url)||!Qt(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ep(e,t)||!Qt(e.queryParams,t.queryParams);case"paramsChange":default:return!Ep(e,t)}}function _s(e,t,n){let i=Zr(e),r=e.value;Object.entries(i).forEach(([o,s])=>{r.component?t?_s(s,t.children.getContext(o),n):_s(s,null,n):_s(s,t,n)}),r.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new eo(t.outlet.component,r)):n.canDeactivateChecks.push(new eo(null,r)):n.canDeactivateChecks.push(new eo(null,r))}function As(e){return typeof e=="function"}function EO(e){return typeof e=="boolean"}function IO(e){return e&&As(e.canLoad)}function TO(e){return e&&As(e.canActivate)}function SO(e){return e&&As(e.canActivateChild)}function MO(e){return e&&As(e.canDeactivate)}function AO(e){return e&&As(e.canMatch)}function Uw(e){return e instanceof ln||e?.name==="EmptyError"}var Nc=Symbol("INITIAL_VALUE");function oo(){return ie(e=>gr(e.map(t=>t.pipe(mt(1),il(Nc)))).pipe(S(t=>{for(let n of t)if(n!==!0){if(n===Nc)return Nc;if(n===!1||NO(n))return n}return!0}),_e(t=>t!==Nc),mt(1)))}function NO(e){return Ui(e)||e instanceof Cs}function RO(e,t){return he(n=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?D(U(y({},n),{guardsResult:!0})):OO(s,i,r,e).pipe(he(a=>a&&EO(a)?xO(i,o,e,t):D(a)),S(a=>U(y({},n),{guardsResult:a})))})}function OO(e,t,n,i){return ee(e).pipe(he(r=>VO(r.component,r.route,n,t,i)),_t(r=>r!==!0,!0))}function xO(e,t,n,i){return ee(t).pipe(cn(r=>On(PO(r.route.parent,i),kO(r.route,i),LO(e,r.path,n),FO(e,r.route,n))),_t(r=>r!==!0,!0))}function kO(e,t){return e!==null&&t&&t(new yp(e)),D(!0)}function PO(e,t){return e!==null&&t&&t(new _p(e)),D(!0)}function FO(e,t,n){let i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||i.length===0)return D(!0);let r=i.map(o=>Ja(()=>{let s=Ss(t)??n,a=so(o,s),l=TO(a)?a.canActivate(t,e):wt(s,()=>a(t,e));return ei(l).pipe(_t())}));return D(r).pipe(oo())}function LO(e,t,n){let i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>wO(s)).filter(s=>s!==null).map(s=>Ja(()=>{let a=s.guards.map(l=>{let c=Ss(s.node)??n,u=so(l,c),d=SO(u)?u.canActivateChild(i,e):wt(c,()=>u(i,e));return ei(d).pipe(_t())});return D(a).pipe(oo())}));return D(o).pipe(oo())}function VO(e,t,n,i,r){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return D(!0);let s=o.map(a=>{let l=Ss(t)??r,c=so(a,l),u=MO(c)?c.canDeactivate(e,t,n,i):wt(l,()=>c(e,t,n,i));return ei(u).pipe(_t())});return D(s).pipe(oo())}function jO(e,t,n,i){let r=t.canLoad;if(r===void 0||r.length===0)return D(!0);let o=r.map(s=>{let a=so(s,e),l=IO(a)?a.canLoad(t,n):wt(e,()=>a(t,n));return ei(l)});return D(o).pipe(oo(),$w(i))}function $w(e){return wd(me(t=>{if(typeof t!="boolean")throw Hc(e,t)}),S(t=>t===!0))}function BO(e,t,n,i){let r=t.canMatch;if(!r||r.length===0)return D(!0);let o=r.map(s=>{let a=so(s,e),l=AO(a)?a.canMatch(t,n):wt(e,()=>a(t,n));return ei(l)});return D(o).pipe(oo(),$w(i))}var Ds=class{constructor(t){this.segmentGroup=t||null}},Es=class extends Error{constructor(t){super(),this.urlTree=t}};function Qr(e){return fr(new Ds(e))}function UO(e){return fr(new I(4e3,!1))}function $O(e){return fr(jw(!1,lt.GuardRejected))}var Sp=class{constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return D(i);if(r.numberOfChildren>1||!r.children[V])return UO(`${t.redirectTo}`);r=r.children[V]}}applyRedirectCommands(t,n,i,r,o){if(typeof n!="string"){let a=n,{queryParams:l,fragment:c,routeConfig:u,url:d,outlet:h,params:f,data:p,title:m}=r,b=wt(o,()=>a({params:f,data:p,queryParams:l,fragment:c,routeConfig:u,url:d,outlet:h,title:m}));if(b instanceof En)throw new Es(b);n=b}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,i);if(n[0]==="/")throw new Es(s);return s}applyRedirectCreateUrlTree(t,n,i,r){let o=this.createSegmentGroup(t,n.root,i,r);return new En(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let i={};return Object.entries(t).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);i[r]=n[a]}else i[r]=o}),i}createSegmentGroup(t,n,i,r){let o=this.createSegments(t,n.segments,i,r),s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,i,r)}),new te(o,s)}createSegments(t,n,i,r){return n.map(o=>o.path[0]===":"?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,n,i){let r=i[n.path.substring(1)];if(!r)throw new I(4001,!1);return r}findOrReturn(t,n){let i=0;for(let r of n){if(r.path===t.path)return n.splice(i),r;i++}return t}},Mp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function HO(e,t,n,i,r){let o=Hw(e,t,n);return o.matched?(i=hO(t,i),BO(i,t,n,r).pipe(S(s=>s===!0?o:y({},Mp)))):D(o)}function Hw(e,t,n){if(t.path==="**")return GO(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?y({},Mp):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let r=(t.matcher||BR)(n,e,t);if(!r)return y({},Mp);let o={};Object.entries(r.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=r.consumed.length>0?y(y({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function GO(e){return{matched:!0,parameters:e.length>0?Cw(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function mw(e,t,n,i){return n.length>0&&KO(e,n,i)?{segmentGroup:new te(t,WO(i,new te(n,e.children))),slicedSegments:[]}:n.length===0&&qO(e,n,i)?{segmentGroup:new te(e.segments,zO(e,n,i,e.children)),slicedSegments:n}:{segmentGroup:new te(e.segments,e.children),slicedSegments:n}}function zO(e,t,n,i){let r={};for(let o of n)if(qc(e,t,o)&&!i[Lt(o)]){let s=new te([],{});r[Lt(o)]=s}return y(y({},i),r)}function WO(e,t){let n={};n[V]=t;for(let i of e)if(i.path===""&&Lt(i)!==V){let r=new te([],{});n[Lt(i)]=r}return n}function KO(e,t,n){return n.some(i=>qc(e,t,i)&&Lt(i)!==V)}function qO(e,t,n){return n.some(i=>qc(e,t,i))}function qc(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function YO(e,t,n){return t.length===0&&!e.children[n]}var Ap=class{};function QO(e,t,n,i,r,o,s="emptyOnly"){return new Np(e,t,n,i,r,s,o).recognize()}var ZO=31,Np=class{constructor(t,n,i,r,o,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Sp(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new I(4002,`'${t.segmentGroup}'`)}recognize(){let t=mw(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(S(({children:n,rootSnapshot:i})=>{let r=new at(i,n),o=new $c("",r),s=oO(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(t){let n=new Xr([],Object.freeze({}),Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),V,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,V,n).pipe(S(i=>({children:i,rootSnapshot:n})),xn(i=>{if(i instanceof Es)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Ds?this.noMatchError(i):i}))}processSegmentGroup(t,n,i,r,o){return i.segments.length===0&&i.hasChildren()?this.processChildren(t,n,i,o):this.processSegment(t,n,i,i.segments,r,!0,o).pipe(S(s=>s instanceof at?[s]:[]))}processChildren(t,n,i,r){let o=[];for(let s of Object.keys(i.children))s==="primary"?o.unshift(s):o.push(s);return ee(o).pipe(cn(s=>{let a=i.children[s],l=fO(n,s);return this.processSegmentGroup(t,l,a,s,r)}),_r((s,a)=>(s.push(...a),s)),kn(null),kd(),he(s=>{if(s===null)return Qr(i);let a=Gw(s);return JO(a),D(a)}))}processSegment(t,n,i,r,o,s,a){return ee(n).pipe(cn(l=>this.processSegmentAgainstRoute(l._injector??t,n,l,i,r,o,s,a).pipe(xn(c=>{if(c instanceof Ds)return D(null);throw c}))),_t(l=>!!l),xn(l=>{if(Uw(l))return YO(i,r,o)?D(new Ap):Qr(i);throw l}))}processSegmentAgainstRoute(t,n,i,r,o,s,a,l){return Lt(i)!==s&&(s===V||!qc(r,o,i))?Qr(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(t,r,i,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,r,n,i,o,s,l):Qr(r)}expandSegmentAgainstRouteUsingRedirect(t,n,i,r,o,s,a){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:d,remainingSegments:h}=Hw(n,r,o);if(!l)return Qr(n);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>ZO&&(this.allowRedirects=!1));let f=new Xr(o,c,Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,_w(r),Lt(r),r.component??r._loadedComponent??null,r,vw(r)),p=Uc(f,a,this.paramsInheritanceStrategy);f.params=Object.freeze(p.params),f.data=Object.freeze(p.data);let m=this.applyRedirects.applyRedirectCommands(u,r.redirectTo,d,f,t);return this.applyRedirects.lineralizeSegments(r,m).pipe(he(b=>this.processSegment(t,i,n,b.concat(h),s,!1,a)))}matchSegmentAgainstRoute(t,n,i,r,o,s){let a=HO(n,i,r,t,this.urlSerializer);return i.path==="**"&&(n.children={}),a.pipe(ie(l=>l.matched?(t=i._injector??t,this.getChildConfig(t,i,r).pipe(ie(({routes:c})=>{let u=i._loadedInjector??t,{parameters:d,consumedSegments:h,remainingSegments:f}=l,p=new Xr(h,d,Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,_w(i),Lt(i),i.component??i._loadedComponent??null,i,vw(i)),m=Uc(p,s,this.paramsInheritanceStrategy);p.params=Object.freeze(m.params),p.data=Object.freeze(m.data);let{segmentGroup:b,slicedSegments:T}=mw(n,h,f,c);if(T.length===0&&b.hasChildren())return this.processChildren(u,c,b,p).pipe(S(E=>new at(p,E)));if(c.length===0&&T.length===0)return D(new at(p,[]));let j=Lt(i)===o;return this.processSegment(u,c,b,T,j?V:o,!0,p).pipe(S(E=>new at(p,E instanceof at?[E]:[])))}))):Qr(n)))}getChildConfig(t,n,i){return n.children?D({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?D({routes:n._loadedRoutes,injector:n._loadedInjector}):jO(t,n,i,this.urlSerializer).pipe(he(r=>r?this.configLoader.loadChildren(t,n).pipe(me(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):$O(n))):D({routes:[],injector:t})}};function JO(e){e.sort((t,n)=>t.value.outlet===V?-1:n.value.outlet===V?1:t.value.outlet.localeCompare(n.value.outlet))}function XO(e){let t=e.value.routeConfig;return t&&t.path===""}function Gw(e){let t=[],n=new Set;for(let i of e){if(!XO(i)){t.push(i);continue}let r=t.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),n.add(r)):t.push(i)}for(let i of n){let r=Gw(i.children);t.push(new at(i.value,r))}return t.filter(i=>!n.has(i))}function _w(e){return e.data||{}}function vw(e){return e.resolve||{}}function ex(e,t,n,i,r,o){return he(s=>QO(e,t,n,i,s.extractedUrl,r,o).pipe(S(({state:a,tree:l})=>U(y({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function tx(e,t){return he(n=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return D(n);let o=new Set(r.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of zw(l))s.add(c);let a=0;return ee(s).pipe(cn(l=>o.has(l)?nx(l,i,e,t):(l.data=Uc(l,l.parent,e).resolve,D(void 0))),me(()=>a++),mr(1),he(l=>a===s.size?D(n):Ie))})}function zw(e){let t=e.children.map(n=>zw(n)).flat();return[e,...t]}function nx(e,t,n,i){let r=e.routeConfig,o=e._resolve;return r?.title!==void 0&&!Lw(r)&&(o[Is]=r.title),ix(o,e,t,i).pipe(S(s=>(e._resolvedData=s,e.data=Uc(e,e.parent,n).resolve,null)))}function ix(e,t,n,i){let r=ap(e);if(r.length===0)return D({});let o={};return ee(r).pipe(he(s=>rx(e[s],t,n,i).pipe(_t(),me(a=>{if(a instanceof Cs)throw Hc(new no,a);o[s]=a}))),mr(1),Od(o),xn(s=>Uw(s)?Ie:fr(s)))}function rx(e,t,n,i){let r=Ss(t)??i,o=so(e,r),s=o.resolve?o.resolve(t,n):wt(r,()=>o(t,n));return ei(s)}function op(e){return ie(t=>{let n=e(t);return n?ee(n).pipe(S(()=>t)):D(t)})}var Ww=(()=>{class e{buildTitle(n){let i,r=n.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===V);return i}getResolvedTitleForRoute(n){return n.data[Is]}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=C({token:e,factory:()=>g(ox),providedIn:"root"})}}return e})(),ox=(()=>{class e extends Ww{constructor(n){super(),this.title=n}updateTitle(n){let i=this.buildTitle(n);i!==void 0&&this.title.setTitle(i)}static{this.\u0275fac=function(i){return new(i||e)(_(cw))}}static{this.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Ns=new w("",{providedIn:"root",factory:()=>({})}),sx=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=ot({type:e,selectors:[["ng-component"]],standalone:!0,features:[ns],decls:1,vars:0,template:function(i,r){i&1&&ze(0,"router-outlet")},dependencies:[xp],encapsulation:2})}}return e})();function kp(e){let t=e.children&&e.children.map(kp),n=t?U(y({},e),{children:t}):y({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==V&&(n.component=sx),n}var zc=new w(""),Pp=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=g(mc)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return D(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let i=ei(n.loadComponent()).pipe(S(Kw),me(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),Pn(()=>{this.componentLoaders.delete(n)})),r=new ar(i,()=>new q).pipe(sr());return this.componentLoaders.set(n,r),r}loadChildren(n,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return D({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=ax(i,this.compiler,n,this.onLoadEndListener).pipe(Pn(()=>{this.childrenLoaders.delete(i)})),s=new ar(o,()=>new q).pipe(sr());return this.childrenLoaders.set(i,s),s}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function ax(e,t,n,i){return ei(e.loadChildren()).pipe(S(Kw),he(r=>r instanceof Yo||Array.isArray(r)?D(r):ee(t.compileModuleAsync(r))),S(r=>{i&&i(e);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(n).injector,s=o.get(zc,[],{optional:!0,self:!0}).flat()),{routes:s.map(kp),injector:o}}))}function lx(e){return e&&typeof e=="object"&&"default"in e}function Kw(e){return lx(e)?e.default:e}var Fp=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=C({token:e,factory:()=>g(cx),providedIn:"root"})}}return e})(),cx=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,i){return n}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),qw=new w(""),Yw=new w("");function ux(e,t,n){let i=e.get(Yw),r=e.get(we);return e.get(P).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(c=>setTimeout(c));let o,s=new Promise(c=>{o=c}),a=r.startViewTransition(()=>(o(),dx(e))),{onViewTransitionCreated:l}=i;return l&&wt(e,()=>l({transition:a,from:t,to:n})),s})}function dx(e){return new Promise(t=>{$r({read:()=>setTimeout(t)},{injector:e})})}var hx=new w(""),Lp=(()=>{class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new q,this.transitionAbortSubject=new q,this.configLoader=g(Pp),this.environmentInjector=g(Ae),this.urlSerializer=g(Ts),this.rootContexts=g(Ms),this.location=g(Kr),this.inputBindingEnabled=g(Kc,{optional:!0})!==null,this.titleStrategy=g(Ww),this.options=g(Ns,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=g(Fp),this.createViewTransition=g(qw,{optional:!0}),this.navigationErrorHandler=g(hx,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>D(void 0),this.rootComponentType=null;let n=r=>this.events.next(new gp(r)),i=r=>this.events.next(new mp(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let i=++this.navigationId;this.transitions?.next(U(y(y({},this.transitions.value),n),{id:i}))}setupNavigations(n,i,r){return this.transitions=new be({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:ms,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(_e(o=>o.id!==0),S(o=>U(y({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),ie(o=>{let s=!1,a=!1;return D(o).pipe(ie(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",lt.SupersededByNewNavigation),Ie;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?U(y({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=l.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!c&&u!=="reload"){let d="";return this.events.next(new Jn(l.id,this.urlSerializer.serialize(l.rawUrl),d,Fc.IgnoredSameUrlNavigation)),l.resolve(!1),Ie}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return D(l).pipe(ie(d=>{let h=this.transitions?.getValue();return this.events.next(new io(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions?.getValue()?Ie:Promise.resolve(d)}),ex(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),me(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=U(y({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let h=new Lc(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:d,extractedUrl:h,source:f,restoredState:p,extras:m}=l,b=new io(d,this.urlSerializer.serialize(h),f,p);this.events.next(b);let T=Pw(this.rootComponentType).snapshot;return this.currentTransition=o=U(y({},l),{targetSnapshot:T,urlAfterRedirects:h,extras:U(y({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,D(o)}else{let d="";return this.events.next(new Jn(l.id,this.urlSerializer.serialize(l.extractedUrl),d,Fc.IgnoredByUrlHandlingStrategy)),l.resolve(!1),Ie}}),me(l=>{let c=new dp(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),S(l=>(this.currentTransition=o=U(y({},l),{guards:bO(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),RO(this.environmentInjector,l=>this.events.next(l)),me(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw Hc(this.urlSerializer,l.guardsResult);let c=new hp(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),_e(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",lt.GuardRejected),!1)),op(l=>{if(l.guards.canActivateChecks.length)return D(l).pipe(me(c=>{let u=new fp(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),ie(c=>{let u=!1;return D(c).pipe(tx(this.paramsInheritanceStrategy,this.environmentInjector),me({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",lt.NoDataFromResolver)}}))}),me(c=>{let u=new pp(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),op(l=>{let c=u=>{let d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(me(h=>{u.component=h}),S(()=>{})));for(let h of u.children)d.push(...c(h));return d};return gr(c(l.targetSnapshot.root)).pipe(kn(null),mt(1))}),op(()=>this.afterPreactivation()),ie(()=>{let{currentSnapshot:l,targetSnapshot:c}=o,u=this.createViewTransition?.(this.environmentInjector,l.root,c.root);return u?ee(u).pipe(S(()=>o)):D(o)}),S(l=>{let c=gO(n.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=U(y({},l),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,o}),me(()=>{this.events.next(new bs)}),yO(this.rootContexts,n.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),mt(1),me({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Zt(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),Le(this.transitionAbortSubject.pipe(me(l=>{throw l}))),Pn(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",lt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),xn(l=>{if(a=!0,Bw(l))this.events.next(new Dn(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),vO(l)?this.events.next(new ro(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let c=new ys(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let u=wt(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(u instanceof Cs){let{message:d,cancellationCode:h}=Hc(this.urlSerializer,u);this.events.next(new Dn(o.id,this.urlSerializer.serialize(o.extractedUrl),d,h)),this.events.next(new ro(u.redirectTo,u.navigationBehaviorOptions))}else{this.events.next(c);let d=n.errorHandler(l);o.resolve(!!d)}}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return Ie}))}))}cancelNavigationTransition(n,i,r){let o=new Dn(n.id,this.urlSerializer.serialize(n.extractedUrl),i,r);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function fx(e){return e!==ms}var px=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=C({token:e,factory:()=>g(gx),providedIn:"root"})}}return e})(),Rp=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},gx=(()=>{class e extends Rp{static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=Lr(e)))(r||e)}})()}static{this.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Qw=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=C({token:e,factory:()=>g(mx),providedIn:"root"})}}return e})(),mx=(()=>{class e extends Qw{constructor(){super(...arguments),this.location=g(Kr),this.urlSerializer=g(Ts),this.options=g(Ns,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=g(Fp),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new En,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Pw(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(i=>{i.type==="popstate"&&n(i.url,i.state)})}handleRouterEvent(n,i){if(n instanceof io)this.stateMemento=this.createStateMemento();else if(n instanceof Jn)this.rawUrlTree=i.initialUrl;else if(n instanceof Lc){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??r,i)}}else n instanceof bs?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):n instanceof Dn&&(n.code===lt.GuardRejected||n.code===lt.NoDataFromResolver)?this.restoreHistory(i):n instanceof ys?this.restoreHistory(i,!0):n instanceof Zt&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,i){let r=n instanceof En?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){let o=this.browserPageId,s=y(y({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(r,"",s)}else{let o=y(y({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(r,"",o)}}restoreHistory(n,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,i){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:i}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=Lr(e)))(r||e)}})()}static{this.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),ps=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(ps||{});function Zw(e,t){e.events.pipe(_e(n=>n instanceof Zt||n instanceof Dn||n instanceof ys||n instanceof Jn),S(n=>n instanceof Zt||n instanceof Jn?ps.COMPLETE:(n instanceof Dn?n.code===lt.Redirect||n.code===lt.SupersededByNewNavigation:!1)?ps.REDIRECTING:ps.FAILED),_e(n=>n!==ps.REDIRECTING),mt(1)).subscribe(()=>{t()})}function _x(e){throw e}var vx={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},yx={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Xn=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=g(dc),this.stateManager=g(Qw),this.options=g(Ns,{optional:!0})||{},this.pendingTasks=g(zn),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=g(Lp),this.urlSerializer=g(Ts),this.location=g(Kr),this.urlHandlingStrategy=g(Fp),this._events=new q,this.errorHandler=this.options.errorHandler||_x,this.navigated=!1,this.routeReuseStrategy=g(px),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=g(zc,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!g(Kc,{optional:!0}),this.eventsSubscription=new ge,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Dn&&i.code!==lt.Redirect&&i.code!==lt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Zt)this.navigated=!0;else if(i instanceof ro){let s=i.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),l=y({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||fx(r.source)},s);this.scheduleNavigation(a,ms,null,l,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}wx(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ms,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",i)},0)})}navigateToSyncWithBrowser(n,i,r){let o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let l=y({},r);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(n);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(kp),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,i={}){let{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=y(y({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let h=r?r.snapshot:this.routerState.snapshot.root;d=Rw(h)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),d=this.currentUrlTree.root}return Ow(d,n,u,c??null)}navigateByUrl(n,i={skipLocationChange:!1}){let r=Ui(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,ms,null,i)}navigate(n,i={skipLocationChange:!1}){return bx(n),this.navigateByUrl(this.createUrlTree(n,i),i)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,i){let r;if(i===!0?r=y({},vx):i===!1?r=y({},yx):r=i,Ui(n))return dw(this.currentUrlTree,n,r);let o=this.parseUrl(n);return dw(this.currentUrlTree,o,r)}removeEmptyProps(n){return Object.entries(n).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(n,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((d,h)=>{a=d,l=h});let u=this.pendingTasks.add();return Zw(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function bx(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new I(4008,!1)}function wx(e){return!(e instanceof bs)&&!(e instanceof ro)}var Yc=(()=>{class e{constructor(n,i,r,o,s,a){this.router=n,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.onChanges=new q,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=n.events.subscribe(c=>{c instanceof Zt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Ui(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,i,r,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||i||r||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let i=this.href===null?null:p0(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(n,i){let r=this.renderer,o=this.el.nativeElement;i!==null?r.setAttribute(o,n,i):r.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:Ui(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(i){return new(i||e)(K(Xn),K($i),ec("tabindex"),K(Oi),K(Ge),K(bn))}}static{this.\u0275dir=st({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){i&1&&it("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),i&2&&Hr("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Vi],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Vi],replaceUrl:[2,"replaceUrl","replaceUrl",Vi],routerLink:"routerLink"},standalone:!0,features:[Mf,Hn]})}}return e})();var Wc=class{};var Cx=(()=>{class e{constructor(n,i,r,o,s){this.router=n,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(_e(n=>n instanceof Zt),cn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,i){let r=[];for(let o of i){o.providers&&!o._injector&&(o._injector=lc(o.providers,n,`Route: ${o.path}`));let s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return ee(r).pipe(Rn())}preloadConfig(n,i){return this.preloadingStrategy.preload(i,()=>{let r;i.loadChildren&&i.canLoad===void 0?r=this.loader.loadChildren(n,i):r=D(null);let o=r.pipe(he(s=>s===null?D(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));if(i.loadComponent&&!i._loadedComponent){let s=this.loader.loadComponent(i);return ee([o,s]).pipe(Rn())}else return o})}static{this.\u0275fac=function(i){return new(i||e)(_(Xn),_(mc),_(Ae),_(Wc),_(Pp))}}static{this.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Jw=new w(""),Dx=(()=>{class e{constructor(n,i,r,o,s={}){this.urlSerializer=n,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof io?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Zt?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Jn&&n.code===Fc.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Vc&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Vc(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(i){N0()}}static{this.\u0275prov=C({token:e,factory:e.\u0275fac})}}return e})();function Ex(e){return e.routerState.root}function Rs(e,t){return{\u0275kind:e,\u0275providers:t}}function Ix(){let e=g(Te);return t=>{let n=e.get(Ft);if(t!==n.components[0])return;let i=e.get(Xn),r=e.get(Xw);e.get(Vp)===1&&i.initialNavigation(),e.get(eC,null,$.Optional)?.setUpPreloading(),e.get(Jw,null,$.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var Xw=new w("",{factory:()=>new q}),Vp=new w("",{providedIn:"root",factory:()=>1});function Tx(){return Rs(2,[{provide:Vp,useValue:0},{provide:pc,multi:!0,deps:[Te],useFactory:t=>{let n=t.get(Lb,Promise.resolve());return()=>n.then(()=>new Promise(i=>{let r=t.get(Xn),o=t.get(Xw);Zw(r,()=>{i(!0)}),t.get(Lp).afterPreactivation=()=>(i(!0),o.closed?D(void 0):o),r.initialNavigation()}))}}])}function Sx(){return Rs(3,[{provide:pc,multi:!0,useFactory:()=>{let t=g(Xn);return()=>{t.setUpLocationChangeListener()}}},{provide:Vp,useValue:2}])}var eC=new w("");function Mx(e){return Rs(0,[{provide:eC,useExisting:Cx},{provide:Wc,useExisting:e}])}function Ax(){return Rs(8,[gw,{provide:Kc,useExisting:gw}])}function Nx(e){let t=[{provide:qw,useValue:ux},{provide:Yw,useValue:y({skipNextTransition:!!e?.skipInitialTransition},e)}];return Rs(9,t)}var yw=new w("ROUTER_FORROOT_GUARD"),Rx=[Kr,{provide:Ts,useClass:no},Xn,Ms,{provide:$i,useFactory:Ex,deps:[Xn]},Pp,[]],jp=(()=>{class e{constructor(n){}static forRoot(n,i){return{ngModule:e,providers:[Rx,[],{provide:zc,multi:!0,useValue:n},{provide:yw,useFactory:Px,deps:[[Xn,new Pr,new Yh]]},{provide:Ns,useValue:i||{}},i?.useHash?xx():kx(),Ox(),i?.preloadingStrategy?Mx(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?Fx(i):[],i?.bindToComponentInputs?Ax().\u0275providers:[],i?.enableViewTransitions?Nx().\u0275providers:[],Lx()]}}static forChild(n){return{ngModule:e,providers:[{provide:zc,multi:!0,useValue:n}]}}static{this.\u0275fac=function(i){return new(i||e)(_(yw,8))}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();function Ox(){return{provide:Jw,useFactory:()=>{let e=g($b),t=g(P),n=g(Ns),i=g(Lp),r=g(Ts);return n.scrollOffset&&e.setOffset(n.scrollOffset),new Dx(r,i,e,t,n)}}}function xx(){return{provide:bn,useClass:jb}}function kx(){return{provide:bn,useClass:Uf}}function Px(e){return"guarded"}function Fx(e){return[e.initialNavigation==="disabled"?Sx().\u0275providers:[],e.initialNavigation==="enabledBlocking"?Tx().\u0275providers:[]]}var bw=new w("");function Lx(){return[{provide:bw,useFactory:Ix},{provide:gc,multi:!0,useExisting:bw}]}var ao=class e{constructor(t){this.http=t;this.downloadAll()}url="https://dolgozat-79584-default-rtdb.europe-west1.firebasedatabase.app./";adatSub=new q;getAll(){return this.adatSub}downloadAll(){this.http.get(this.url+".json").subscribe(t=>{let n=[];for(let i in t)n.push(y({azon:i},t[i]));this.adatSub.next(n)})}newData(t){this.http.post(this.url+".json",t).forEach(()=>this.downloadAll())}updateData(t){this.http.put(this.url+t.azon+".json",t).forEach(()=>this.downloadAll())}deleteData(t){this.http.delete(this.url+t.azon+".json").forEach(()=>this.downloadAll())}static \u0275fac=function(n){return new(n||e)(_(Cn))};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})};var ti=class e{constructor(t){this.http=t;this.loadConfigJson("hu")}menuItems=new be([]);loadConfigJson(t){this.http.get("assets/lang_"+t+".json").subscribe(n=>this.menuItems.next(n))}getLinks(){return this.menuItems}setLang(t){this.loadConfigJson(t)}static \u0275fac=function(n){return new(n||e)(_(Cn))};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})};var cC=(()=>{class e{constructor(n,i){this._renderer=n,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(n,i){this._renderer.setProperty(this._elementRef.nativeElement,n,i)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(i){return new(i||e)(K(Oi),K(Ge))}}static{this.\u0275dir=st({type:e})}}return e})(),Vx=(()=>{class e extends cC{static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=Lr(e)))(r||e)}})()}static{this.\u0275dir=st({type:e,features:[xi]})}}return e})(),uC=new w("");var jx={provide:uC,useExisting:kr(()=>eu),multi:!0};function Bx(){let e=Yt()?Yt().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var Ux=new w(""),eu=(()=>{class e extends cC{constructor(n,i,r){super(n,i),this._compositionMode=r,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Bx())}writeValue(n){let i=n??"";this.setProperty("value",i)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(i){return new(i||e)(K(Oi),K(Ge),K(Ux,8))}}static{this.\u0275dir=st({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&it("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[uc([jx]),xi]})}}return e})();var $x=new w(""),Hx=new w("");function dC(e){return e!=null}function hC(e){return Li(e)?ee(e):e}function fC(e){let t={};return e.forEach(n=>{t=n!=null?y(y({},t),n):t}),Object.keys(t).length===0?null:t}function pC(e,t){return t.map(n=>n(e))}function Gx(e){return!e.validate}function gC(e){return e.map(t=>Gx(t)?t:n=>t.validate(n))}function zx(e){if(!e)return null;let t=e.filter(dC);return t.length==0?null:function(n){return fC(pC(n,t))}}function mC(e){return e!=null?zx(gC(e)):null}function Wx(e){if(!e)return null;let t=e.filter(dC);return t.length==0?null:function(n){let i=pC(n,t).map(hC);return Ad(i).pipe(S(fC))}}function _C(e){return e!=null?Wx(gC(e)):null}function nC(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function Kx(e){return e._rawValidators}function qx(e){return e._rawAsyncValidators}function $p(e){return e?Array.isArray(e)?e:[e]:[]}function Zc(e,t){return Array.isArray(e)?e.includes(t):e===t}function iC(e,t){let n=$p(t);return $p(e).forEach(r=>{Zc(n,r)||n.push(r)}),n}function rC(e,t){return $p(t).filter(n=>!Zc(e,n))}var Jc=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=mC(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=_C(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},Hp=class extends Jc{get formDirective(){return null}get path(){return null}},Fs=class extends Jc{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Gp=class{constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Yx={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},uz=U(y({},Yx),{"[class.ng-submitted]":"isSubmitted"}),vC=(()=>{class e extends Gp{constructor(n){super(n)}static{this.\u0275fac=function(i){return new(i||e)(K(Fs,2))}}static{this.\u0275dir=st({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&ki("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[xi]})}}return e})();var Os="VALID",Qc="INVALID",lo="PENDING",xs="DISABLED",uo=class{},Xc=class extends uo{constructor(t,n){super(),this.value=t,this.source=n}},ks=class extends uo{constructor(t,n){super(),this.pristine=t,this.source=n}},Ps=class extends uo{constructor(t,n){super(),this.touched=t,this.source=n}},co=class extends uo{constructor(t,n){super(),this.status=t,this.source=n}};function Qx(e){return(tu(e)?e.validators:e)||null}function Zx(e){return Array.isArray(e)?mC(e):e||null}function Jx(e,t){return(tu(t)?t.asyncValidators:e)||null}function Xx(e){return Array.isArray(e)?_C(e):e||null}function tu(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}var zp=class{constructor(t,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=vc(()=>this.statusReactive()),this.statusReactive=ac(void 0),this._pristine=vc(()=>this.pristineReactive()),this.pristineReactive=ac(!0),this._touched=vc(()=>this.touchedReactive()),this.touchedReactive=ac(!1),this._events=new q,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return qn(this.statusReactive)}set status(t){qn(()=>this.statusReactive.set(t))}get valid(){return this.status===Os}get invalid(){return this.status===Qc}get pending(){return this.status==lo}get disabled(){return this.status===xs}get enabled(){return this.status!==xs}get pristine(){return qn(this.pristineReactive)}set pristine(t){qn(()=>this.pristineReactive.set(t))}get dirty(){return!this.pristine}get touched(){return qn(this.touchedReactive)}set touched(t){qn(()=>this.touchedReactive.set(t))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(iC(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(iC(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(rC(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(rC(t,this._rawAsyncValidators))}hasValidator(t){return Zc(this._rawValidators,t)}hasAsyncValidator(t){return Zc(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let n=this.touched===!1;this.touched=!0;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(U(y({},t),{sourceControl:i})),n&&t.emitEvent!==!1&&this._events.next(new Ps(!0,i))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:i})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,i),n&&t.emitEvent!==!1&&this._events.next(new Ps(!1,i))}markAsDirty(t={}){let n=this.pristine===!0;this.pristine=!1;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(U(y({},t),{sourceControl:i})),n&&t.emitEvent!==!1&&this._events.next(new ks(!1,i))}markAsPristine(t={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,i),n&&t.emitEvent!==!1&&this._events.next(new ks(!0,i))}markAsPending(t={}){this.status=lo;let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new co(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(U(y({},t),{sourceControl:n}))}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=xs,this.errors=null,this._forEachChild(r=>{r.disable(U(y({},t),{onlySelf:!0}))}),this._updateValue();let i=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Xc(this.value,i)),this._events.next(new co(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(U(y({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=Os,this._forEachChild(i=>{i.enable(U(y({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(U(y({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Os||this.status===lo)&&this._runAsyncValidator(i,t.emitEvent)}let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Xc(this.value,n)),this._events.next(new co(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(U(y({},t),{sourceControl:n}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?xs:Os}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=lo,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let i=hC(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((i,r)=>i&&i._find(r),this)}getError(t,n){let i=n?this.get(n):this;return i&&i.errors?i.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,i){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||i)&&this._events.next(new co(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,i)}_initObservables(){this.valueChanges=new le,this.statusChanges=new le}_calculateStatus(){return this._allControlsDisabled()?xs:this.errors?Qc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(lo)?lo:this._anyControlsHaveStatus(Qc)?Qc:Os}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),r&&this._events.next(new ks(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new Ps(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){tu(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=Zx(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=Xx(this._rawAsyncValidators)}};var yC=new w("CallSetDisabledState",{providedIn:"root",factory:()=>Wp}),Wp="always";function ek(e,t){return[...t.path,e]}function tk(e,t,n=Wp){ik(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),rk(e,t),sk(e,t),ok(e,t),nk(e,t)}function oC(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function nk(e,t){if(t.valueAccessor.setDisabledState){let n=i=>{t.valueAccessor.setDisabledState(i)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function ik(e,t){let n=Kx(e);t.validator!==null?e.setValidators(nC(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let i=qx(e);t.asyncValidator!==null?e.setAsyncValidators(nC(i,t.asyncValidator)):typeof i=="function"&&e.setAsyncValidators([i]);let r=()=>e.updateValueAndValidity();oC(t._rawValidators,r),oC(t._rawAsyncValidators,r)}function rk(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&bC(e,t)})}function ok(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&bC(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function bC(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function sk(e,t){let n=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function ak(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function lk(e){return Object.getPrototypeOf(e.constructor)===Vx}function ck(e,t){if(!t)return null;Array.isArray(t);let n,i,r;return t.forEach(o=>{o.constructor===eu?n=o:lk(o)?i=o:r=o}),r||i||n||null}function sC(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function aC(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var uk=class extends zp{constructor(t=null,n,i){super(Qx(n),Jx(i,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),tu(n)&&(n.nonNullable||n.initialValueIsDefault)&&(aC(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){sC(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){sC(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){aC(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var dk={provide:Fs,useExisting:kr(()=>Kp)},lC=Promise.resolve(),Kp=(()=>{class e extends Fs{constructor(n,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new uk,this._registered=!1,this.name="",this.update=new le,this._parent=n,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=ck(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let i=n.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),ak(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){tk(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){lC.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let i=n.isDisabled.currentValue,r=i!==0&&Vi(i);lC.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?ek(n,this._parent):[n]}static{this.\u0275fac=function(i){return new(i||e)(K(Hp,9),K($x,10),K(Hx,10),K(uC,10),K(vn,8),K(yC,8))}}static{this.\u0275dir=st({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[uc([dk]),xi,Hn]})}}return e})();var hk=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();var wC=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:yC,useValue:n.callSetDisabledState??Wp}]}}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({imports:[hk]})}}return e})();function pk(e,t){if(e&1&&(re(0,"div",5)(1,"p",6),We(2),ce()()),e&2){let n=t.$implicit;se(2),Pt(n.text)}}function gk(e,t){if(e&1&&(re(0,"div",7),We(1),ce()),e&2){let n=t.$implicit;se(),Fi(" ",n.text," ")}}function mk(e,t){if(e&1){let n=Pi();re(0,"div",8)(1,"input",9),zr("ngModelChange",function(r){let o=Ai(n).$implicit,s=Dt();return ts(s.newCikk[o],r)||(s.newCikk[o]=r),Ni(r)}),ce()()}if(e&2){let n=t.$implicit,i=Dt();se(),Gr("ngModel",i.newCikk[n])}}function _k(e,t){if(e&1){let n=Pi();re(0,"div",7)(1,"button",10),it("click",function(){Ai(n);let r=Dt();return Ni(r.newData())}),We(2),ce()()}if(e&2){let n=t.$implicit;se(),Se("routerLink",n.link),se(),Pt(n.text)}}function vk(e,t){if(e&1){let n=Pi();re(0,"div",7)(1,"input",9),zr("ngModelChange",function(r){let o=Ai(n).$implicit,s=Dt().$implicit;return ts(s[o],r)||(s[o]=r),Ni(r)}),ce()()}if(e&2){let n=t.$implicit,i=Dt().$implicit;se(),Gr("ngModel",i[n])}}function yk(e,t){if(e&1){let n=Pi();re(0,"div",7)(1,"button",10),it("click",function(){Ai(n);let r=Dt().$implicit,o=Dt();return Ni(o.updateData(r))}),We(2),ce()()}if(e&2){let n=t.$implicit;se(),Se("routerLink",n.link),se(),Pt(n.text)}}function bk(e,t){if(e&1){let n=Pi();re(0,"div",7)(1,"button",10),it("click",function(){Ai(n);let r=Dt().$implicit,o=Dt();return Ni(o.deleteData(r))}),We(2),ce()()}if(e&2){let n=t.$implicit;se(),Se("routerLink",n.link),se(),Pt(n.text)}}function wk(e,t){if(e&1&&(re(0,"div",1),nt(1,vk,2,1,"div",2),ze(2,"br"),nt(3,yk,3,2,"div",2),ze(4,"br"),nt(5,bk,3,2,"div",2),ze(6,"br"),ce()),e&2){let n=Dt();se(),Se("ngForOf",n.oszlopok),se(2),Se("ngForOf",n.addEditColumn),se(2),Se("ngForOf",n.addDeleteColumn)}}var Ls=class e{constructor(t,n,i){this.base=t;this.config=n;this.http=i;this.base.getAll().subscribe(r=>this.cikkek=r),this.config.getLinks().subscribe(r=>this.addAddColumn=r.HozzaAdasGmb),this.config.getLinks().subscribe(r=>this.addEditColumn=r.ModositasGmb),this.config.getLinks().subscribe(r=>this.addDeleteColumn=r.TorlesGmb),this.config.getLinks().subscribe(r=>this.columns=r.columns),this.config.getLinks().subscribe(r=>this.errMessage=r.hibauzenet),console.log(this.links)}addAddColumn;addEditColumn;addDeleteColumn;errMessage;items=[];columns=[];oszlopok=["name","category","description","price"];adattomb=[];HozzaAdasSzoveg="Hozz\xE1ad\xE1s";ModositasSzoveg="M\xF3dos\xEDt\xE1s";TorlesSzoveg="T\u0151rl\xE9s";links;dropClose=!0;lang="Magyar";gombAtallit=!0;cikkek;newCikk={};updateData(t){this.base.updateData(t)}deleteData(t){this.base.deleteData(t)}newData(){this.base.newData(this.newCikk),this.newCikk={}}showDatas(){this.base.getAll().subscribe(t=>this.cikkek=t)}gombBeallitasa(t){this.lang=t=="hu"?"Magyar":"English",this.config.setLang(t),this.dropClose=!0,t=="hu"?this.gombAtallit=!0:this.gombAtallit=!1}static \u0275fac=function(n){return new(n||e)(K(ao),K(ti),K(Cn))};static \u0275cmp=ot({type:e,selectors:[["app-products-list"]],decls:11,vars:5,consts:[["class","text-center",4,"ngFor","ngForOf"],[1,"row"],["class","col",4,"ngFor","ngForOf"],["class","col","id","fejlec",4,"ngFor","ngForOf"],["class","row",4,"ngFor","ngForOf"],[1,"text-center"],[2,"font-weight","bold"],[1,"col"],["id","fejlec",1,"col"],["type","text",1,"form-control",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-primary",3,"click","routerLink"]],template:function(n,i){n&1&&(nt(0,pk,3,1,"div",0),ze(1,"br"),re(2,"div",1),nt(3,gk,2,1,"div",2),ce(),re(4,"div",1),nt(5,mk,2,1,"div",3)(6,_k,3,2,"div",2),ce(),ze(7,"br")(8,"hr")(9,"br"),nt(10,wk,7,3,"div",4)),n&2&&(Se("ngForOf",i.errMessage),se(3),Se("ngForOf",i.columns),se(2),Se("ngForOf",i.oszlopok),se(),Se("ngForOf",i.addAddColumn),se(4),Se("ngForOf",i.cikkek))},dependencies:[qr,Yc,eu,vC,Kp],styles:["#fejlec[_ngcontent-%COMP%]{font-weight:700}"]})};function Ck(e,t){if(e&1&&(re(0,"div",1)(1,"h1"),We(2),ce()()),e&2){let n=t.$implicit;se(2),Pt(n.text)}}var Vs=class e{constructor(t,n,i){this.base=t;this.config=n;this.http=i;this.config.getLinks().subscribe(r=>this.links=r.koszonto)}links;static \u0275fac=function(n){return new(n||e)(K(ao),K(ti),K(Cn))};static \u0275cmp=ot({type:e,selectors:[["app-login"]],decls:1,vars:1,consts:[["class","text-center",4,"ngFor","ngForOf"],[1,"text-center"]],template:function(n,i){n&1&&nt(0,Ck,3,1,"div",0),n&2&&Se("ngForOf",i.links)},dependencies:[qr]})};var Dk=[{path:"products",component:Ls},{path:"home",component:Vs},{path:"",component:Vs},{path:"**",component:Ls}],nu=class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=L({type:e});static \u0275inj=F({imports:[jp.forRoot(Dk),jp]})};var Ek=["*"];var Ik=["dialog"];var CC={animation:!0,transitionTimerDelayMs:5},DC=(()=>{class e{constructor(){this.animation=CC.animation}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Tk(e){let{transitionDelay:t,transitionDuration:n}=window.getComputedStyle(e),i=parseFloat(t),r=parseFloat(n);return(i+r)*1e3}function EC(e){return typeof e=="string"}function Yp(e){return e!=null}function Sk(e){return e&&e.then}function Jp(e){return(e||document.body).getBoundingClientRect()}function Mk(e){return t=>new N(n=>{let i=s=>e.run(()=>n.next(s)),r=s=>e.run(()=>n.error(s)),o=()=>e.run(()=>n.complete());return t.subscribe({next:i,error:r,complete:o})})}var Ak=()=>{},{transitionTimerDelayMs:Nk}=CC,iu=new Map,ni=(e,t,n,i)=>{let r=i.context||{},o=iu.get(t);if(o)switch(i.runningTransition){case"continue":return Ie;case"stop":e.run(()=>o.transition$.complete()),r=Object.assign(o.context,r),iu.delete(t)}let s=n(t,i.animation,r)||Ak;if(!i.animation||window.getComputedStyle(t).transitionProperty==="none")return e.run(()=>s()),D(void 0).pipe(Mk(e));let a=new q,l=new q,c=a.pipe(xd(!0));iu.set(t,{transition$:a,complete:()=>{l.next(),l.complete()},context:r});let u=Tk(t);return e.runOutsideAngular(()=>{let d=gt(t,"transitionend").pipe(Le(c),_e(({target:f})=>f===t)),h=Nd(u+Nk).pipe(Le(c));Rd(h,d,l).pipe(Le(c)).subscribe(()=>{iu.delete(t),e.run(()=>{s(),a.next(),a.complete()})})}),a.asObservable()};function Rk(e,t){if(typeof navigator>"u")return"0px";let{classList:n}=e,i=n.contains("show");i||n.add("show"),e.style[t]="";let r=e.getBoundingClientRect()[t]+"px";return i||n.remove("show"),r}var Ok=(e,t,n)=>{let{direction:i,maxSize:r,dimension:o}=n,{classList:s}=e;function a(){s.add("collapse"),i==="show"?s.add("show"):s.remove("show")}if(!t){a();return}return r||(r=Rk(e,o),n.maxSize=r,e.style[o]=i!=="show"?r:"0px",s.remove("collapse","collapsing","show"),Jp(e),s.add("collapsing")),e.style[o]=i==="show"?r:"0px",()=>{a(),s.remove("collapsing"),e.style[o]=""}},xk=(()=>{class e{constructor(){this._ngbConfig=g(DC),this.horizontal=!1}get animation(){return this._animation??this._ngbConfig.animation}set animation(n){this._animation=n}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),IC=(()=>{class e{constructor(){this._config=g(xk),this._element=g(Ge),this._zone=g(P),this.animation=this._config.animation,this._afterInit=!1,this._isCollapsed=!1,this.ngbCollapseChange=new le,this.horizontal=this._config.horizontal,this.shown=new le,this.hidden=new le}set collapsed(n){this._isCollapsed!==n&&(this._isCollapsed=n,this._afterInit&&this._runTransitionWithEvents(n,this.animation))}ngOnInit(){this._runTransition(this._isCollapsed,!1),this._afterInit=!0}toggle(n=this._isCollapsed){this.collapsed=!n,this.ngbCollapseChange.next(this._isCollapsed)}_runTransition(n,i){return ni(this._zone,this._element.nativeElement,Ok,{animation:i,runningTransition:"stop",context:{direction:n?"hide":"show",dimension:this.horizontal?"width":"height"}})}_runTransitionWithEvents(n,i){this._runTransition(n,i).subscribe(()=>{n?this.hidden.emit():this.shown.emit()})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275dir=st({type:e,selectors:[["","ngbCollapse",""]],hostVars:2,hostBindings:function(i,r){i&2&&ki("collapse-horizontal",r.horizontal)},inputs:{animation:"animation",collapsed:[0,"ngbCollapse","collapsed"],horizontal:"horizontal"},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"],standalone:!0})}}return e})();var TC=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();var SC=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();var MC=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})(),AC=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();var uW=(()=>{let e=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2,t=()=>/Android/.test(navigator.userAgent);return typeof navigator<"u"?!!navigator.userAgent&&(e()||t()):!1})();var kk=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function NC(e){let t=Array.from(e.querySelectorAll(kk)).filter(n=>n.tabIndex!==-1);return[t[0],t[t.length-1]]}var Pk=(e,t,n,i=!1)=>{e.runOutsideAngular(()=>{let r=gt(t,"focusin").pipe(Le(n),S(o=>o.target));gt(t,"keydown").pipe(Le(n),_e(o=>o.key==="Tab"),vr(r)).subscribe(([o,s])=>{let[a,l]=NC(t);(s===a||s===t)&&o.shiftKey&&(l.focus(),o.preventDefault()),s===l&&!o.shiftKey&&(a.focus(),o.preventDefault())}),i&&gt(t,"click").pipe(Le(n),vr(r),S(o=>o[1])).subscribe(o=>o.focus())})};var dW=new Date(1882,10,12),hW=new Date(2174,10,25);var fW=1e3*60*60*24;var Xp=1080,Fk=24*Xp,Lk=12*Xp+793,pW=29*Fk+Lk,gW=11*Xp+204;var RC=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();var OC=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})(),Vk=(()=>{class e{constructor(){this._ngbConfig=g(DC),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(n){this._animation=n}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),ho=class{constructor(t,n,i){this.nodes=t,this.viewRef=n,this.componentRef=i}};var jk=(()=>{class e{constructor(){this._document=g(we)}hide(){let n=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:o,paddingRight:s}=r;if(n>0){let a=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${a+n}px`}return r.overflow="hidden",()=>{n>0&&(r.paddingRight=s),r.overflow=o}}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Bk=(()=>{class e{constructor(){this._nativeElement=g(Ge).nativeElement,this._zone=g(P),this._injector=g(Te)}ngOnInit(){$r(()=>ni(this._zone,this._nativeElement,(n,i)=>{i&&Jp(n),n.classList.add("show")},{animation:this.animation,runningTransition:"continue"}),{injector:this._injector,phase:un.MixedReadWrite})}hide(){return ni(this._zone,this._nativeElement,({classList:n})=>n.remove("show"),{animation:this.animation,runningTransition:"stop"})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=ot({type:e,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(i,r){i&2&&(cc("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),ki("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[ns],decls:0,vars:0,template:function(i,r){},encapsulation:2})}}return e})(),ru=class{update(t){}close(t){}dismiss(t){}},Uk=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],$k=["animation","backdropClass"],Qp=class{_applyWindowOptions(t,n){Uk.forEach(i=>{Yp(n[i])&&(t[i]=n[i])})}_applyBackdropOptions(t,n){$k.forEach(i=>{Yp(n[i])&&(t[i]=n[i])})}update(t){this._applyWindowOptions(this._windowCmptRef.instance,t),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,t)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Le(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Le(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(t,n,i,r){this._windowCmptRef=t,this._contentRef=n,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new q,this._dismissed=new q,this._hidden=new q,t.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,s)=>{this._resolve=o,this._reject=s}),this.result.then(null,()=>{})}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(!this._beforeDismiss)this._dismiss(t);else{let n=this._beforeDismiss();Sk(n)?n.then(i=>{i!==!1&&this._dismiss(t)},()=>{}):n!==!1&&this._dismiss(t)}}_removeModalElements(){let t=this._windowCmptRef.instance.hide(),n=this._backdropCmptRef?this._backdropCmptRef.instance.hide():D(void 0);t.subscribe(()=>{let{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef?.viewRef?.destroy(),this._windowCmptRef=null,this._contentRef=null}),n.subscribe(()=>{if(this._backdropCmptRef){let{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),jo(t,n).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}},Zp=function(e){return e[e.BACKDROP_CLICK=0]="BACKDROP_CLICK",e[e.ESC=1]="ESC",e}(Zp||{}),Hk=(()=>{class e{constructor(){this._document=g(we),this._elRef=g(Ge),this._zone=g(P),this._injector=g(Te),this._closed$=new q,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new le,this.shown=new q,this.hidden=new q}get fullscreenClass(){return this.fullscreen===!0?" modal-fullscreen":EC(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(n){this.dismissEvent.emit(n)}ngOnInit(){this._elWithFocus=this._document.activeElement,$r(()=>this._show(),{injector:this._injector,phase:un.MixedReadWrite})}ngOnDestroy(){this._disableEventHandling()}hide(){let{nativeElement:n}=this._elRef,i={animation:this.animation,runningTransition:"stop"},r=ni(this._zone,n,()=>n.classList.remove("show"),i),o=ni(this._zone,this._dialogEl.nativeElement,()=>{},i),s=jo(r,o);return s.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),s}_show(){let n={animation:this.animation,runningTransition:"continue"},i=ni(this._zone,this._elRef.nativeElement,(o,s)=>{s&&Jp(o),o.classList.add("show")},n),r=ni(this._zone,this._dialogEl.nativeElement,()=>{},n);jo(i,r).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){let{nativeElement:n}=this._elRef;this._zone.runOutsideAngular(()=>{gt(n,"keydown").pipe(Le(this._closed$),_e(r=>r.key==="Escape")).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(Zp.ESC))}):this.backdrop==="static"&&this._bumpBackdrop()});let i=!1;gt(this._dialogEl.nativeElement,"mousedown").pipe(Le(this._closed$),me(()=>i=!1),ie(()=>gt(n,"mouseup").pipe(Le(this._closed$),mt(1))),_e(({target:r})=>n===r)).subscribe(()=>{i=!0}),gt(n,"click").pipe(Le(this._closed$)).subscribe(({target:r})=>{n===r&&(this.backdrop==="static"?this._bumpBackdrop():this.backdrop===!0&&!i&&this._zone.run(()=>this.dismiss(Zp.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){let{nativeElement:n}=this._elRef;if(!n.contains(document.activeElement)){let i=n.querySelector("[ngbAutofocus]"),r=NC(n)[0];(i||r||n).focus()}}_restoreFocus(){let n=this._document.body,i=this._elWithFocus,r;i&&i.focus&&n.contains(i)?r=i:r=n,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){this.backdrop==="static"&&ni(this._zone,this._elRef.nativeElement,({classList:n})=>(n.add("modal-static"),()=>n.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=ot({type:e,selectors:[["ngb-modal-window"]],viewQuery:function(i,r){if(i&1&&yb(Ik,7),i&2){let o;Af(o=Nf())&&(r._dialogEl=o.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(i,r){i&2&&(Hr("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),cc("modal d-block"+(r.windowClass?" "+r.windowClass:"")),ki("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[ns],ngContentSelectors:Ek,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(i,r){i&1&&(_b(),re(0,"div",1,0)(2,"div",2),vb(3),ce()()),i&2&&cc("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:[`ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}
`],encapsulation:2})}}return e})(),Gk=(()=>{class e{constructor(){this._applicationRef=g(Ft),this._injector=g(Te),this._environmentInjector=g(Ae),this._document=g(we),this._scrollBar=g(jk),this._activeWindowCmptHasChanged=new q,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new le;let n=g(P);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){let i=this._windowCmpts[this._windowCmpts.length-1];Pk(n,i.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(i.location.nativeElement)}})}_restoreScrollBar(){let n=this._scrollBarRestoreFn;n&&(this._scrollBarRestoreFn=null,n())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(n,i,r){let o=r.container instanceof HTMLElement?r.container:Yp(r.container)?this._document.querySelector(r.container):this._document.body;if(!o)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);this._hideScrollBar();let s=new ru;n=r.injector||n;let a=n.get(Ae,null)||this._environmentInjector,l=this._getContentRef(n,a,i,s,r),c=r.backdrop!==!1?this._attachBackdrop(o):void 0,u=this._attachWindowComponent(o,l.nodes),d=new Qp(u,l,c,r.beforeDismiss);return this._registerModalRef(d),this._registerWindowCmpt(u),d.hidden.pipe(mt(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),s.close=h=>{d.close(h)},s.dismiss=h=>{d.dismiss(h)},s.update=h=>{d.update(h)},d.update(r),this._modalRefs.length===1&&this._document.body.classList.add("modal-open"),c&&c.instance&&c.changeDetectorRef.detectChanges(),u.changeDetectorRef.detectChanges(),d}get activeInstances(){return this._activeInstances}dismissAll(n){this._modalRefs.forEach(i=>i.dismiss(n))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(n){let i=yc(Bk,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),n.appendChild(i.location.nativeElement),i}_attachWindowComponent(n,i){let r=yc(Hk,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(r.hostView),n.appendChild(r.location.nativeElement),r}_getContentRef(n,i,r,o,s){return r?r instanceof Un?this._createFromTemplateRef(r,o):EC(r)?this._createFromString(r):this._createFromComponent(n,i,r,o,s):new ho([])}_createFromTemplateRef(n,i){let r={$implicit:i,close(s){i.close(s)},dismiss(s){i.dismiss(s)}},o=n.createEmbeddedView(r);return this._applicationRef.attachView(o),new ho([o.rootNodes],o)}_createFromString(n){let i=this._document.createTextNode(`${n}`);return new ho([[i]])}_createFromComponent(n,i,r,o,s){let a=Te.create({providers:[{provide:ru,useValue:o}],parent:n}),l=yc(r,{environmentInjector:i,elementInjector:a}),c=l.location.nativeElement;return s.scrollable&&c.classList.add("component-host-scrollable"),this._applicationRef.attachView(l.hostView),new ho([[c]],l.hostView,l)}_setAriaHidden(n){let i=n.parentElement;i&&n!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==n&&r.nodeName!=="SCRIPT"&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((n,i)=>{n?i.setAttribute("aria-hidden",n):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(n){let i=()=>{let r=this._modalRefs.indexOf(n);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(n),this._activeInstances.emit(this._modalRefs),n.result.then(i,i)}_registerWindowCmpt(n){this._windowCmpts.push(n),this._activeWindowCmptHasChanged.next(),n.onDestroy(()=>{let i=this._windowCmpts.indexOf(n);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),zk=(()=>{class e{constructor(){this._injector=g(Te),this._modalStack=g(Gk),this._config=g(Vk)}open(n,i={}){let r=y(U(y({},this._config),{animation:this._config.animation}),i);return this._modalStack.open(this._injector,n,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(n){this._modalStack.dismissAll(n)}hasOpenModals(){return this._modalStack.hasOpenModals()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),xC=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({providers:[zk]})}}return e})();var kC=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();var PC=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();var FC=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();var LC=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();var VC=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();var jC=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();var BC=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();var UC=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();var $C=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();var mW=new w("live announcer delay",{providedIn:"root",factory:()=>100});var HC=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();var GC=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})(),Wk=[TC,SC,MC,AC,RC,OC,xC,kC,GC,PC,FC,LC,VC,jC,BC,UC,$C,HC],zC=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({imports:[Wk,TC,SC,MC,AC,RC,OC,xC,kC,GC,PC,FC,LC,VC,jC,BC,UC,$C,HC]})}}return e})();function qk(e,t){if(e&1&&(re(0,"li",12)(1,"a",13),We(2),ce()()),e&2){let n=t.$implicit;se(),Se("routerLink",n.link),se(),Pt(n.text)}}var ou=class e{constructor(t){this.config=t;this.config.getLinks().subscribe(n=>this.links=n.menuItems),console.log(this.links)}links;dropClose=!0;lang="Magyar";setLang(t){this.lang=t=="hu"?"Magyar":"English",this.config.setLang(t),this.dropClose=!0}static \u0275fac=function(n){return new(n||e)(K(ti))};static \u0275cmp=ot({type:e,selectors:[["app-nav"]],decls:19,vars:3,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],["class","nav-item",4,"ngFor","ngForOf"],[1,"nav-item","dropdown"],["id","navbarDropdown","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle",3,"click"],["aria-labelledby","navbarDropdown",1,"dropdown-menu",3,"ngbCollapseChange","ngbCollapse"],[1,"dropdown-item",3,"click"],[1,"nav-item"],[1,"nav-link",3,"routerLink"]],template:function(n,i){n&1&&(re(0,"nav",0)(1,"div",1)(2,"a",2),We(3,"Navbar"),ce(),re(4,"button",3),ze(5,"span",4),ce(),re(6,"div",5)(7,"ul",6),nt(8,qk,3,2,"li",7),re(9,"li",8)(10,"button",9),it("click",function(){return i.dropClose=!i.dropClose}),We(11),ce(),re(12,"ul",10),zr("ngbCollapseChange",function(o){return ts(i.dropClose,o)||(i.dropClose=o),o}),re(13,"li")(14,"button",11),it("click",function(){return i.setLang("hu")}),We(15,"Magyar"),ce()(),re(16,"li")(17,"button",11),it("click",function(){return i.setLang("en")}),We(18,"English"),ce()()()()()()()()),n&2&&(se(8),Se("ngForOf",i.links),se(3),Fi(" ",i.lang," "),se(),Gr("ngbCollapse",i.dropClose))},dependencies:[qr,Yc,IC]})};var su=class e{title="Gyaklorlas";static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ot({type:e,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"container"]],template:function(n,i){n&1&&(ze(0,"app-nav"),re(1,"div",0),ze(2,"router-outlet"),ce())},dependencies:[xp,ou]})};var Qk="firebase",Zk="10.14.1";An(Qk,Zk,"app");var Gi=new gn("ANGULARFIRE2_VERSION");var Jk=(e,t)=>{let n=t?[t]:T_(),i=[];return n.forEach(r=>{r.container.getProvider(e).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i},Hi=class{constructor(){return Jk(Xk)}},Xk="app-check";function eg(){}var au=class{zone;delegate;constructor(t,n=Td){this.zone=t,this.delegate=n}now(){return this.delegate.now()}schedule(t,n,i){let r=this.zone,o=function(s){r.runGuarded(()=>{t.apply(this,[s])})};return this.delegate.schedule(o,n,i)}},tg=class{zone;task=null;constructor(t){this.zone=t}call(t,n){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",eg,{},eg,eg)),n.pipe(me({next:i,complete:i,error:i})).subscribe(t).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},lu=(()=>{class e{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new au(Zone.current)),this.insideAngular=n.run(()=>new au(Zone.current,dr)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||e)(_(P))};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function eP(){let e=globalThis.\u0275AngularFireScheduler;if(!e)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return e}function In(e){return tP(eP())(e)}function tP(e){return function(n){return n=n.lift(new tg(e.ngZone)),n.pipe(At(e.outsideAngular),pt(e.insideAngular))}}var rP=new Map,oP={activated:!1,tokenObservers:[]},sP={initialized:!1,enabled:!1};function Vt(e){return rP.get(e)||Object.assign({},oP)}function ZC(){return sP}var aP="https://content-firebaseappcheck.googleapis.com/v1";var lP="exchangeDebugToken",KC={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},PW=24*60*60*1e3;var ig=class{constructor(t,n,i,r,o){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){return Qe(this,null,function*(){this.stop();try{this.pending=new Me,this.pending.promise.catch(n=>{}),yield cP(this.getNextRun(t)),this.pending.resolve(),yield this.pending.promise,this.pending=new Me,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function cP(e){return new Promise(t=>{setTimeout(t,e)})}var uP={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},ii=new v_("appCheck","AppCheck",uP);function JC(e){if(!Vt(e).activated)throw ii.create("use-before-activation",{appName:e.name})}function XC(i,r){return Qe(this,arguments,function*({url:e,body:t},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let f=yield s.getHeartbeatsHeader();f&&(o["X-Firebase-Client"]=f)}let a={method:"POST",body:JSON.stringify(t),headers:o},l;try{l=yield fetch(e,a)}catch(f){throw ii.create("fetch-network-error",{originalErrorMessage:f?.message})}if(l.status!==200)throw ii.create("fetch-status-error",{httpStatus:l.status});let c;try{c=yield l.json()}catch(f){throw ii.create("fetch-parse-error",{originalErrorMessage:f?.message})}let u=c.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw ii.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});let d=Number(u[1])*1e3,h=Date.now();return{token:c.token,expireTimeMillis:h+d,issuedAtTimeMillis:h}})}function eD(e,t){let{projectId:n,appId:i,apiKey:r}=e.options;return{url:`${aP}/projects/${n}/apps/${i}:${lP}?key=${r}`,body:{debug_token:t}}}var dP="firebase-app-check-database",hP=1,rg="firebase-app-check-store";var cu=null;function fP(){return cu||(cu=new Promise((e,t)=>{try{let n=indexedDB.open(dP,hP);n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{var r;t(ii.create("storage-open",{originalErrorMessage:(r=i.target.error)===null||r===void 0?void 0:r.message}))},n.onupgradeneeded=i=>{let r=i.target.result;switch(i.oldVersion){case 0:r.createObjectStore(rg,{keyPath:"compositeKey"})}}}catch(n){t(ii.create("storage-open",{originalErrorMessage:n?.message}))}}),cu)}function pP(e,t){return gP(mP(e),t)}function gP(e,t){return Qe(this,null,function*(){let i=(yield fP()).transaction(rg,"readwrite"),o=i.objectStore(rg).put({compositeKey:e,value:t});return new Promise((s,a)=>{o.onsuccess=l=>{s()},i.onerror=l=>{var c;a(ii.create("storage-set",{originalErrorMessage:(c=l.target.error)===null||c===void 0?void 0:c.message}))}})})}function mP(e){return`${e.options.appId}-${e.name}`}var og=new tr("@firebase/app-check");function ng(e,t){return __()?pP(e,t).catch(n=>{og.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function tD(){return ZC().enabled}function nD(){return Qe(this,null,function*(){let e=ZC();if(e.enabled&&e.token)return e.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var _P={error:"UNKNOWN_ERROR"};function vP(e){return wa.encodeString(JSON.stringify(e),!1)}function sg(e,t=!1){return Qe(this,null,function*(){let n=e.app;JC(n);let i=Vt(n),r=i.token,o;if(r&&!js(r)&&(i.token=void 0,r=void 0),!r){let l=yield i.cachedTokenPromise;l&&(js(l)?r=l:yield ng(n,void 0))}if(!t&&r&&js(r))return{token:r.token};let s=!1;if(tD()){i.exchangeTokenPromise||(i.exchangeTokenPromise=XC(eD(n,yield nD()),e.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),s=!0);let l=yield i.exchangeTokenPromise;return yield ng(n,l),i.token=l,{token:l.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),s=!0),r=yield Vt(n).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?og.warn(l.message):og.error(l),o=l}let a;return r?o?js(r)?a={token:r.token,internalError:o}:a=YC(o):(a={token:r.token},i.token=r,yield ng(n,r)):a=YC(o),s&&CP(n,a),a})}function yP(e){return Qe(this,null,function*(){let t=e.app;JC(t);let{provider:n}=Vt(t);if(tD()){let i=yield nD(),{token:r}=yield XC(eD(t,i),e.heartbeatServiceProvider);return{token:r}}else{let{token:i}=yield n.getToken();return{token:i}}})}function bP(e,t,n,i){let{app:r}=e,o=Vt(r),s={next:n,error:i,type:t};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&js(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),qC(e)}).catch(()=>{})}o.cachedTokenPromise.then(()=>qC(e))}function iD(e,t){let n=Vt(e),i=n.tokenObservers.filter(r=>r.next!==t);i.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=i}function qC(e){let{app:t}=e,n=Vt(t),i=n.tokenRefresher;i||(i=wP(e),n.tokenRefresher=i),!i.isRunning()&&n.isTokenAutoRefreshEnabled&&i.start()}function wP(e){let{app:t}=e;return new ig(()=>Qe(this,null,function*(){let n=Vt(t),i;if(n.token?i=yield sg(e,!0):i=yield sg(e),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{let n=Vt(t);if(n.token){let i=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,r=n.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,r),Math.max(0,i-Date.now())}else return 0},KC.RETRIAL_MIN_WAIT,KC.RETRIAL_MAX_WAIT)}function CP(e,t){let n=Vt(e).tokenObservers;for(let i of n)try{i.type==="EXTERNAL"&&t.error!=null?i.error(t.error):i.next(t)}catch{}}function js(e){return e.expireTimeMillis-Date.now()>0}function YC(e){return{token:vP(_P),error:e}}var ag=class{constructor(t,n){this.app=t,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:t}=Vt(this.app);for(let n of t)iD(this.app,n.next);return Promise.resolve()}};function DP(e,t){return new ag(e,t)}function EP(e){return{getToken:t=>sg(e,t),getLimitedUseToken:()=>yP(e),addTokenListener:t=>bP(e,"INTERNAL",t),removeTokenListener:t=>iD(e.app,t)}}var IP="@firebase/app-check",TP="0.8.8";var SP="app-check",QC="app-check-internal";function MP(){ko(new on(SP,e=>{let t=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat");return DP(t,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(QC).initialize()})),ko(new on(QC,e=>{let t=e.getProvider("app-check").getImmediate();return EP(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),An(IP,TP)}MP();var AP=["localhost","0.0.0.0","127.0.0.1"],KW=typeof window<"u"&&AP.includes(window.location.hostname);var NP="firebase",RP="10.14.1";Ue.registerVersion(NP,RP,"app-compat");var OP=["ngOnDestroy"],sD=(e,t,n,i={})=>new Proxy(e,{get:(r,o)=>n.runOutsideAngular(()=>{if(e[o])return i?.spy?.get&&i.spy.get(o,e[o]),e[o];if(OP.indexOf(o)>-1)return()=>{};let s=t.toPromise().then(a=>{let l=a?.[o];return typeof l=="function"?l.bind(a):l?.then?l.then(c=>n.run(()=>c)):n.run(()=>l)});return new Proxy(()=>{},{get:(a,l)=>s[l],apply:(a,l,c)=>s.then(u=>{let d=u?.(...c);return i?.spy?.apply&&i.spy.apply(o,c,d),d})})})});var uu=class{constructor(t){return t}},fo=new w("angularfire2.app.options"),po=new w("angularfire2.app.name");function Bs(e,t,n){let i=typeof n=="string"&&n||"[DEFAULT]",r=typeof n=="object"&&n||{};r.name=r.name||i;let s=Ue.apps.filter(a=>a&&a.name===r.name)[0]||t.runOutsideAngular(()=>Ue.initializeApp(e,r));try{if(JSON.stringify(e)!==JSON.stringify(s.options)){let a=!!module.hot;xP("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new uu(s)}var xP=(e,...t)=>{kf()&&typeof console<"u"&&console[e](...t)},kP={provide:uu,useFactory:Bs,deps:[fo,P,[new Pr,po]]},aD=(()=>{class e{static initializeApp(n,i){return{ngModule:e,providers:[{provide:fo,useValue:n},{provide:po,useValue:i}]}}constructor(n){Ue.registerVersion("angularfire",Gi.full,"core"),Ue.registerVersion("angularfire",Gi.full,"app-compat"),Ue.registerVersion("angular",wb.full,n.toString())}static \u0275fac=function(i){return new(i||e)(_(Fe))};static \u0275mod=L({type:e});static \u0275inj=F({providers:[kP]})}return e})();function du(e,t,n,i,r){let[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===e)||[];if(o)return PP(r,s)||(oD("error",`${t} was already initialized on the ${n} Firebase App with different settings.${FP?" You may need to reload as Firebase is not HMR aware.":""}`),oD("warn",{is:r,was:s})),o;{let a=i();return globalThis.\u0275AngularfireInstanceCache.push([e,a,r]),a}}function PP(e,t){try{return e.toString()===t.toString()}catch{return e===t}}var FP=typeof module<"u"&&!!module.hot,oD=(e,...t)=>{kf()&&typeof console<"u"&&console[e](...t)};globalThis.\u0275AngularfireInstanceCache||=[];var lg=new w("angularfire2.auth.use-emulator"),cg=new w("angularfire2.auth.settings"),ug=new w("angularfire2.auth.tenant-id"),dg=new w("angularfire2.auth.langugage-code"),hg=new w("angularfire2.auth.use-device-language"),fg=new w("angularfire.auth.persistence"),pg=(e,t,n,i,r,o,s,a)=>du(`${e.name}.auth`,"AngularFireAuth",e.name,()=>{let l=t.runOutsideAngular(()=>e.auth());if(n&&l.useEmulator(...n),i&&(l.tenantId=i),l.languageCode=r,o&&l.useDeviceLanguage(),s)for(let[c,u]of Object.entries(s))l.settings[c]=u;return a&&l.setPersistence(a),l},[n,i,r,o,s,a]),gg=(()=>{class e{authState;idToken;user;idTokenResult;credential;constructor(n,i,r,o,s,a,l,c,u,d,h,f){let p=new q,m=D(void 0).pipe(pt(s.outsideAngular),ie(()=>o.runOutsideAngular(()=>import("./chunk-HFG2JIZC.js"))),S(()=>Bs(n,o,i)),S(b=>pg(b,o,a,c,u,d,l,h)),nl({bufferSize:1,refCount:!1}));if(Yr(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=D(null);else{m.pipe(_t()).subscribe();let b=m.pipe(ie(E=>E.getRedirectResult().then(ne=>ne,()=>null)),In,nl({bufferSize:1,refCount:!1})),T=m.pipe(ie(E=>new N(ne=>({unsubscribe:o.runOutsideAngular(()=>E.onAuthStateChanged(pe=>ne.next(pe),pe=>ne.error(pe),()=>ne.complete()))})))),j=m.pipe(ie(E=>new N(ne=>({unsubscribe:o.runOutsideAngular(()=>E.onIdTokenChanged(pe=>ne.next(pe),pe=>ne.error(pe),()=>ne.complete()))}))));this.authState=b.pipe(rl(T),At(s.outsideAngular),pt(s.insideAngular)),this.user=b.pipe(rl(j),At(s.outsideAngular),pt(s.insideAngular)),this.idToken=this.user.pipe(ie(E=>E?ee(E.getIdToken()):D(null))),this.idTokenResult=this.user.pipe(ie(E=>E?ee(E.getIdTokenResult()):D(null))),this.credential=_i(b,p,this.authState.pipe(_e(E=>!E))).pipe(S(E=>E?.user?E:null),At(s.outsideAngular),pt(s.insideAngular))}return sD(this,m,o,{spy:{apply:(b,T,j)=>{(b.startsWith("signIn")||b.startsWith("createUser"))&&j.then(E=>p.next(E))}}})}static \u0275fac=function(i){return new(i||e)(_(fo),_(po,8),_(Fe),_(P),_(lu),_(lg,8),_(cg,8),_(ug,8),_(dg,8),_(hg,8),_(fg,8),_(Hi,8))};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"any"})}return e})(),lD=(()=>{class e{constructor(){Ue.registerVersion("angularfire",Gi.full,"auth-compat")}static \u0275fac=function(i){return new(i||e)};static \u0275mod=L({type:e});static \u0275inj=F({providers:[gg]})}return e})();var cD="@firebase/database",uD="1.0.8";var Sm="";function Mm(e){Sm=e}var Dg=class{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),ye(n))}get(t){let n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:Ca(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}};var Eg=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return ft(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}};var UD=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){let t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Dg(t)}}catch{}return new Eg},Wi=UD("localStorage"),Ig=UD("sessionStorage");var vo=new tr("@firebase/database"),$D=function(){let e=1;return function(){return e++}}(),HD=function(e){let t=D_(e),n=new C_;n.update(t);let i=n.digest();return wa.encodeByteArray(i)},ua=function(...e){let t="";for(let n=0;n<e.length;n++){let i=e[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?t+=ua.apply(null,i):typeof i=="object"?t+=ye(i):t+=i,t+=" "}return t},Ki=null,dD=!0,GD=function(e,t){v(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(vo.logLevel=E_.VERBOSE,Ki=vo.log.bind(vo),t&&Ig.set("logging_enabled",!0)):typeof e=="function"?Ki=e:(Ki=null,Ig.remove("logging_enabled"))},Oe=function(...e){if(dD===!0&&(dD=!1,Ki===null&&Ig.get("logging_enabled")===!0&&GD(!0)),Ki){let t=ua.apply(null,e);Ki(t)}},da=function(e){return function(...t){Oe(e,...t)}},Tg=function(...e){let t="FIREBASE INTERNAL ERROR: "+ua(...e);vo.error(t)},en=function(...e){let t=`FIREBASE FATAL ERROR: ${ua(...e)}`;throw vo.error(t),new Error(t)},je=function(...e){let t="FIREBASE WARNING: "+ua(...e);vo.warn(t)},VP=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&je("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},ju=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},jP=function(e){if(Ut()||document.readyState==="complete")e();else{let t=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ai="[MIN_NAME]",Tn="[MAX_NAME]",Yi=function(e,t){if(e===t)return 0;if(e===ai||t===Tn)return-1;if(t===ai||e===Tn)return 1;{let n=hD(e),i=hD(t);return n!==null?i!==null?n-i===0?e.length-t.length:n-i:-1:i!==null?1:e<t?-1:1}},BP=function(e,t){return e===t?0:e<t?-1:1},Us=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+ye(t))},Am=function(e){if(typeof e!="object"||e===null)return ye(e);let t=[];for(let i in e)t.push(i);t.sort();let n="{";for(let i=0;i<t.length;i++)i!==0&&(n+=","),n+=ye(t[i]),n+=":",n+=Am(e[t[i]]);return n+="}",n},zD=function(e,t){let n=e.length;if(n<=t)return[e];let i=[];for(let r=0;r<n;r+=t)r+t>n?i.push(e.substring(r,n)):i.push(e.substring(r,r+t));return i};function xe(e,t){for(let n in e)e.hasOwnProperty(n)&&t(n,e[n])}var WD=function(e){v(!ju(e),"Invalid JSON number");let t=11,n=52,i=(1<<t-1)-1,r,o,s,a,l;e===0?(o=0,s=0,r=1/e===-1/0?1:0):(r=e<0,e=Math.abs(e),e>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(e)/Math.LN2),i),o=a+i,s=Math.round(e*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(e/Math.pow(2,1-i-n))));let c=[];for(l=n;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);for(l=t;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);c.push(r?1:0),c.reverse();let u=c.join(""),d="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},UP=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},$P=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function HP(e,t){let n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");let i=new Error(e+" at "+t._path.toString()+": "+n);return i.code=e.toUpperCase(),i}var GP=new RegExp("^-?(0*)\\d{1,10}$"),zP=-2147483648,WP=2147483647,hD=function(e){if(GP.test(e)){let t=Number(e);if(t>=zP&&t<=WP)return t}return null},So=function(e){try{e()}catch(t){setTimeout(()=>{let n=t.stack||"";throw je("Exception was thrown by user callback.",n),t},Math.floor(0))}},KP=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},zs=function(e,t){let n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var Sg=class{constructor(t,n){this.appName_=t,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,i):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){je(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var Mg=class{constructor(t,n,i){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(Oe("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,i):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',je(t)}},Ws=(()=>{class e{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}e.OWNER="owner";return e})(),fu="5",KD="v",qD="s",YD="r",QD="f",ZD=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,JD="ls",XD="p",Ag="ac",e1="websocket",t1="long_polling";var pu=class{constructor(t,n,i,r,o=!1,s="",a=!1,l=!1){this.secure=n,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Wi.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Wi.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){let t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}};function qP(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function n1(e,t,n){v(typeof t=="string","typeof type must == string"),v(typeof n=="object","typeof params must == object");let i;if(t===e1)i=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===t1)i=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);qP(e)&&(n.ns=e.namespace);let r=[];return xe(n,(o,s)=>{r.push(o+"="+s)}),i+r.join("&")}var Ng=class{constructor(){this.counters_={}}incrementCounter(t,n=1){ft(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return p_(this.counters_)}};var mg={},_g={};function Nm(e){let t=e.toString();return mg[t]||(mg[t]=new Ng),mg[t]}function YP(e,t){let n=e.toString();return _g[n]||(_g[n]=t()),_g[n]}var Rg=class{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){let i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&So(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var fD="start",QP="close",ZP="pLPCommand",JP="pRTLPCB",i1="id",r1="pw",o1="ser",XP="cb",eF="seg",tF="ts",nF="d",iF="dframe",s1=1870,a1=30,rF=s1-a1,oF=25e3,sF=3e4,Qs=class e{constructor(t,n,i,r,o,s,a){this.connId=t,this.repoInfo=n,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=da(t),this.stats_=Nm(n),this.urlFn=l=>(this.appCheckToken&&(l[Ag]=this.appCheckToken),n1(n,t1,l))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Rg(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(sF)),jP(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Og((...o)=>{let[s,a,l,c,u]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===fD)this.id=a,this.password=l;else if(s===QP)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{let[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let i={};i[fD]="t",i[o1]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[XP]=this.scriptTagHolder.uniqueCallbackIdentifier),i[KD]=fu,this.transportSessionId&&(i[qD]=this.transportSessionId),this.lastSessionId&&(i[JD]=this.lastSessionId),this.applicationId&&(i[XD]=this.applicationId),this.appCheckToken&&(i[Ag]=this.appCheckToken),typeof location<"u"&&location.hostname&&ZD.test(location.hostname)&&(i[YD]=QD);let r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){e.forceAllow_=!0}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){return Ut()?!1:e.forceAllow_?!0:!e.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!UP()&&!$P()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){let n=ye(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let i=f_(n),r=zD(i,rF);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(t,n){if(Ut())return;this.myDisconnFrame=document.createElement("iframe");let i={};i[iF]="t",i[i1]=t,i[r1]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){let n=ye(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},Og=class e{constructor(t,n,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,Ut())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=$D(),window[ZP+this.uniqueCallbackIdentifier]=t,window[JP+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Oe("frame writing exception"),a.stack&&Oe(a.stack),Oe(a)}}}static createIFrame_(){let t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||Oe("No IE domain setting required")}catch{let i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let t={};t[i1]=this.myID,t[r1]=this.myPW,t[o1]=this.currentSerial;let n=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+a1+i.length<=s1;){let s=this.pendingSegs.shift();i=i+"&"+eF+r+"="+s.seg+"&"+tF+r+"="+s.ts+"&"+nF+r+"="+s.d,r++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,i){this.pendingSegs.push({seg:t,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);let i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},r=setTimeout(i,Math.floor(oF)),o=()=>{clearTimeout(r),i()};this.addTag(t,o)}addTag(t,n){Ut()?this.doNodeLongPoll(t,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){let r=i.readyState;(!r||r==="loaded"||r==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{Oe("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}};var aF=16384,lF=45e3,gu=null;typeof MozWebSocket<"u"?gu=MozWebSocket:typeof WebSocket<"u"&&(gu=WebSocket);var mo=(()=>{class e{constructor(n,i,r,o,s,a,l){this.connId=n,this.applicationId=r,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=da(this.connId),this.stats_=Nm(i),this.connURL=e.connectionURL_(i,a,l,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(n,i,r,o,s){let a={};return a[KD]=fu,!Ut()&&typeof location<"u"&&location.hostname&&ZD.test(location.hostname)&&(a[YD]=QD),i&&(a[qD]=i),r&&(a[JD]=r),o&&(a[Ag]=o),s&&(a[XD]=s),n1(n,e1,a)}open(n,i){this.onDisconnect=i,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Wi.set("previous_websocket_failure",!0);try{let r;if(Ut()){let o=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":`Firebase/${fu}/${Sm}/${process.platform}/${o}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(r.proxy={origin:a})}this.mySock=new gu(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");let o=r.message||r.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");let o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let i=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(i);r&&r.length>1&&parseFloat(r[1])<4.4&&(n=!0)}return!n&&gu!==null&&!e.forceDisallow_}static previouslyFailed(){return Wi.isInMemoryStorage||Wi.get("previous_websocket_failure")===!0}markConnectionHealthy(){Wi.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let i=this.frames.join("");this.frames=null;let r=Ca(i);this.onMessage(r)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(v(this.frames===null,"We already have a frame buffer"),n.length<=6){let i=Number(n);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let i=n.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{let r=this.extractFrameCount_(i);r!==null&&this.appendFrame_(r)}}send(n){this.resetKeepAlive();let i=ye(n);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);let r=zD(i,aF);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(lF))}sendString_(n){try{this.mySock.send(n)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4;return e})(),l1=(()=>{class e{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[Qs,mo]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){let i=mo&&mo.isAvailable(),r=i&&!mo.previouslyFailed();if(n.webSocketOnly&&(i||je("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[mo];else{let o=this.transports_=[];for(let s of e.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);e.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}e.globalTransportInitialized_=!1;return e})(),cF=6e4,uF=5e3,dF=10*1024,hF=100*1024,vg="t",pD="d",fF="s",gD="r",pF="e",mD="o",_D="a",vD="n",yD="p",gF="h",xg=class{constructor(t,n,i,r,o,s,a,l,c,u){this.id=t,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=da("c:"+this.id+":"),this.transportManager_=new l1(n),this.log_("Connection created"),this.start_()}start_(){let t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));let r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=zs(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>hF?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>dF?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){let n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(vg in t){let n=t[vg];n===_D?this.upgradeIfSecondaryHealthy_():n===gD?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===mD&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){let n=Us("t",t),i=Us("d",t);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:yD,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:_D,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:vD,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){let n=Us("t",t),i=Us("d",t);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){let n=Us(vg,t);if(pD in t){let i=t[pD];if(n===gF){let r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(n===vD){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===fF?this.onConnectionShutdown_(i):n===gD?this.onReset_(i):n===pF?Tg("Server Error: "+i):n===mD?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Tg("Unknown control packet command: "+n)}}onHandshake_(t){let n=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),fu!==i&&je("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),zs(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(cF))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):zs(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(uF))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:yD,d:{}}}))}onSecondaryConnectionLost_(){let t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Wi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var mu=class{put(t,n,i,r){}merge(t,n,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,i){}onDisconnectMerge(t,n,i){}onDisconnectCancel(t,n){}reportStats(t){}};var _u=class{constructor(t){this.allowedEvents_=t,this.listeners_={},v(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){let i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,n)}}on(t,n,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:i});let r=this.getInitialEvent(t);r&&n.apply(i,r)}off(t,n,i){this.validateEventType_(t);let r=this.listeners_[t]||[];for(let o=0;o<r.length;o++)if(r[o].callback===n&&(!i||i===r[o].context)){r.splice(o,1);return}}validateEventType_(t){v(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}};var vu=class e extends _u{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!sd()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new e}getInitialEvent(t){return v(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}};var bD=32,wD=768,J=class{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}};function Z(){return new J("")}function H(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function li(e){return e.pieces_.length-e.pieceNum_}function ae(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new J(e.pieces_,t)}function Rm(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function mF(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function Zs(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function c1(e){if(e.pieceNum_>=e.pieces_.length)return null;let t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new J(t,0)}function de(e,t){let n=[];for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);if(t instanceof J)for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else{let i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new J(n,0)}function G(e){return e.pieceNum_>=e.pieces_.length}function Ke(e,t){let n=H(e),i=H(t);if(n===null)return t;if(n===i)return Ke(ae(e),ae(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function _F(e,t){let n=Zs(e,0),i=Zs(t,0);for(let r=0;r<n.length&&r<i.length;r++){let o=Yi(n[r],i[r]);if(o!==0)return o}return n.length===i.length?0:n.length<i.length?-1:1}function Om(e,t){if(li(e)!==li(t))return!1;for(let n=e.pieceNum_,i=t.pieceNum_;n<=e.pieces_.length;n++,i++)if(e.pieces_[n]!==t.pieces_[i])return!1;return!0}function It(e,t){let n=e.pieceNum_,i=t.pieceNum_;if(li(e)>li(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[i])return!1;++n,++i}return!0}var kg=class{constructor(t,n){this.errorPrefix_=n,this.parts_=Zs(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=xo(this.parts_[i]);u1(this)}};function vF(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=xo(t),u1(e)}function yF(e){let t=e.parts_.pop();e.byteLength_-=xo(t),e.parts_.length>0&&(e.byteLength_-=1)}function u1(e){if(e.byteLength_>wD)throw new Error(e.errorPrefix_+"has a key path longer than "+wD+" bytes ("+e.byteLength_+").");if(e.parts_.length>bD)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+bD+") or object contains a cycle "+zi(e))}function zi(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}var Pg=class e extends _u{constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new e}getInitialEvent(t){return v(t==="visible","Unknown event type: "+t),[this.visible_]}};var $s=1e3,bF=60*5*1e3,CD=30*1e3,wF=1.3,CF=3e4,DF="server_kill",DD=3,xm=(()=>{class e extends mu{constructor(n,i,r,o,s,a,l,c){if(super(),this.repoInfo_=n,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=e.nextPersistentConnectionId_++,this.log_=da("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=$s,this.maxReconnectDelay_=bF,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!Ut())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Pg.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&vu.getInstance().on("online",this.onOnline_,this)}sendRequest(n,i,r){let o=++this.requestNumber_,s={r:o,a:n,b:i};this.log_(ye(s)),v(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[o]=r)}get(n){this.initConnection_();let i=new Me,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let l=a.d;a.s==="ok"?i.resolve(l):i.reject(l)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),i.promise}listen(n,i,r,o){this.initConnection_();let s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),v(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),v(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let l={onComplete:o,hashFn:i,query:n,tag:r};this.listens.get(a).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(n){let i=this.outstandingGets_[n];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(n){let i=n.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);let s={p:r},a="q";n.tag&&(s.q=i._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest(a,s,l=>{let c=l.d,u=l.s;e.warnOnListenWarnings_(c,i),(this.listens.get(r)&&this.listens.get(r).get(o))===n&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(r,o),n.onComplete&&n.onComplete(u,c))})}static warnOnListenWarnings_(n,i){if(n&&typeof n=="object"&&ft(n,"w")){let r=Mn(n,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){let o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',s=i._path.toString();je(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||b_(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=CD)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,i=y_(n)?"auth":"gauth",r={cred:n};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{let s=o.s,a=o.d||"error";this.authToken_===n&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let i=n.s,r=n.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(n,i){let r=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),v(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,n._queryObject,i)}sendUnlisten_(n,i,r,o){this.log_("Unlisten on "+n+" for "+i);let s={p:n},a="n";o&&(s.q=r,s.t=o),this.sendRequest(a,s)}onDisconnectPut(n,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,i,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:i,onComplete:r})}onDisconnectMerge(n,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,i,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:i,onComplete:r})}onDisconnectCancel(n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(n,i,r,o){let s={p:i,d:r};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,i,r,o){this.putInternal("p",n,i,r,o)}merge(n,i,r,o){this.putInternal("m",n,i,r,o)}putInternal(n,i,r,o,s){this.initConnection_();let a={p:i,d:r};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++;let l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+i)}sendPut_(n){let i=this.outstandingPuts_[n].action,r=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(i,r,s=>{this.log_(i+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){let i={c:n};this.log_("reportStats",i),this.sendRequest("s",i,r=>{if(r.s!=="ok"){let s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+ye(n));let i=n.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,i){this.log_("handleServerMessage",n,i),n==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):n==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):n==="c"?this.onListenRevoked_(i.p,i.q):n==="ac"?this.onAuthRevoked_(i.s,i.d):n==="apc"?this.onAppCheckRevoked_(i.s,i.d):n==="sd"?this.onSecurityDebugPacket_(i):Tg("Unrecognized action received from server: "+ye(n)+`
Are you using the latest client?`)}onReady_(n,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){v(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=$s,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=$s,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>CF&&(this.reconnectDelay_=$s),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=new Date().getTime()-this.lastConnectionAttemptTime_,i=Math.max(0,this.reconnectDelay_-n);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*wF)}this.onConnectStatus_(!1)}establishConnection_(){return Qe(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+e.nextConnectionId_++,s=this.lastSessionId,a=!1,l=null,c=function(){l?l.close():(a=!0,r())},u=function(h){v(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(h)};this.realtime_={close:c,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[h,f]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?Oe("getToken() completed but was canceled"):(Oe("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=f&&f.token,l=new xg(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,i,r,p=>{je(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(DF)},s))}catch(h){this.log_("Failed to get token: "+h),a||(this.repoInfo_.nodeAdmin&&je(h),c())}}})}interrupt(n){Oe("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Oe("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Da(this.interruptReasons_)&&(this.reconnectDelay_=$s,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let i=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let i=this.outstandingPuts_[n];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,i){let r;i?r=i.map(s=>Am(s)).join("$"):r="default";let o=this.removeListen_(n,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,i){let r=new J(n).toString(),o;if(this.listens.has(r)){let s=this.listens.get(r);o=s.get(i),s.delete(i),s.size===0&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(n,i){Oe("Auth token revoked: "+n+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=DD&&(this.reconnectDelay_=CD,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,i){Oe("App check token revoked: "+n+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=DD&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let i of n.values())this.sendListen_(i);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},i="js";Ut()&&(this.repoInfo_.nodeAdmin?i="admin_node":i="node"),n["sdk."+i+"."+Sm.replace(/\./g,"-")]=1,sd()?n["framework.cordova"]=1:m_()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=vu.getInstance().currentlyOnline();return Da(this.interruptReasons_)&&n}}e.nextPersistentConnectionId_=0,e.nextConnectionId_=0;return e})(),z=class e{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new e(t,n)}};var yo=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){let i=new z(ai,t),r=new z(ai,n);return this.compare(i,r)!==0}minPost(){return z.MIN}};var hu,yu=class extends yo{static get __EMPTY_NODE(){return hu}static set __EMPTY_NODE(t){hu=t}compare(t,n){return Yi(t.name,n.name)}isDefinedOn(t){throw er("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return z.MIN}maxPost(){return new z(Tn,hu)}makePost(t,n){return v(typeof t=="string","KeyIndex indexValue must always be a string."),new z(t,hu)}toString(){return".key"}},Xt=new yu;var _o=class{constructor(t,n,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!t.isEmpty();)if(t=t,s=n?i(t.key,n):1,r&&(s*=-1),s<0)this.isReverse_?t=t.left:t=t.right;else if(s===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}},jt=(()=>{class e{constructor(n,i,r,o,s){this.key=n,this.value=i,this.color=r??e.RED,this.left=o??Tt.EMPTY_NODE,this.right=s??Tt.EMPTY_NODE}copy(n,i,r,o,s){return new e(n??this.key,i??this.value,r??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,i,r){let o=this,s=r(n,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(n,i,r),null):s===0?o=o.copy(null,i,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Tt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,i){let r,o;if(r=this,i(n,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(n,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),i(n,r.key)===0){if(r.right.isEmpty())return Tt.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(n,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,i)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return e.RED=!0,e.BLACK=!1,e})(),Fg=class{copy(t,n,i,r,o){return this}insert(t,n,i){return new jt(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},Tt=class e{constructor(t,n=e.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,jt.BLACK,null,null))}remove(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,jt.BLACK,null,null))}get(t){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(t,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(t){let n,i=this.root_,r=null;for(;!i.isEmpty();)if(n=this.comparator_(t,i.key),n===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(r=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new _o(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new _o(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new _o(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new _o(this.root_,null,this.comparator_,!0,t)}};Tt.EMPTY_NODE=new Fg;function EF(e,t){return Yi(e.name,t.name)}function km(e,t){return Yi(e,t)}var Lg;function IF(e){Lg=e}var d1=function(e){return typeof e=="number"?"number:"+WD(e):"string:"+e},h1=function(e){if(e.isLeafNode()){let t=e.val();v(typeof t=="string"||typeof t=="number"||typeof t=="object"&&ft(t,".sv"),"Priority must be a string or number.")}else v(e===Lg||e.isEmpty(),"priority of unexpected type.");v(e===Lg||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var ED,bo=(()=>{class e{constructor(n,i=e.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=i,this.lazyHash_=null,v(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),h1(this.priorityNode_)}static set __childrenNodeConstructor(n){ED=n}static get __childrenNodeConstructor(){return ED}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new e(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return G(n)?this:H(n)===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,i){return null}updateImmediateChild(n,i){return n===".priority"?this.updatePriority(i):i.isEmpty()&&n!==".priority"?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,i).updatePriority(this.priorityNode_)}updateChild(n,i){let r=H(n);return r===null?i:i.isEmpty()&&r!==".priority"?this:(v(r!==".priority"||li(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(ae(n),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,i){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+d1(this.priorityNode_.val())+":");let i=typeof this.value_;n+=i+":",i==="number"?n+=WD(this.value_):n+=this.value_,this.lazyHash_=HD(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===e.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof e.__childrenNodeConstructor?-1:(v(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let i=typeof n.value_,r=typeof this.value_,o=e.VALUE_TYPE_ORDER.indexOf(i),s=e.VALUE_TYPE_ORDER.indexOf(r);return v(o>=0,"Unknown leaf type: "+i),v(s>=0,"Unknown leaf type: "+r),o===s?r==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let i=n;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}e.VALUE_TYPE_ORDER=["object","boolean","number","string"];return e})(),f1,p1;function TF(e){f1=e}function SF(e){p1=e}var Vg=class extends yo{compare(t,n){let i=t.node.getPriority(),r=n.node.getPriority(),o=i.compareTo(r);return o===0?Yi(t.name,n.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return z.MIN}maxPost(){return new z(Tn,new bo("[PRIORITY-POST]",p1))}makePost(t,n){let i=f1(t);return new z(n,new bo("[PRIORITY-POST]",i))}toString(){return".priority"}},ue=new Vg;var MF=Math.log(2),jg=class{constructor(t){let n=o=>parseInt(Math.log(o)/MF,10),i=o=>parseInt(Array(o+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;let r=i(this.count);this.bits_=t+1&r}nextBitIsOne(){let t=!(this.bits_&1<<this.current_);return this.current_--,t}},bu=function(e,t,n,i){e.sort(t);let r=function(l,c){let u=c-l,d,h;if(u===0)return null;if(u===1)return d=e[l],h=n?n(d):d,new jt(h,d.node,jt.BLACK,null,null);{let f=parseInt(u/2,10)+l,p=r(l,f),m=r(f+1,c);return d=e[f],h=n?n(d):d,new jt(h,d.node,jt.BLACK,p,m)}},o=function(l){let c=null,u=null,d=e.length,h=function(p,m){let b=d-p,T=d;d-=p;let j=r(b+1,T),E=e[b],ne=n?n(E):E;f(new jt(ne,E.node,m,null,j))},f=function(p){c?(c.left=p,c=p):(u=p,c=p)};for(let p=0;p<l.count;++p){let m=l.nextBitIsOne(),b=Math.pow(2,l.count-(p+1));m?h(b,jt.BLACK):(h(b,jt.BLACK),h(b,jt.RED))}return u},s=new jg(e.length),a=o(s);return new Tt(i||t,a)};var yg,go={},wo=class e{constructor(t,n){this.indexes_=t,this.indexSet_=n}static get Default(){return v(go&&ue,"ChildrenNode.ts has not been loaded"),yg=yg||new e({".priority":go},{".priority":ue}),yg}get(t){let n=Mn(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof Tt?n:null}hasIndex(t){return ft(this.indexSet_,t.toString())}addIndex(t,n){v(t!==Xt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let i=[],r=!1,o=n.getIterator(z.Wrap),s=o.getNext();for(;s;)r=r||t.isDefinedOn(s.node),i.push(s),s=o.getNext();let a;r?a=bu(i,t.getCompare()):a=go;let l=t.toString(),c=Object.assign({},this.indexSet_);c[l]=t;let u=Object.assign({},this.indexes_);return u[l]=a,new e(u,c)}addToIndexes(t,n){let i=Oo(this.indexes_,(r,o)=>{let s=Mn(this.indexSet_,o);if(v(s,"Missing index implementation for "+o),r===go)if(s.isDefinedOn(t.node)){let a=[],l=n.getIterator(z.Wrap),c=l.getNext();for(;c;)c.name!==t.name&&a.push(c),c=l.getNext();return a.push(t),bu(a,s.getCompare())}else return go;else{let a=n.get(t.name),l=r;return a&&(l=l.remove(new z(t.name,a))),l.insert(t,t.node)}});return new e(i,this.indexSet_)}removeFromIndexes(t,n){let i=Oo(this.indexes_,r=>{if(r===go)return r;{let o=n.get(t.name);return o?r.remove(new z(t.name,o)):r}});return new e(i,this.indexSet_)}};var Hs,x=(()=>{class e{constructor(n,i,r){this.children_=n,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&h1(this.priorityNode_),this.children_.isEmpty()&&v(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Hs||(Hs=new e(new Tt(km),null,wo.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Hs}updatePriority(n){return this.children_.isEmpty()?this:new e(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let i=this.children_.get(n);return i===null?Hs:i}}getChild(n){let i=H(n);return i===null?this:this.getImmediateChild(i).getChild(ae(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,i){if(v(i,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(i);{let r=new z(n,i),o,s;i.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(n,i),s=this.indexMap_.addToIndexes(r,this.children_));let a=o.isEmpty()?Hs:this.priorityNode_;return new e(o,a,s)}}updateChild(n,i){let r=H(n);if(r===null)return i;{v(H(n)!==".priority"||li(n)===1,".priority must be the last token in a path");let o=this.getImmediateChild(r).updateChild(ae(n),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let i={},r=0,o=0,s=!0;if(this.forEachChild(ue,(a,l)=>{i[a]=l.val(n),r++,s&&e.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*r){let a=[];for(let l in i)a[l]=i[l];return a}else return n&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+d1(this.getPriority().val())+":"),this.forEachChild(ue,(i,r)=>{let o=r.hash();o!==""&&(n+=":"+i+":"+o)}),this.lazyHash_=n===""?"":HD(n)}return this.lazyHash_}getPredecessorChildName(n,i,r){let o=this.resolveIndex_(r);if(o){let s=o.getPredecessorKey(new z(n,i));return s?s.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let i=this.resolveIndex_(n);if(i){let r=i.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(n){let i=this.getFirstChildName(n);return i?new z(i,this.children_.get(i)):null}getLastChildName(n){let i=this.resolveIndex_(n);if(i){let r=i.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(n){let i=this.getLastChildName(n);return i?new z(i,this.children_.get(i)):null}forEachChild(n,i){let r=this.resolveIndex_(n);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,i){let r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(n,o=>o);{let o=this.children_.getIteratorFrom(n.name,z.Wrap),s=o.peek();for(;s!=null&&i.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,i){let r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(n,o=>o);{let o=this.children_.getReverseIteratorFrom(n.name,z.Wrap),s=o.peek();for(;s!=null&&i.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===ha?-1:0}withIndex(n){if(n===Xt||this.indexMap_.hasIndex(n))return this;{let i=this.indexMap_.addIndex(n,this.children_);return new e(this.children_,this.priorityNode_,i)}}isIndexed(n){return n===Xt||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let i=n;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){let r=this.getIterator(ue),o=i.getIterator(ue),s=r.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=o.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===Xt?null:this.indexMap_.get(n.toString())}}return e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e})(),Bg=class extends x{constructor(){super(new Tt(km),x.EMPTY_NODE,wo.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return x.EMPTY_NODE}isEmpty(){return!1}},ha=new Bg;Object.defineProperties(z,{MIN:{value:new z(ai,x.EMPTY_NODE)},MAX:{value:new z(Tn,ha)}});yu.__EMPTY_NODE=x.EMPTY_NODE;bo.__childrenNodeConstructor=x;IF(ha);SF(ha);var AF=!0;function fe(e,t=null){if(e===null)return x.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),v(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){let n=e;return new bo(n,fe(t))}if(!(e instanceof Array)&&AF){let n=[],i=!1;if(xe(e,(s,a)=>{if(s.substring(0,1)!=="."){let l=fe(a);l.isEmpty()||(i=i||!l.getPriority().isEmpty(),n.push(new z(s,l)))}}),n.length===0)return x.EMPTY_NODE;let o=bu(n,EF,s=>s.name,km);if(i){let s=bu(n,ue.getCompare());return new x(o,fe(t),new wo({".priority":s},{".priority":ue}))}else return new x(o,fe(t),wo.Default)}else{let n=x.EMPTY_NODE;return xe(e,(i,r)=>{if(ft(e,i)&&i.substring(0,1)!=="."){let o=fe(r);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(i,o))}}),n.updatePriority(fe(t))}}TF(fe);var Js=class extends yo{constructor(t){super(),this.indexPath_=t,v(!G(t)&&H(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){let i=this.extractChild(t.node),r=this.extractChild(n.node),o=i.compareTo(r);return o===0?Yi(t.name,n.name):o}makePost(t,n){let i=fe(t),r=x.EMPTY_NODE.updateChild(this.indexPath_,i);return new z(n,r)}maxPost(){let t=x.EMPTY_NODE.updateChild(this.indexPath_,ha);return new z(Tn,t)}toString(){return Zs(this.indexPath_,0).join("/")}};var Ug=class extends yo{compare(t,n){let i=t.node.compareTo(n.node);return i===0?Yi(t.name,n.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return z.MIN}maxPost(){return z.MAX}makePost(t,n){let i=fe(t);return new z(n,i)}toString(){return".value"}},Pm=new Ug;function g1(e){return{type:"value",snapshotNode:e}}function Co(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Xs(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function ea(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function NF(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}var ta=class{constructor(t){this.index_=t}updateChild(t,n,i,r,o,s){v(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=t.getImmediateChild(n);return a.getChild(r).equals(i.getChild(r))&&a.isEmpty()===i.isEmpty()||(s!=null&&(i.isEmpty()?t.hasChild(n)?s.trackChildChange(Xs(n,a)):v(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(Co(n,i)):s.trackChildChange(ea(n,i,a))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(t,n,i){return i!=null&&(t.isLeafNode()||t.forEachChild(ue,(r,o)=>{n.hasChild(r)||i.trackChildChange(Xs(r,o))}),n.isLeafNode()||n.forEachChild(ue,(r,o)=>{if(t.hasChild(r)){let s=t.getImmediateChild(r);s.equals(o)||i.trackChildChange(ea(r,o,s))}else i.trackChildChange(Co(r,o))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?x.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var wu=class e{constructor(t){this.indexedFilter_=new ta(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,i=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&i}updateChild(t,n,i,r,o,s){return this.matches(new z(n,i))||(i=x.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,i,r,o,s)}updateFullNode(t,n,i){n.isLeafNode()&&(n=x.EMPTY_NODE);let r=n.withIndex(this.index_);r=r.updatePriority(x.EMPTY_NODE);let o=this;return n.forEachChild(ue,(s,a)=>{o.matches(new z(s,a))||(r=r.updateImmediateChild(s,x.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){let n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){let n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}};var $g=class{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{let i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new wu(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,i,r,o,s){return this.rangedFilter_.matches(new z(n,i))||(i=x.EMPTY_NODE),t.getImmediateChild(n).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,i,r,o,s):this.fullLimitUpdateChild_(t,n,i,o,s)}updateFullNode(t,n,i){let r;if(n.isLeafNode()||n.isEmpty())r=x.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){r=x.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){let a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))r=r.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{r=n.withIndex(this.index_),r=r.updatePriority(x.EMPTY_NODE);let o;this.reverse_?o=r.getReverseIterator(this.index_):o=r.getIterator(this.index_);let s=0;for(;o.hasNext();){let a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:r=r.updateImmediateChild(a.name,x.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,i,r,o){let s;if(this.reverse_){let d=this.index_.getCompare();s=(h,f)=>d(f,h)}else s=this.index_.getCompare();let a=t;v(a.numChildren()===this.limit_,"");let l=new z(n,i),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){let d=a.getImmediateChild(n),h=r.getChildAfterChild(this.index_,c,this.reverse_);for(;h!=null&&(h.name===n||a.hasChild(h.name));)h=r.getChildAfterChild(this.index_,h,this.reverse_);let f=h==null?1:s(h,l);if(u&&!i.isEmpty()&&f>=0)return o?.trackChildChange(ea(n,i,d)),a.updateImmediateChild(n,i);{o?.trackChildChange(Xs(n,d));let m=a.updateImmediateChild(n,x.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(o?.trackChildChange(Co(h.name,h.node)),m.updateImmediateChild(h.name,h.node)):m}}else return i.isEmpty()?t:u&&s(c,l)>=0?(o!=null&&(o.trackChildChange(Xs(c.name,c.node)),o.trackChildChange(Co(n,i))),a.updateImmediateChild(n,i).updateImmediateChild(c.name,x.EMPTY_NODE)):t}};var na=class e{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ue}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return v(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return v(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ai}hasEnd(){return this.endSet_}getIndexEndValue(){return v(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return v(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Tn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return v(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ue}copy(){let t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}};function RF(e){return e.loadsAllData()?new ta(e.getIndex()):e.hasLimit()?new $g(e):new wu(e)}function OF(e,t){let n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}function xF(e,t){let n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}function Hg(e,t,n){let i=e.copy();return i.startSet_=!0,t===void 0&&(t=null),i.indexStartValue_=t,n!=null?(i.startNameSet_=!0,i.indexStartName_=n):(i.startNameSet_=!1,i.indexStartName_=""),i}function kF(e,t,n){let i;return e.index_===Xt||n?i=Hg(e,t,n):i=Hg(e,t,Tn),i.startAfterSet_=!0,i}function Gg(e,t,n){let i=e.copy();return i.endSet_=!0,t===void 0&&(t=null),i.indexEndValue_=t,n!==void 0?(i.endNameSet_=!0,i.indexEndName_=n):(i.endNameSet_=!1,i.indexEndName_=""),i}function PF(e,t,n){let i;return e.index_===Xt||n?i=Gg(e,t,n):i=Gg(e,t,ai),i.endBeforeSet_=!0,i}function Bu(e,t){let n=e.copy();return n.index_=t,n}function ID(e){let t={};if(e.isDefault())return t;let n;if(e.index_===ue?n="$priority":e.index_===Pm?n="$value":e.index_===Xt?n="$key":(v(e.index_ instanceof Js,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=ye(n),e.startSet_){let i=e.startAfterSet_?"startAfter":"startAt";t[i]=ye(e.indexStartValue_),e.startNameSet_&&(t[i]+=","+ye(e.indexStartName_))}if(e.endSet_){let i=e.endBeforeSet_?"endBefore":"endAt";t[i]=ye(e.indexEndValue_),e.endNameSet_&&(t[i]+=","+ye(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function TD(e){let t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==ue&&(t.i=e.index_.toString()),t}var zg=class e extends mu{constructor(t,n,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=da("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(v(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,n,i,r){let o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);let s=e.getListenId_(t,i),a={};this.listens_[s]=a;let l=ID(t._queryParams);this.restRequest_(o+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(o,d,!1,i),Mn(this.listens_,s)===a){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",r(h,null)}})}unlisten(t,n){let i=e.getListenId_(t,n);delete this.listens_[i]}get(t){let n=ID(t._queryParams),i=t._path.toString(),r=new Me;return this.restRequest_(i+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(i,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(t){}restRequest_(t,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(n.auth=r.accessToken),o&&o.token&&(n.ac=o.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+w_(n);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Ca(a.responseText)}catch{je("Failed to parse JSON response for "+s+": "+a.responseText)}i(null,l)}else a.status!==401&&a.status!==404&&je("Got unsuccessful REST response for "+s+" Status: "+a.status),i(a.status);i=null}},a.open("GET",s,!0),a.send()})}};var Wg=class{constructor(){this.rootNode_=x.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}};function Cu(){return{value:null,children:new Map}}function Mo(e,t,n){if(G(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{let i=H(t);e.children.has(i)||e.children.set(i,Cu());let r=e.children.get(i);t=ae(t),Mo(r,t,n)}}function Kg(e,t){if(G(t))return e.value=null,e.children.clear(),!0;if(e.value!==null){if(e.value.isLeafNode())return!1;{let n=e.value;return e.value=null,n.forEachChild(ue,(i,r)=>{Mo(e,new J(i),r)}),Kg(e,t)}}else if(e.children.size>0){let n=H(t);return t=ae(t),e.children.has(n)&&Kg(e.children.get(n),t)&&e.children.delete(n),e.children.size===0}else return!0}function qg(e,t,n){e.value!==null?n(t,e.value):FF(e,(i,r)=>{let o=new J(t.toString()+"/"+i);qg(r,o,n)})}function FF(e,t){e.children.forEach((n,i)=>{t(i,n)})}var Yg=class{constructor(t){this.collection_=t,this.last_=null}get(){let t=this.collection_.get(),n=Object.assign({},t);return this.last_&&xe(this.last_,(i,r)=>{n[i]=n[i]-r}),this.last_=t,n}};var SD=10*1e3,LF=30*1e3,VF=5*60*1e3,Qg=class{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Yg(t);let i=SD+(LF-SD)*Math.random();zs(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){let t=this.statsListener_.get(),n={},i=!1;xe(t,(r,o)=>{o>0&&ft(this.statsToReport_,r)&&(n[r]=o,i=!0)}),i&&this.server_.reportStats(n),zs(this.reportStats_.bind(this),Math.floor(Math.random()*2*VF))}};var Jt=function(e){return e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",e}(Jt||{});function Fm(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Lm(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Vm(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}var Zg=class e{constructor(t,n,i){this.path=t,this.affectedTree=n,this.revert=i,this.type=Jt.ACK_USER_WRITE,this.source=Fm()}operationForChild(t){if(G(this.path)){if(this.affectedTree.value!=null)return v(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new J(t));return new e(Z(),n,this.revert)}}else return v(H(this.path)===t,"operationForChild called for unrelated child."),new e(ae(this.path),this.affectedTree,this.revert)}};var Du=class e{constructor(t,n){this.source=t,this.path=n,this.type=Jt.LISTEN_COMPLETE}operationForChild(t){return G(this.path)?new e(this.source,Z()):new e(this.source,ae(this.path))}};var Do=class e{constructor(t,n,i){this.source=t,this.path=n,this.snap=i,this.type=Jt.OVERWRITE}operationForChild(t){return G(this.path)?new e(this.source,Z(),this.snap.getImmediateChild(t)):new e(this.source,ae(this.path),this.snap)}};var ia=class e{constructor(t,n,i){this.source=t,this.path=n,this.children=i,this.type=Jt.MERGE}operationForChild(t){if(G(this.path)){let n=this.children.subtree(new J(t));return n.isEmpty()?null:n.value?new Do(this.source,Z(),n.value):new e(this.source,Z(),n)}else return v(H(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,ae(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var tn=class{constructor(t,n,i){this.node_=t,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(G(t))return this.isFullyInitialized()&&!this.filtered_;let n=H(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}};var Jg=class{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}};function jF(e,t,n,i){let r=[],o=[];return t.forEach(s=>{s.type==="child_changed"&&e.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(NF(s.childName,s.snapshotNode))}),Gs(e,r,"child_removed",t,i,n),Gs(e,r,"child_added",t,i,n),Gs(e,r,"child_moved",o,i,n),Gs(e,r,"child_changed",t,i,n),Gs(e,r,"value",t,i,n),r}function Gs(e,t,n,i,r,o){let s=i.filter(a=>a.type===n);s.sort((a,l)=>UF(e,a,l)),s.forEach(a=>{let l=BF(e,a,o);r.forEach(c=>{c.respondsTo(a.type)&&t.push(c.createEvent(l,e.query_))})})}function BF(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function UF(e,t,n){if(t.childName==null||n.childName==null)throw er("Should only compare child_ events.");let i=new z(t.childName,t.snapshotNode),r=new z(n.childName,n.snapshotNode);return e.index_.compare(i,r)}function Uu(e,t){return{eventCache:e,serverCache:t}}function Ks(e,t,n,i){return Uu(new tn(t,n,i),e.serverCache)}function m1(e,t,n,i){return Uu(e.eventCache,new tn(t,n,i))}function Eu(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function qi(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var bg,$F=()=>(bg||(bg=new Tt(BP)),bg),qe=class e{constructor(t,n=$F()){this.value=t,this.children=n}static fromObject(t){let n=new e(null);return xe(t,(i,r)=>{n=n.set(new J(i),r)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:Z(),value:this.value};if(G(t))return null;{let i=H(t),r=this.children.get(i);if(r!==null){let o=r.findRootMostMatchingPathAndValue(ae(t),n);return o!=null?{path:de(new J(i),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(G(t))return this;{let n=H(t),i=this.children.get(n);return i!==null?i.subtree(ae(t)):new e(null)}}set(t,n){if(G(t))return new e(n,this.children);{let i=H(t),o=(this.children.get(i)||new e(null)).set(ae(t),n),s=this.children.insert(i,o);return new e(this.value,s)}}remove(t){if(G(t))return this.children.isEmpty()?new e(null):new e(null,this.children);{let n=H(t),i=this.children.get(n);if(i){let r=i.remove(ae(t)),o;return r.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,r),this.value===null&&o.isEmpty()?new e(null):new e(this.value,o)}else return this}}get(t){if(G(t))return this.value;{let n=H(t),i=this.children.get(n);return i?i.get(ae(t)):null}}setTree(t,n){if(G(t))return n;{let i=H(t),o=(this.children.get(i)||new e(null)).setTree(ae(t),n),s;return o.isEmpty()?s=this.children.remove(i):s=this.children.insert(i,o),new e(this.value,s)}}fold(t){return this.fold_(Z(),t)}fold_(t,n){let i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(de(t,r),n)}),n(t,this.value,i)}findOnPath(t,n){return this.findOnPath_(t,Z(),n)}findOnPath_(t,n,i){let r=this.value?i(n,this.value):!1;if(r)return r;if(G(t))return null;{let o=H(t),s=this.children.get(o);return s?s.findOnPath_(ae(t),de(n,o),i):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,Z(),n)}foreachOnPath_(t,n,i){if(G(t))return this;{this.value&&i(n,this.value);let r=H(t),o=this.children.get(r);return o?o.foreachOnPath_(ae(t),de(n,r),i):new e(null)}}foreach(t){this.foreach_(Z(),t)}foreach_(t,n){this.children.inorderTraversal((i,r)=>{r.foreach_(de(t,i),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,i)=>{i.value&&t(n,i.value)})}};var Bt=class e{constructor(t){this.writeTree_=t}static empty(){return new e(new qe(null))}};function qs(e,t,n){if(G(t))return new Bt(new qe(n));{let i=e.writeTree_.findRootMostValueAndPath(t);if(i!=null){let r=i.path,o=i.value,s=Ke(r,t);return o=o.updateChild(s,n),new Bt(e.writeTree_.set(r,o))}else{let r=new qe(n),o=e.writeTree_.setTree(t,r);return new Bt(o)}}}function Xg(e,t,n){let i=e;return xe(n,(r,o)=>{i=qs(i,de(t,r),o)}),i}function MD(e,t){if(G(t))return Bt.empty();{let n=e.writeTree_.setTree(t,new qe(null));return new Bt(n)}}function em(e,t){return Qi(e,t)!=null}function Qi(e,t){let n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(Ke(n.path,t)):null}function AD(e){let t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ue,(i,r)=>{t.push(new z(i,r))}):e.writeTree_.children.inorderTraversal((i,r)=>{r.value!=null&&t.push(new z(i,r.value))}),t}function oi(e,t){if(G(t))return e;{let n=Qi(e,t);return n!=null?new Bt(new qe(n)):new Bt(e.writeTree_.subtree(t))}}function tm(e){return e.writeTree_.isEmpty()}function Eo(e,t){return _1(Z(),e.writeTree_,t)}function _1(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let i=null;return t.children.inorderTraversal((r,o)=>{r===".priority"?(v(o.value!==null,"Priority writes must always be leaf nodes"),i=o.value):n=_1(de(e,r),o,n)}),!n.getChild(e).isEmpty()&&i!==null&&(n=n.updateChild(de(e,".priority"),i)),n}}function $u(e,t){return w1(t,e)}function HF(e,t,n,i,r){v(i>e.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),e.allWrites.push({path:t,snap:n,writeId:i,visible:r}),r&&(e.visibleWrites=qs(e.visibleWrites,t,n)),e.lastWriteId=i}function GF(e,t,n,i){v(i>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:i,visible:!0}),e.visibleWrites=Xg(e.visibleWrites,t,n),e.lastWriteId=i}function zF(e,t){for(let n=0;n<e.allWrites.length;n++){let i=e.allWrites[n];if(i.writeId===t)return i}return null}function WF(e,t){let n=e.allWrites.findIndex(a=>a.writeId===t);v(n>=0,"removeWrite called with nonexistent writeId.");let i=e.allWrites[n];e.allWrites.splice(n,1);let r=i.visible,o=!1,s=e.allWrites.length-1;for(;r&&s>=0;){let a=e.allWrites[s];a.visible&&(s>=n&&KF(a,i.path)?r=!1:It(i.path,a.path)&&(o=!0)),s--}if(r){if(o)return qF(e),!0;if(i.snap)e.visibleWrites=MD(e.visibleWrites,i.path);else{let a=i.children;xe(a,l=>{e.visibleWrites=MD(e.visibleWrites,de(i.path,l))})}return!0}else return!1}function KF(e,t){if(e.snap)return It(e.path,t);for(let n in e.children)if(e.children.hasOwnProperty(n)&&It(de(e.path,n),t))return!0;return!1}function qF(e){e.visibleWrites=v1(e.allWrites,YF,Z()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function YF(e){return e.visible}function v1(e,t,n){let i=Bt.empty();for(let r=0;r<e.length;++r){let o=e[r];if(t(o)){let s=o.path,a;if(o.snap)It(n,s)?(a=Ke(n,s),i=qs(i,a,o.snap)):It(s,n)&&(a=Ke(s,n),i=qs(i,Z(),o.snap.getChild(a)));else if(o.children){if(It(n,s))a=Ke(n,s),i=Xg(i,a,o.children);else if(It(s,n))if(a=Ke(s,n),G(a))i=Xg(i,Z(),o.children);else{let l=Mn(o.children,H(a));if(l){let c=l.getChild(ae(a));i=qs(i,Z(),c)}}}else throw er("WriteRecord should have .snap or .children")}}return i}function y1(e,t,n,i,r){if(!i&&!r){let o=Qi(e.visibleWrites,t);if(o!=null)return o;{let s=oi(e.visibleWrites,t);if(tm(s))return n;if(n==null&&!em(s,Z()))return null;{let a=n||x.EMPTY_NODE;return Eo(s,a)}}}else{let o=oi(e.visibleWrites,t);if(!r&&tm(o))return n;if(!r&&n==null&&!em(o,Z()))return null;{let s=function(c){return(c.visible||r)&&(!i||!~i.indexOf(c.writeId))&&(It(c.path,t)||It(t,c.path))},a=v1(e.allWrites,s,t),l=n||x.EMPTY_NODE;return Eo(a,l)}}}function QF(e,t,n){let i=x.EMPTY_NODE,r=Qi(e.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(ue,(o,s)=>{i=i.updateImmediateChild(o,s)}),i;if(n){let o=oi(e.visibleWrites,t);return n.forEachChild(ue,(s,a)=>{let l=Eo(oi(o,new J(s)),a);i=i.updateImmediateChild(s,l)}),AD(o).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}else{let o=oi(e.visibleWrites,t);return AD(o).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}}function ZF(e,t,n,i,r){v(i||r,"Either existingEventSnap or existingServerSnap must exist");let o=de(t,n);if(em(e.visibleWrites,o))return null;{let s=oi(e.visibleWrites,o);return tm(s)?r.getChild(n):Eo(s,r.getChild(n))}}function JF(e,t,n,i){let r=de(t,n),o=Qi(e.visibleWrites,r);if(o!=null)return o;if(i.isCompleteForChild(n)){let s=oi(e.visibleWrites,r);return Eo(s,i.getNode().getImmediateChild(n))}else return null}function XF(e,t){return Qi(e.visibleWrites,t)}function eL(e,t,n,i,r,o,s){let a,l=oi(e.visibleWrites,t),c=Qi(l,Z());if(c!=null)a=c;else if(n!=null)a=Eo(l,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=s.getCompare(),h=o?a.getReverseIteratorFrom(i,s):a.getIteratorFrom(i,s),f=h.getNext();for(;f&&u.length<r;)d(f,i)!==0&&u.push(f),f=h.getNext();return u}else return[]}function tL(){return{visibleWrites:Bt.empty(),allWrites:[],lastWriteId:-1}}function Iu(e,t,n,i){return y1(e.writeTree,e.treePath,t,n,i)}function jm(e,t){return QF(e.writeTree,e.treePath,t)}function ND(e,t,n,i){return ZF(e.writeTree,e.treePath,t,n,i)}function Tu(e,t){return XF(e.writeTree,de(e.treePath,t))}function nL(e,t,n,i,r,o){return eL(e.writeTree,e.treePath,t,n,i,r,o)}function Bm(e,t,n){return JF(e.writeTree,e.treePath,t,n)}function b1(e,t){return w1(de(e.treePath,t),e.writeTree)}function w1(e,t){return{treePath:e,writeTree:t}}var nm=class{constructor(){this.changeMap=new Map}trackChildChange(t){let n=t.type,i=t.childName;v(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),v(i!==".priority","Only non-priority child changes can be tracked.");let r=this.changeMap.get(i);if(r){let o=r.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(i,ea(i,t.snapshotNode,r.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(i,Xs(i,r.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(i,Co(i,t.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(i,ea(i,t.snapshotNode,r.oldSnap));else throw er("Illegal combination of changes: "+t+" occurred after "+r)}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}};var im=class{getCompleteChild(t){return null}getChildAfterChild(t,n,i){return null}},C1=new im,ra=class{constructor(t,n,i=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(t){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{let i=this.optCompleteServerCache_!=null?new tn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Bm(this.writes_,t,i)}}getChildAfterChild(t,n,i){let r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:qi(this.viewCache_),o=nL(this.writes_,r,n,1,i,t);return o.length===0?null:o[0]}};function iL(e){return{filter:e}}function rL(e,t){v(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),v(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function oL(e,t,n,i,r){let o=new nm,s,a;if(n.type===Jt.OVERWRITE){let c=n;c.source.fromUser?s=rm(e,t,c.path,c.snap,i,r,o):(v(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.serverCache.isFiltered()&&!G(c.path),s=Su(e,t,c.path,c.snap,i,r,a,o))}else if(n.type===Jt.MERGE){let c=n;c.source.fromUser?s=aL(e,t,c.path,c.children,i,r,o):(v(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.serverCache.isFiltered(),s=om(e,t,c.path,c.children,i,r,a,o))}else if(n.type===Jt.ACK_USER_WRITE){let c=n;c.revert?s=uL(e,t,c.path,i,r,o):s=lL(e,t,c.path,c.affectedTree,i,r,o)}else if(n.type===Jt.LISTEN_COMPLETE)s=cL(e,t,n.path,i,o);else throw er("Unknown operation type: "+n.type);let l=o.getChanges();return sL(t,s,l),{viewCache:s,changes:l}}function sL(e,t,n){let i=t.eventCache;if(i.isFullyInitialized()){let r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=Eu(e);(n.length>0||!e.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&n.push(g1(Eu(t)))}}function D1(e,t,n,i,r,o){let s=t.eventCache;if(Tu(i,n)!=null)return t;{let a,l;if(G(n))if(v(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){let c=qi(t),u=c instanceof x?c:x.EMPTY_NODE,d=jm(i,u);a=e.filter.updateFullNode(t.eventCache.getNode(),d,o)}else{let c=Iu(i,qi(t));a=e.filter.updateFullNode(t.eventCache.getNode(),c,o)}else{let c=H(n);if(c===".priority"){v(li(n)===1,"Can't have a priority with additional path components");let u=s.getNode();l=t.serverCache.getNode();let d=ND(i,n,u,l);d!=null?a=e.filter.updatePriority(u,d):a=s.getNode()}else{let u=ae(n),d;if(s.isCompleteForChild(c)){l=t.serverCache.getNode();let h=ND(i,n,s.getNode(),l);h!=null?d=s.getNode().getImmediateChild(c).updateChild(u,h):d=s.getNode().getImmediateChild(c)}else d=Bm(i,c,t.serverCache);d!=null?a=e.filter.updateChild(s.getNode(),c,d,u,r,o):a=s.getNode()}}return Ks(t,a,s.isFullyInitialized()||G(n),e.filter.filtersNodes())}}function Su(e,t,n,i,r,o,s,a){let l=t.serverCache,c,u=s?e.filter:e.filter.getIndexedFilter();if(G(n))c=u.updateFullNode(l.getNode(),i,null);else if(u.filtersNodes()&&!l.isFiltered()){let f=l.getNode().updateChild(n,i);c=u.updateFullNode(l.getNode(),f,null)}else{let f=H(n);if(!l.isCompleteForPath(n)&&li(n)>1)return t;let p=ae(n),b=l.getNode().getImmediateChild(f).updateChild(p,i);f===".priority"?c=u.updatePriority(l.getNode(),b):c=u.updateChild(l.getNode(),f,b,p,C1,null)}let d=m1(t,c,l.isFullyInitialized()||G(n),u.filtersNodes()),h=new ra(r,d,o);return D1(e,d,n,r,h,a)}function rm(e,t,n,i,r,o,s){let a=t.eventCache,l,c,u=new ra(r,t,o);if(G(n))c=e.filter.updateFullNode(t.eventCache.getNode(),i,s),l=Ks(t,c,!0,e.filter.filtersNodes());else{let d=H(n);if(d===".priority")c=e.filter.updatePriority(t.eventCache.getNode(),i),l=Ks(t,c,a.isFullyInitialized(),a.isFiltered());else{let h=ae(n),f=a.getNode().getImmediateChild(d),p;if(G(h))p=i;else{let m=u.getCompleteChild(d);m!=null?Rm(h)===".priority"&&m.getChild(c1(h)).isEmpty()?p=m:p=m.updateChild(h,i):p=x.EMPTY_NODE}if(f.equals(p))l=t;else{let m=e.filter.updateChild(a.getNode(),d,p,h,u,s);l=Ks(t,m,a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function RD(e,t){return e.eventCache.isCompleteForChild(t)}function aL(e,t,n,i,r,o,s){let a=t;return i.foreach((l,c)=>{let u=de(n,l);RD(t,H(u))&&(a=rm(e,a,u,c,r,o,s))}),i.foreach((l,c)=>{let u=de(n,l);RD(t,H(u))||(a=rm(e,a,u,c,r,o,s))}),a}function OD(e,t,n){return n.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function om(e,t,n,i,r,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l=t,c;G(n)?c=i:c=new qe(null).setTree(n,i);let u=t.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){let f=t.serverCache.getNode().getImmediateChild(d),p=OD(e,f,h);l=Su(e,l,new J(d),p,r,o,s,a)}}),c.children.inorderTraversal((d,h)=>{let f=!t.serverCache.isCompleteForChild(d)&&h.value===null;if(!u.hasChild(d)&&!f){let p=t.serverCache.getNode().getImmediateChild(d),m=OD(e,p,h);l=Su(e,l,new J(d),m,r,o,s,a)}}),l}function lL(e,t,n,i,r,o,s){if(Tu(r,n)!=null)return t;let a=t.serverCache.isFiltered(),l=t.serverCache;if(i.value!=null){if(G(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Su(e,t,n,l.getNode().getChild(n),r,o,a,s);if(G(n)){let c=new qe(null);return l.getNode().forEachChild(Xt,(u,d)=>{c=c.set(new J(u),d)}),om(e,t,n,c,r,o,a,s)}else return t}else{let c=new qe(null);return i.foreach((u,d)=>{let h=de(n,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),om(e,t,n,c,r,o,a,s)}}function cL(e,t,n,i,r){let o=t.serverCache,s=m1(t,o.getNode(),o.isFullyInitialized()||G(n),o.isFiltered());return D1(e,s,n,i,C1,r)}function uL(e,t,n,i,r,o){let s;if(Tu(i,n)!=null)return t;{let a=new ra(i,t,r),l=t.eventCache.getNode(),c;if(G(n)||H(n)===".priority"){let u;if(t.serverCache.isFullyInitialized())u=Iu(i,qi(t));else{let d=t.serverCache.getNode();v(d instanceof x,"serverChildren would be complete if leaf node"),u=jm(i,d)}u=u,c=e.filter.updateFullNode(l,u,o)}else{let u=H(n),d=Bm(i,u,t.serverCache);d==null&&t.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=e.filter.updateChild(l,u,d,ae(n),a,o):t.eventCache.getNode().hasChild(u)?c=e.filter.updateChild(l,u,x.EMPTY_NODE,ae(n),a,o):c=l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=Iu(i,qi(t)),s.isLeafNode()&&(c=e.filter.updateFullNode(c,s,o)))}return s=t.serverCache.isFullyInitialized()||Tu(i,Z())!=null,Ks(t,c,s,e.filter.filtersNodes())}}var sm=class{constructor(t,n){this.query_=t,this.eventRegistrations_=[];let i=this.query_._queryParams,r=new ta(i.getIndex()),o=RF(i);this.processor_=iL(o);let s=n.serverCache,a=n.eventCache,l=r.updateFullNode(x.EMPTY_NODE,s.getNode(),null),c=o.updateFullNode(x.EMPTY_NODE,a.getNode(),null),u=new tn(l,s.isFullyInitialized(),r.filtersNodes()),d=new tn(c,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=Uu(d,u),this.eventGenerator_=new Jg(this.query_)}get query(){return this.query_}};function dL(e){return e.viewCache_.serverCache.getNode()}function hL(e){return Eu(e.viewCache_)}function fL(e,t){let n=qi(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!G(t)&&!n.getImmediateChild(H(t)).isEmpty())?n.getChild(t):null}function xD(e){return e.eventRegistrations_.length===0}function pL(e,t){e.eventRegistrations_.push(t)}function kD(e,t,n){let i=[];if(n){v(t==null,"A cancel should cancel all event registrations.");let r=e.query._path;e.eventRegistrations_.forEach(o=>{let s=o.createCancelEvent(n,r);s&&i.push(s)})}if(t){let r=[];for(let o=0;o<e.eventRegistrations_.length;++o){let s=e.eventRegistrations_[o];if(!s.matches(t))r.push(s);else if(t.hasAnyCallback()){r=r.concat(e.eventRegistrations_.slice(o+1));break}}e.eventRegistrations_=r}else e.eventRegistrations_=[];return i}function PD(e,t,n,i){t.type===Jt.MERGE&&t.source.queryId!==null&&(v(qi(e.viewCache_),"We should always have a full cache before handling merges"),v(Eu(e.viewCache_),"Missing event cache, even though we have a server cache"));let r=e.viewCache_,o=oL(e.processor_,r,t,n,i);return rL(e.processor_,o.viewCache),v(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,E1(e,o.changes,o.viewCache.eventCache.getNode(),null)}function gL(e,t){let n=e.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ue,(o,s)=>{i.push(Co(o,s))}),n.isFullyInitialized()&&i.push(g1(n.getNode())),E1(e,i,n.getNode(),t)}function E1(e,t,n,i){let r=i?[i]:e.eventRegistrations_;return jF(e.eventGenerator_,t,n,r)}var Mu,Au=class{constructor(){this.views=new Map}};function mL(e){v(!Mu,"__referenceConstructor has already been defined"),Mu=e}function _L(){return v(Mu,"Reference.ts has not been loaded"),Mu}function vL(e){return e.views.size===0}function Um(e,t,n,i){let r=t.source.queryId;if(r!==null){let o=e.views.get(r);return v(o!=null,"SyncTree gave us an op for an invalid query."),PD(o,t,n,i)}else{let o=[];for(let s of e.views.values())o=o.concat(PD(s,t,n,i));return o}}function I1(e,t,n,i,r){let o=t._queryIdentifier,s=e.views.get(o);if(!s){let a=Iu(n,r?i:null),l=!1;a?l=!0:i instanceof x?(a=jm(n,i),l=!1):(a=x.EMPTY_NODE,l=!1);let c=Uu(new tn(a,l,!1),new tn(i,r,!1));return new sm(t,c)}return s}function yL(e,t,n,i,r,o){let s=I1(e,t,i,r,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),pL(s,n),gL(s,n)}function bL(e,t,n,i){let r=t._queryIdentifier,o=[],s=[],a=ci(e);if(r==="default")for(let[l,c]of e.views.entries())s=s.concat(kD(c,n,i)),xD(c)&&(e.views.delete(l),c.query._queryParams.loadsAllData()||o.push(c.query));else{let l=e.views.get(r);l&&(s=s.concat(kD(l,n,i)),xD(l)&&(e.views.delete(r),l.query._queryParams.loadsAllData()||o.push(l.query)))}return a&&!ci(e)&&o.push(new(_L())(t._repo,t._path)),{removed:o,events:s}}function T1(e){let t=[];for(let n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function si(e,t){let n=null;for(let i of e.views.values())n=n||fL(i,t);return n}function S1(e,t){if(t._queryParams.loadsAllData())return Hu(e);{let i=t._queryIdentifier;return e.views.get(i)}}function M1(e,t){return S1(e,t)!=null}function ci(e){return Hu(e)!=null}function Hu(e){for(let t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}var Nu;function wL(e){v(!Nu,"__referenceConstructor has already been defined"),Nu=e}function CL(){return v(Nu,"Reference.ts has not been loaded"),Nu}var DL=1,Ru=class{constructor(t){this.listenProvider_=t,this.syncPointTree_=new qe(null),this.pendingWriteTree_=tL(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function $m(e,t,n,i,r){return HF(e.pendingWriteTree_,t,n,i,r),r?Ao(e,new Do(Fm(),t,n)):[]}function EL(e,t,n,i){GF(e.pendingWriteTree_,t,n,i);let r=qe.fromObject(n);return Ao(e,new ia(Fm(),t,r))}function ri(e,t,n=!1){let i=zF(e.pendingWriteTree_,t);if(WF(e.pendingWriteTree_,t)){let o=new qe(null);return i.snap!=null?o=o.set(Z(),!0):xe(i.children,s=>{o=o.set(new J(s),!0)}),Ao(e,new Zg(i.path,o,n))}else return[]}function fa(e,t,n){return Ao(e,new Do(Lm(),t,n))}function IL(e,t,n){let i=qe.fromObject(n);return Ao(e,new ia(Lm(),t,i))}function TL(e,t){return Ao(e,new Du(Lm(),t))}function SL(e,t,n){let i=Hm(e,n);if(i){let r=Gm(i),o=r.path,s=r.queryId,a=Ke(o,t),l=new Du(Vm(s),a);return zm(e,o,l)}else return[]}function Ou(e,t,n,i,r=!1){let o=t._path,s=e.syncPointTree_.get(o),a=[];if(s&&(t._queryIdentifier==="default"||M1(s,t))){let l=bL(s,t,n,i);vL(s)&&(e.syncPointTree_=e.syncPointTree_.remove(o));let c=l.removed;if(a=l.events,!r){let u=c.findIndex(h=>h._queryParams.loadsAllData())!==-1,d=e.syncPointTree_.findOnPath(o,(h,f)=>ci(f));if(u&&!d){let h=e.syncPointTree_.subtree(o);if(!h.isEmpty()){let f=NL(h);for(let p=0;p<f.length;++p){let m=f[p],b=m.query,T=O1(e,m);e.listenProvider_.startListening(Ys(b),oa(e,b),T.hashFn,T.onComplete)}}}!d&&c.length>0&&!i&&(u?e.listenProvider_.stopListening(Ys(t),null):c.forEach(h=>{let f=e.queryToTagMap.get(zu(h));e.listenProvider_.stopListening(Ys(h),f)}))}RL(e,c)}return a}function A1(e,t,n,i){let r=Hm(e,i);if(r!=null){let o=Gm(r),s=o.path,a=o.queryId,l=Ke(s,t),c=new Do(Vm(a),l,n);return zm(e,s,c)}else return[]}function ML(e,t,n,i){let r=Hm(e,i);if(r){let o=Gm(r),s=o.path,a=o.queryId,l=Ke(s,t),c=qe.fromObject(n),u=new ia(Vm(a),l,c);return zm(e,s,u)}else return[]}function am(e,t,n,i=!1){let r=t._path,o=null,s=!1;e.syncPointTree_.foreachOnPath(r,(h,f)=>{let p=Ke(h,r);o=o||si(f,p),s=s||ci(f)});let a=e.syncPointTree_.get(r);a?(s=s||ci(a),o=o||si(a,Z())):(a=new Au,e.syncPointTree_=e.syncPointTree_.set(r,a));let l;o!=null?l=!0:(l=!1,o=x.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild((f,p)=>{let m=si(p,Z());m&&(o=o.updateImmediateChild(f,m))}));let c=M1(a,t);if(!c&&!t._queryParams.loadsAllData()){let h=zu(t);v(!e.queryToTagMap.has(h),"View does not exist, but we have a tag");let f=OL();e.queryToTagMap.set(h,f),e.tagToQueryMap.set(f,h)}let u=$u(e.pendingWriteTree_,r),d=yL(a,t,n,u,o,l);if(!c&&!s&&!i){let h=S1(a,t);d=d.concat(xL(e,t,h))}return d}function Gu(e,t,n){let r=e.pendingWriteTree_,o=e.syncPointTree_.findOnPath(t,(s,a)=>{let l=Ke(s,t),c=si(a,l);if(c)return c});return y1(r,t,o,n,!0)}function AL(e,t){let n=t._path,i=null;e.syncPointTree_.foreachOnPath(n,(c,u)=>{let d=Ke(c,n);i=i||si(u,d)});let r=e.syncPointTree_.get(n);r?i=i||si(r,Z()):(r=new Au,e.syncPointTree_=e.syncPointTree_.set(n,r));let o=i!=null,s=o?new tn(i,!0,!1):null,a=$u(e.pendingWriteTree_,t._path),l=I1(r,t,a,o?s.getNode():x.EMPTY_NODE,o);return hL(l)}function Ao(e,t){return N1(t,e.syncPointTree_,null,$u(e.pendingWriteTree_,Z()))}function N1(e,t,n,i){if(G(e.path))return R1(e,t,n,i);{let r=t.get(Z());n==null&&r!=null&&(n=si(r,Z()));let o=[],s=H(e.path),a=e.operationForChild(s),l=t.children.get(s);if(l&&a){let c=n?n.getImmediateChild(s):null,u=b1(i,s);o=o.concat(N1(a,l,c,u))}return r&&(o=o.concat(Um(r,e,i,n))),o}}function R1(e,t,n,i){let r=t.get(Z());n==null&&r!=null&&(n=si(r,Z()));let o=[];return t.children.inorderTraversal((s,a)=>{let l=n?n.getImmediateChild(s):null,c=b1(i,s),u=e.operationForChild(s);u&&(o=o.concat(R1(u,a,l,c)))}),r&&(o=o.concat(Um(r,e,i,n))),o}function O1(e,t){let n=t.query,i=oa(e,n);return{hashFn:()=>(dL(t)||x.EMPTY_NODE).hash(),onComplete:r=>{if(r==="ok")return i?SL(e,n._path,i):TL(e,n._path);{let o=HP(r,n);return Ou(e,n,null,o)}}}}function oa(e,t){let n=zu(t);return e.queryToTagMap.get(n)}function zu(e){return e._path.toString()+"$"+e._queryIdentifier}function Hm(e,t){return e.tagToQueryMap.get(t)}function Gm(e){let t=e.indexOf("$");return v(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new J(e.substr(0,t))}}function zm(e,t,n){let i=e.syncPointTree_.get(t);v(i,"Missing sync point for query tag that we're tracking");let r=$u(e.pendingWriteTree_,t);return Um(i,n,r,null)}function NL(e){return e.fold((t,n,i)=>{if(n&&ci(n))return[Hu(n)];{let r=[];return n&&(r=T1(n)),xe(i,(o,s)=>{r=r.concat(s)}),r}})}function Ys(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(CL())(e._repo,e._path):e}function RL(e,t){for(let n=0;n<t.length;++n){let i=t[n];if(!i._queryParams.loadsAllData()){let r=zu(i),o=e.queryToTagMap.get(r);e.queryToTagMap.delete(r),e.tagToQueryMap.delete(o)}}}function OL(){return DL++}function xL(e,t,n){let i=t._path,r=oa(e,t),o=O1(e,n),s=e.listenProvider_.startListening(Ys(t),r,o.hashFn,o.onComplete),a=e.syncPointTree_.subtree(i);if(r)v(!ci(a.value),"If we're adding a query, it shouldn't be shadowed");else{let l=a.fold((c,u,d)=>{if(!G(c)&&u&&ci(u))return[Hu(u).query];{let h=[];return u&&(h=h.concat(T1(u).map(f=>f.query))),xe(d,(f,p)=>{h=h.concat(p)}),h}});for(let c=0;c<l.length;++c){let u=l[c];e.listenProvider_.stopListening(Ys(u),oa(e,u))}}return s}var lm=class e{constructor(t){this.node_=t}getImmediateChild(t){let n=this.node_.getImmediateChild(t);return new e(n)}node(){return this.node_}},cm=class e{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){let n=de(this.path_,t);return new e(this.syncTree_,n)}node(){return Gu(this.syncTree_,this.path_)}},kL=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},FD=function(e,t,n){if(!e||typeof e!="object")return e;if(v(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return PL(e[".sv"],t,n);if(typeof e[".sv"]=="object")return FL(e[".sv"],t);v(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},PL=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:v(!1,"Unexpected server value: "+e)}},FL=function(e,t,n){e.hasOwnProperty("increment")||v(!1,"Unexpected server value: "+JSON.stringify(e,null,2));let i=e.increment;typeof i!="number"&&v(!1,"Unexpected increment value: "+i);let r=t.node();if(v(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;let s=r.getValue();return typeof s!="number"?i:s+i},x1=function(e,t,n,i){return Km(t,new cm(n,e),i)},Wm=function(e,t,n){return Km(e,new lm(t),n)};function Km(e,t,n){let i=e.getPriority().val(),r=FD(i,t.getImmediateChild(".priority"),n),o;if(e.isLeafNode()){let s=e,a=FD(s.getValue(),t,n);return a!==s.getValue()||r!==s.getPriority().val()?new bo(a,fe(r)):e}else{let s=e;return o=s,r!==s.getPriority().val()&&(o=o.updatePriority(new bo(r))),s.forEachChild(ue,(a,l)=>{let c=Km(l,t.getImmediateChild(a),n);c!==l&&(o=o.updateImmediateChild(a,c))}),o}}var sa=class{constructor(t="",n=null,i={children:{},childCount:0}){this.name=t,this.parent=n,this.node=i}};function Wu(e,t){let n=t instanceof J?t:new J(t),i=e,r=H(n);for(;r!==null;){let o=Mn(i.node.children,r)||{children:{},childCount:0};i=new sa(r,i,o),n=ae(n),r=H(n)}return i}function Zi(e){return e.node.value}function qm(e,t){e.node.value=t,um(e)}function k1(e){return e.node.childCount>0}function LL(e){return Zi(e)===void 0&&!k1(e)}function Ku(e,t){xe(e.node.children,(n,i)=>{t(new sa(n,e,i))})}function P1(e,t,n,i){n&&!i&&t(e),Ku(e,r=>{P1(r,t,!0,i)}),n&&i&&t(e)}function VL(e,t,n){let i=n?e:e.parent;for(;i!==null;){if(t(i))return!0;i=i.parent}return!1}function pa(e){return new J(e.parent===null?e.name:pa(e.parent)+"/"+e.name)}function um(e){e.parent!==null&&jL(e.parent,e.name,e)}function jL(e,t,n){let i=LL(n),r=ft(e.node.children,t);i&&r?(delete e.node.children[t],e.node.childCount--,um(e)):!i&&!r&&(e.node.children[t]=n.node,e.node.childCount++,um(e))}var BL=/[\[\].#$\/\u0000-\u001F\u007F]/,UL=/[\[\].#$\u0000-\u001F\u007F]/,wg=10*1024*1024,qu=function(e){return typeof e=="string"&&e.length!==0&&!BL.test(e)},F1=function(e){return typeof e=="string"&&e.length!==0&&!UL.test(e)},$L=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),F1(e)},aa=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!ju(e)||e&&typeof e=="object"&&ft(e,".sv")},nn=function(e,t,n,i){i&&t===void 0||ga(Ze(e,"value"),t,n)},ga=function(e,t,n){let i=n instanceof J?new kg(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+zi(i));if(typeof t=="function")throw new Error(e+"contains a function "+zi(i)+" with contents = "+t.toString());if(ju(t))throw new Error(e+"contains "+t.toString()+" "+zi(i));if(typeof t=="string"&&t.length>wg/3&&xo(t)>wg)throw new Error(e+"contains a string greater than "+wg+" utf8 bytes "+zi(i)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let r=!1,o=!1;if(xe(t,(s,a)=>{if(s===".value")r=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!qu(s)))throw new Error(e+" contains an invalid key ("+s+") "+zi(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);vF(i,s),ga(e,a,i),yF(i)}),r&&o)throw new Error(e+' contains ".value" child '+zi(i)+" in addition to actual children.")}},HL=function(e,t){let n,i;for(n=0;n<t.length;n++){i=t[n];let o=Zs(i);for(let s=0;s<o.length;s++)if(!(o[s]===".priority"&&s===o.length-1)){if(!qu(o[s]))throw new Error(e+"contains an invalid key ("+o[s]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(_F);let r=null;for(n=0;n<t.length;n++){if(i=t[n],r!==null&&It(r,i))throw new Error(e+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}},L1=function(e,t,n,i){if(i&&t===void 0)return;let r=Ze(e,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");let o=[];xe(t,(s,a)=>{let l=new J(s);if(ga(r,a,de(n,l)),Rm(l)===".priority"&&!aa(a))throw new Error(r+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(l)}),HL(r,o)},Ym=function(e,t,n){if(!(n&&t===void 0)){if(ju(t))throw new Error(Ze(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!aa(t))throw new Error(Ze(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},ma=function(e,t,n,i){if(!(i&&n===void 0)&&!qu(n))throw new Error(Ze(e,t)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},No=function(e,t,n,i){if(!(i&&n===void 0)&&!F1(n))throw new Error(Ze(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},GL=function(e,t,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),No(e,t,n,i)},ct=function(e,t){if(H(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},V1=function(e,t){let n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!qu(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!$L(n))throw new Error(Ze(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var dm=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function Yu(e,t){let n=null;for(let i=0;i<t.length;i++){let r=t[i],o=r.getPath();n!==null&&!Om(o,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(r)}n&&e.eventLists_.push(n)}function j1(e,t,n){Yu(e,n),B1(e,i=>Om(i,t))}function ut(e,t,n){Yu(e,n),B1(e,i=>It(i,t)||It(t,i))}function B1(e,t){e.recursionDepth_++;let n=!0;for(let i=0;i<e.eventLists_.length;i++){let r=e.eventLists_[i];if(r){let o=r.path;t(o)?(zL(e.eventLists_[i]),e.eventLists_[i]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function zL(e){for(let t=0;t<e.events.length;t++){let n=e.events[t];if(n!==null){e.events[t]=null;let i=n.getEventRunner();Ki&&Oe("event: "+n.toString()),So(i)}}}var U1="repo_interrupt",WL=25,hm=class{constructor(t,n,i,r){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new dm,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Cu(),this.transactionQueueTree_=new sa,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function KL(e,t,n){if(e.stats_=Nm(e.repoInfo_),e.forceRestClient_||KP())e.server_=new zg(e.repoInfo_,(i,r,o,s)=>{LD(e,i,r,o,s)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>VD(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ye(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}e.persistentConnection_=new xm(e.repoInfo_,t,(i,r,o,s)=>{LD(e,i,r,o,s)},i=>{VD(e,i)},i=>{qL(e,i)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(i=>{e.server_.refreshAuthToken(i)}),e.appCheckProvider_.addTokenChangeListener(i=>{e.server_.refreshAppCheckToken(i.token)}),e.statsReporter_=YP(e.repoInfo_,()=>new Qg(e.stats_,e.server_)),e.infoData_=new Wg,e.infoSyncTree_=new Ru({startListening:(i,r,o,s)=>{let a=[],l=e.infoData_.getNode(i._path);return l.isEmpty()||(a=fa(e.infoSyncTree_,i._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),Qm(e,"connected",!1),e.serverSyncTree_=new Ru({startListening:(i,r,o,s)=>(e.server_.listen(i,o,r,(a,l)=>{let c=s(a,l);ut(e.eventQueue_,i._path,c)}),[]),stopListening:(i,r)=>{e.server_.unlisten(i,r)}})}function $1(e){let n=e.infoData_.getNode(new J(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function _a(e){return kL({timestamp:$1(e)})}function LD(e,t,n,i,r){e.dataUpdateCount++;let o=new J(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(r)if(i){let l=Oo(n,c=>fe(c));s=ML(e.serverSyncTree_,o,l,r)}else{let l=fe(n);s=A1(e.serverSyncTree_,o,l,r)}else if(i){let l=Oo(n,c=>fe(c));s=IL(e.serverSyncTree_,o,l)}else{let l=fe(n);s=fa(e.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=Io(e,o)),ut(e.eventQueue_,a,s)}function VD(e,t){Qm(e,"connected",t),t===!1&&ZL(e)}function qL(e,t){xe(t,(n,i)=>{Qm(e,n,i)})}function Qm(e,t,n){let i=new J("/.info/"+t),r=fe(n);e.infoData_.updateSnapshot(i,r);let o=fa(e.infoSyncTree_,i,r);ut(e.eventQueue_,i,o)}function Qu(e){return e.nextWriteId_++}function YL(e,t,n){let i=AL(e.serverSyncTree_,t);return i!=null?Promise.resolve(i):e.server_.get(t).then(r=>{let o=fe(r).withIndex(t._queryParams.getIndex());am(e.serverSyncTree_,t,n,!0);let s;if(t._queryParams.loadsAllData())s=fa(e.serverSyncTree_,t._path,o);else{let a=oa(e.serverSyncTree_,t);s=A1(e.serverSyncTree_,t._path,o,a)}return ut(e.eventQueue_,t._path,s),Ou(e.serverSyncTree_,t,n,null,!0),o},r=>(Ro(e,"get for query "+ye(t)+" failed: "+r),Promise.reject(new Error(r))))}function Zm(e,t,n,i,r){Ro(e,"set",{path:t.toString(),value:n,priority:i});let o=_a(e),s=fe(n,i),a=Gu(e.serverSyncTree_,t),l=Wm(s,a,o),c=Qu(e),u=$m(e.serverSyncTree_,t,l,c,!0);Yu(e.eventQueue_,u),e.server_.put(t.toString(),s.val(!0),(h,f)=>{let p=h==="ok";p||je("set at "+t+" failed: "+h);let m=ri(e.serverSyncTree_,c,!p);ut(e.eventQueue_,t,m),ui(e,r,h,f)});let d=Xm(e,t);Io(e,d),ut(e.eventQueue_,d,[])}function QL(e,t,n,i){Ro(e,"update",{path:t.toString(),value:n});let r=!0,o=_a(e),s={};if(xe(n,(a,l)=>{r=!1,s[a]=x1(de(t,a),fe(l),e.serverSyncTree_,o)}),r)Oe("update() called with empty data.  Don't do anything."),ui(e,i,"ok",void 0);else{let a=Qu(e),l=EL(e.serverSyncTree_,t,s,a);Yu(e.eventQueue_,l),e.server_.merge(t.toString(),n,(c,u)=>{let d=c==="ok";d||je("update at "+t+" failed: "+c);let h=ri(e.serverSyncTree_,a,!d),f=h.length>0?Io(e,t):t;ut(e.eventQueue_,f,h),ui(e,i,c,u)}),xe(n,c=>{let u=Xm(e,de(t,c));Io(e,u)}),ut(e.eventQueue_,t,[])}}function ZL(e){Ro(e,"onDisconnectEvents");let t=_a(e),n=Cu();qg(e.onDisconnect_,Z(),(r,o)=>{let s=x1(r,o,e.serverSyncTree_,t);Mo(n,r,s)});let i=[];qg(n,Z(),(r,o)=>{i=i.concat(fa(e.serverSyncTree_,r,o));let s=Xm(e,r);Io(e,s)}),e.onDisconnect_=Cu(),ut(e.eventQueue_,Z(),i)}function JL(e,t,n){e.server_.onDisconnectCancel(t.toString(),(i,r)=>{i==="ok"&&Kg(e.onDisconnect_,t),ui(e,n,i,r)})}function jD(e,t,n,i){let r=fe(n);e.server_.onDisconnectPut(t.toString(),r.val(!0),(o,s)=>{o==="ok"&&Mo(e.onDisconnect_,t,r),ui(e,i,o,s)})}function XL(e,t,n,i,r){let o=fe(n,i);e.server_.onDisconnectPut(t.toString(),o.val(!0),(s,a)=>{s==="ok"&&Mo(e.onDisconnect_,t,o),ui(e,r,s,a)})}function eV(e,t,n,i){if(Da(n)){Oe("onDisconnect().update() called with empty data.  Don't do anything."),ui(e,i,"ok",void 0);return}e.server_.onDisconnectMerge(t.toString(),n,(r,o)=>{r==="ok"&&xe(n,(s,a)=>{let l=fe(a);Mo(e.onDisconnect_,de(t,s),l)}),ui(e,i,r,o)})}function tV(e,t,n){let i;H(t._path)===".info"?i=am(e.infoSyncTree_,t,n):i=am(e.serverSyncTree_,t,n),j1(e.eventQueue_,t._path,i)}function fm(e,t,n){let i;H(t._path)===".info"?i=Ou(e.infoSyncTree_,t,n):i=Ou(e.serverSyncTree_,t,n),j1(e.eventQueue_,t._path,i)}function H1(e){e.persistentConnection_&&e.persistentConnection_.interrupt(U1)}function nV(e){e.persistentConnection_&&e.persistentConnection_.resume(U1)}function Ro(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),Oe(n,...t)}function ui(e,t,n,i){t&&So(()=>{if(n==="ok")t(null);else{let r=(n||"error").toUpperCase(),o=r;i&&(o+=": "+i);let s=new Error(o);s.code=r,t(s)}})}function iV(e,t,n,i,r,o){Ro(e,"transaction on "+t);let s={path:t,update:n,onComplete:i,status:null,order:$D(),applyLocally:o,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=Jm(e,t,void 0);s.currentInputSnapshot=a;let l=s.update(a.val());if(l===void 0)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{ga("transaction failed: Data returned ",l,s.path),s.status=0;let c=Wu(e.transactionQueueTree_,t),u=Zi(c)||[];u.push(s),qm(c,u);let d;typeof l=="object"&&l!==null&&ft(l,".priority")?(d=Mn(l,".priority"),v(aa(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):d=(Gu(e.serverSyncTree_,t)||x.EMPTY_NODE).getPriority().val();let h=_a(e),f=fe(l,d),p=Wm(f,a,h);s.currentOutputSnapshotRaw=f,s.currentOutputSnapshotResolved=p,s.currentWriteId=Qu(e);let m=$m(e.serverSyncTree_,t,p,s.currentWriteId,s.applyLocally);ut(e.eventQueue_,t,m),Zu(e,e.transactionQueueTree_)}}function Jm(e,t,n){return Gu(e.serverSyncTree_,t,n)||x.EMPTY_NODE}function Zu(e,t=e.transactionQueueTree_){if(t||Ju(e,t),Zi(t)){let n=z1(e,t);v(n.length>0,"Sending zero length transaction queue"),n.every(r=>r.status===0)&&rV(e,pa(t),n)}else k1(t)&&Ku(t,n=>{Zu(e,n)})}function rV(e,t,n){let i=n.map(c=>c.currentWriteId),r=Jm(e,t,i),o=r,s=r.hash();for(let c=0;c<n.length;c++){let u=n[c];v(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=Ke(t,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}let a=o.val(!0),l=t;e.server_.put(l.toString(),a,c=>{Ro(e,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){let d=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(ri(e.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();Ju(e,Wu(e.transactionQueueTree_,t)),Zu(e,e.transactionQueueTree_),ut(e.eventQueue_,t,u);for(let h=0;h<d.length;h++)So(d[h])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{je("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}Io(e,t)}},s)}function Io(e,t){let n=G1(e,t),i=pa(n),r=z1(e,n);return oV(e,r,i),i}function oV(e,t,n){if(t.length===0)return;let i=[],r=[],s=t.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<t.length;a++){let l=t[a],c=Ke(n,l.path),u=!1,d;if(v(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,r=r.concat(ri(e.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=WL)u=!0,d="maxretry",r=r.concat(ri(e.serverSyncTree_,l.currentWriteId,!0));else{let h=Jm(e,l.path,s);l.currentInputSnapshot=h;let f=t[a].update(h.val());if(f!==void 0){ga("transaction failed: Data returned ",f,l.path);let p=fe(f);typeof f=="object"&&f!=null&&ft(f,".priority")||(p=p.updatePriority(h.getPriority()));let b=l.currentWriteId,T=_a(e),j=Wm(p,h,T);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=j,l.currentWriteId=Qu(e),s.splice(s.indexOf(b),1),r=r.concat($m(e.serverSyncTree_,l.path,j,l.currentWriteId,l.applyLocally)),r=r.concat(ri(e.serverSyncTree_,b,!0))}else u=!0,d="nodata",r=r.concat(ri(e.serverSyncTree_,l.currentWriteId,!0))}ut(e.eventQueue_,n,r),r=[],u&&(t[a].status=2,function(h){setTimeout(h,Math.floor(0))}(t[a].unwatcher),t[a].onComplete&&(d==="nodata"?i.push(()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot)):i.push(()=>t[a].onComplete(new Error(d),!1,null))))}Ju(e,e.transactionQueueTree_);for(let a=0;a<i.length;a++)So(i[a]);Zu(e,e.transactionQueueTree_)}function G1(e,t){let n,i=e.transactionQueueTree_;for(n=H(t);n!==null&&Zi(i)===void 0;)i=Wu(i,n),t=ae(t),n=H(t);return i}function z1(e,t){let n=[];return W1(e,t,n),n.sort((i,r)=>i.order-r.order),n}function W1(e,t,n){let i=Zi(t);if(i)for(let r=0;r<i.length;r++)n.push(i[r]);Ku(t,r=>{W1(e,r,n)})}function Ju(e,t){let n=Zi(t);if(n){let i=0;for(let r=0;r<n.length;r++)n[r].status!==2&&(n[i]=n[r],i++);n.length=i,qm(t,n.length>0?n:void 0)}Ku(t,i=>{Ju(e,i)})}function Xm(e,t){let n=pa(G1(e,t)),i=Wu(e.transactionQueueTree_,t);return VL(i,r=>{Cg(e,r)}),Cg(e,i),P1(i,r=>{Cg(e,r)}),n}function Cg(e,t){let n=Zi(t);if(n){let i=[],r=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(v(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(v(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),r=r.concat(ri(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&i.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?qm(t,void 0):n.length=o+1,ut(e.eventQueue_,pa(t),r);for(let s=0;s<i.length;s++)So(i[s])}}function sV(e){let t="",n=e.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}function aV(e){let t={};e.charAt(0)==="?"&&(e=e.substring(1));for(let n of e.split("&")){if(n.length===0)continue;let i=n.split("=");i.length===2?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):je(`Invalid query segment '${n}' in query '${e}'`)}return t}var pm=function(e,t){let n=lV(e),i=n.namespace;n.domain==="firebase.com"&&en(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&en("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||VP();let r=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new pu(n.host,n.secure,i,r,t,"",i!==n.subdomain),path:new J(n.pathString)}},lV=function(e){let t="",n="",i="",r="",o="",s=!0,a="https",l=443;if(typeof e=="string"){let c=e.indexOf("//");c>=0&&(a=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");u===-1&&(u=e.length);let d=e.indexOf("?");d===-1&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(r=sV(e.substring(u,d)));let h=aV(e.substring(Math.min(e.length,d)));c=t.indexOf(":"),c>=0?(s=a==="https"||a==="wss",l=parseInt(t.substring(c+1),10)):c=t.length;let f=t.slice(0,c);if(f.toLowerCase()==="localhost")n="localhost";else if(f.split(".").length<=2)n=f;else{let p=t.indexOf(".");i=t.substring(0,p).toLowerCase(),n=t.substring(p+1),o=i}"ns"in h&&(o=h.ns)}return{host:t,port:l,domain:n,subdomain:i,secure:s,scheme:a,pathString:r,namespace:o}};var BD="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",cV=function(){let e=0,t=[];return function(n){let i=n===e;e=n;let r,o=new Array(8);for(r=7;r>=0;r--)o[r]=BD.charAt(n%64),n=Math.floor(n/64);v(n===0,"Cannot push at time == 0");let s=o.join("");if(i){for(r=11;r>=0&&t[r]===63;r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(Math.random()*64);for(r=0;r<12;r++)s+=BD.charAt(t[r]);return v(s.length===20,"nextPushId: Length should be 20."),s}}();var xu=class{constructor(t,n,i,r){this.eventType=t,this.eventRegistration=n,this.snapshot=i,this.prevName=r}getPath(){let t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ye(this.snapshot.exportVal())}},ku=class{constructor(t,n,i){this.eventRegistration=t,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var la=class{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return v(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}};var Pu=class{constructor(t,n){this._repo=t,this._path=n}cancel(){let t=new Me;return JL(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){ct("OnDisconnect.remove",this._path);let t=new Me;return jD(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){ct("OnDisconnect.set",this._path),nn("OnDisconnect.set",t,this._path,!1);let n=new Me;return jD(this._repo,this._path,t,n.wrapCallback(()=>{})),n.promise}setWithPriority(t,n){ct("OnDisconnect.setWithPriority",this._path),nn("OnDisconnect.setWithPriority",t,this._path,!1),Ym("OnDisconnect.setWithPriority",n,!1);let i=new Me;return XL(this._repo,this._path,t,n,i.wrapCallback(()=>{})),i.promise}update(t){ct("OnDisconnect.update",this._path),L1("OnDisconnect.update",t,this._path,!1);let n=new Me;return eV(this._repo,this._path,t,n.wrapCallback(()=>{})),n.promise}};var Ye=class e{constructor(t,n,i,r){this._repo=t,this._path=n,this._queryParams=i,this._orderByCalled=r}get key(){return G(this._path)?null:Rm(this._path)}get ref(){return new dt(this._repo,this._path)}get _queryIdentifier(){let t=TD(this._queryParams),n=Am(t);return n==="{}"?"default":n}get _queryObject(){return TD(this._queryParams)}isEqual(t){if(t=Be(t),!(t instanceof e))return!1;let n=this._repo===t._repo,i=Om(this._path,t._path),r=this._queryIdentifier===t._queryIdentifier;return n&&i&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+mF(this._path)}};function Xu(e,t){if(e._orderByCalled===!0)throw new Error(t+": You can't combine multiple orderBy calls.")}function hi(e){let t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Xt){let i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==ai)throw new Error(i);if(typeof t!="string")throw new Error(r)}if(e.hasEnd()){if(e.getIndexEndName()!==Tn)throw new Error(i);if(typeof n!="string")throw new Error(r)}}else if(e.getIndex()===ue){if(t!=null&&!aa(t)||n!=null&&!aa(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(v(e.getIndex()instanceof Js||e.getIndex()===Pm,"unknown index type."),t!=null&&typeof t=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function ed(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var dt=class e extends Ye{constructor(t,n){super(t,n,new na,!1)}get parent(){let t=c1(this._path);return t===null?null:new e(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}},To=class e{constructor(t,n,i){this._node=t,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){let n=new J(t),i=di(this.ref,t);return new e(this._node.getChild(n),i,ue)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,r)=>t(new e(r,di(this.ref,i),ue)))}hasChild(t){let n=new J(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function e_(e,t){return e=Be(e),e._checkNotDeleted("ref"),t!==void 0?di(e._root,t):e._root}function t_(e,t){e=Be(e),e._checkNotDeleted("refFromURL");let n=pm(t,e._repo.repoInfo_.nodeAdmin);V1("refFromURL",n);let i=n.repoInfo;return!e._repo.repoInfo_.isCustomHost()&&i.host!==e._repo.repoInfo_.host&&en("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+e._repo.repoInfo_.host+")"),e_(e,n.path.toString())}function di(e,t){return e=Be(e),H(e._path)===null?GL("child","path",t,!1):No("child","path",t,!1),new dt(e._repo,de(e._path,t))}function K1(e,t){e=Be(e),ct("push",e._path),nn("push",t,e._path,!0);let n=$1(e._repo),i=cV(n),r=di(e,i),o=di(e,i),s;return t!=null?s=td(o,t).then(()=>o):s=Promise.resolve(o),r.then=s.then.bind(s),r.catch=s.then.bind(s,void 0),r}function q1(e){return ct("remove",e._path),td(e,null)}function td(e,t){e=Be(e),ct("set",e._path),nn("set",t,e._path,!1);let n=new Me;return Zm(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function Y1(e,t){e=Be(e),ct("setPriority",e._path),Ym("setPriority",t,!1);let n=new Me;return Zm(e._repo,de(e._path,".priority"),t,null,n.wrapCallback(()=>{})),n.promise}function Q1(e,t,n){if(ct("setWithPriority",e._path),nn("setWithPriority",t,e._path,!1),Ym("setWithPriority",n,!1),e.key===".length"||e.key===".keys")throw"setWithPriority failed: "+e.key+" is a read-only object.";let i=new Me;return Zm(e._repo,e._path,t,n,i.wrapCallback(()=>{})),i.promise}function Z1(e,t){L1("update",t,e._path,!1);let n=new Me;return QL(e._repo,e._path,t,n.wrapCallback(()=>{})),n.promise}function J1(e){e=Be(e);let t=new la(()=>{}),n=new ca(t);return YL(e._repo,e,n).then(i=>new To(i,new dt(e._repo,e._path),e._queryParams.getIndex()))}var ca=class e{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){let i=n._queryParams.getIndex();return new xu("value",this,new To(t.snapshotNode,new dt(n._repo,n._path),i))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new ku(this,t,n):null}matches(t){return t instanceof e?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},Fu=class e{constructor(t,n){this.eventType=t,this.callbackContext=n}respondsTo(t){let n=t==="children_added"?"child_added":t;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new ku(this,t,n):null}createEvent(t,n){v(t.childName!=null,"Child events should have a childName.");let i=di(new dt(n._repo,n._path),t.childName),r=n._queryParams.getIndex();return new xu(t.type,this,new To(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof e?this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function va(e,t,n,i,r){let o;if(typeof i=="object"&&(o=void 0,r=i),typeof i=="function"&&(o=i),r&&r.onlyOnce){let l=n,c=(u,d)=>{fm(e._repo,e,a),l(u,d)};c.userCallback=n.userCallback,c.context=n.context,n=c}let s=new la(n,o||void 0),a=t==="value"?new ca(s):new Fu(t,s);return tV(e._repo,e,a),()=>fm(e._repo,e,a)}function nd(e,t,n,i){return va(e,"value",t,n,i)}function n_(e,t,n,i){return va(e,"child_added",t,n,i)}function i_(e,t,n,i){return va(e,"child_changed",t,n,i)}function r_(e,t,n,i){return va(e,"child_moved",t,n,i)}function o_(e,t,n,i){return va(e,"child_removed",t,n,i)}function s_(e,t,n){let i=null,r=n?new la(n):null;t==="value"?i=new ca(r):t&&(i=new Fu(t,r)),fm(e._repo,e,i)}var ht=class{},Lu=class extends ht{constructor(t,n){super(),this._value=t,this._key=n,this.type="endAt"}_apply(t){nn("endAt",this._value,t._path,!0);let n=Gg(t._queryParams,this._value,this._key);if(ed(n),hi(n),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ye(t._repo,t._path,n,t._orderByCalled)}};function X1(e,t){return ma("endAt","key",t,!0),new Lu(e,t)}var gm=class extends ht{constructor(t,n){super(),this._value=t,this._key=n,this.type="endBefore"}_apply(t){nn("endBefore",this._value,t._path,!1);let n=PF(t._queryParams,this._value,this._key);if(ed(n),hi(n),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ye(t._repo,t._path,n,t._orderByCalled)}};function eE(e,t){return ma("endBefore","key",t,!0),new gm(e,t)}var Vu=class extends ht{constructor(t,n){super(),this._value=t,this._key=n,this.type="startAt"}_apply(t){nn("startAt",this._value,t._path,!0);let n=Hg(t._queryParams,this._value,this._key);if(ed(n),hi(n),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ye(t._repo,t._path,n,t._orderByCalled)}};function tE(e=null,t){return ma("startAt","key",t,!0),new Vu(e,t)}var mm=class extends ht{constructor(t,n){super(),this._value=t,this._key=n,this.type="startAfter"}_apply(t){nn("startAfter",this._value,t._path,!1);let n=kF(t._queryParams,this._value,this._key);if(ed(n),hi(n),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Ye(t._repo,t._path,n,t._orderByCalled)}};function nE(e,t){return ma("startAfter","key",t,!0),new mm(e,t)}var _m=class extends ht{constructor(t){super(),this._limit=t,this.type="limitToFirst"}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ye(t._repo,t._path,OF(t._queryParams,this._limit),t._orderByCalled)}};function iE(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new _m(e)}var vm=class extends ht{constructor(t){super(),this._limit=t,this.type="limitToLast"}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ye(t._repo,t._path,xF(t._queryParams,this._limit),t._orderByCalled)}};function rE(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new vm(e)}var ym=class extends ht{constructor(t){super(),this._path=t,this.type="orderByChild"}_apply(t){Xu(t,"orderByChild");let n=new J(this._path);if(G(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");let i=new Js(n),r=Bu(t._queryParams,i);return hi(r),new Ye(t._repo,t._path,r,!0)}};function oE(e){if(e==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(e==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(e==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return No("orderByChild","path",e,!1),new ym(e)}var bm=class extends ht{constructor(){super(...arguments),this.type="orderByKey"}_apply(t){Xu(t,"orderByKey");let n=Bu(t._queryParams,Xt);return hi(n),new Ye(t._repo,t._path,n,!0)}};function sE(){return new bm}var wm=class extends ht{constructor(){super(...arguments),this.type="orderByPriority"}_apply(t){Xu(t,"orderByPriority");let n=Bu(t._queryParams,ue);return hi(n),new Ye(t._repo,t._path,n,!0)}};function aE(){return new wm}var Cm=class extends ht{constructor(){super(...arguments),this.type="orderByValue"}_apply(t){Xu(t,"orderByValue");let n=Bu(t._queryParams,Pm);return hi(n),new Ye(t._repo,t._path,n,!0)}};function lE(){return new Cm}var Dm=class extends ht{constructor(t,n){super(),this._value=t,this._key=n,this.type="equalTo"}_apply(t){if(nn("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Lu(this._value,this._key)._apply(new Vu(this._value,this._key)._apply(t))}};function cE(e,t){return ma("equalTo","key",t,!0),new Dm(e,t)}function St(e,...t){let n=Be(e);for(let i of t)n=i._apply(n);return n}mL(dt);wL(dt);var uV="FIREBASE_DATABASE_EMULATOR_HOST",Em={},dV=!1;function hV(e,t,n,i){e.repoInfo_=new pu(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),i&&(e.authTokenProvider_=i)}function a_(e,t,n,i,r){let o=i||e.options.databaseURL;o===void 0&&(e.options.projectId||en("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Oe("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let s=pm(o,r),a=s.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[uV]),c?(l=!0,o=`http://${c}?ns=${a.namespace}`,s=pm(o,r),a=s.repoInfo):l=!s.repoInfo.secure;let u=r&&l?new Ws(Ws.OWNER):new Mg(e.name,e.options,t);V1("Invalid Firebase Database URL",s),G(s.path)||en("Database URL must point to the root of a Firebase Database (not including a child path).");let d=pV(a,e,u,new Sg(e.name,n));return new Im(d,e)}function fV(e,t){let n=Em[t];(!n||n[e.key]!==e)&&en(`Database ${t}(${e.repoInfo_}) has already been deleted.`),H1(e),delete n[e.key]}function pV(e,t,n,i){let r=Em[t.name];r||(r={},Em[t.name]=r);let o=r[e.toURLString()];return o&&en("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new hm(e,dV,n,i),r[e.toURLString()]=o,o}var Im=class{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(KL(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new dt(this._repo,Z())),this._rootInternal}_delete(){return this._rootInternal!==null&&(fV(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&en("Cannot call "+t+" on a deleted database.")}};function uE(){l1.IS_TRANSPORT_INITIALIZED&&je("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function dE(){uE(),Qs.forceDisallow()}function hE(){uE(),mo.forceDisallow(),Qs.forceAllow()}function fE(e,t,n,i={}){e=Be(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&en("Cannot call useEmulator() after instance has already been initialized.");let r=e._repoInternal,o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&en('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Ws(Ws.OWNER);else if(i.mockUserToken){let s=typeof i.mockUserToken=="string"?i.mockUserToken:g_(i.mockUserToken,e.app.options.projectId);o=new Ws(s)}hV(r,t,n,o)}function pE(e){e=Be(e),e._checkNotDeleted("goOffline"),H1(e._repo)}function gE(e){e=Be(e),e._checkNotDeleted("goOnline"),nV(e._repo)}function mE(e,t){GD(e,t)}function gV(e){Mm(I_),ko(new on("database",(t,{instanceIdentifier:n})=>{let i=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return a_(i,r,o,n)},"PUBLIC").setMultipleInstances(!0)),An(cD,uD,e),An(cD,uD,"esm2017")}var mV={".sv":"timestamp"};function _E(){return mV}function vE(e){return{".sv":{increment:e}}}var Tm=class{constructor(t,n){this.committed=t,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}};function yE(e,t,n){var i;if(e=Be(e),ct("Reference.transaction",e._path),e.key===".length"||e.key===".keys")throw"Reference.transaction failed: "+e.key+" is a read-only object.";let r=(i=n?.applyLocally)!==null&&i!==void 0?i:!0,o=new Me,s=(l,c,u)=>{let d=null;l?o.reject(l):(d=new To(u,new dt(e._repo,e._path),ue),o.resolve(new Tm(c,d)))},a=nd(e,()=>{});return iV(e._repo,e._path,t,s,a,r),o.promise}xm.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};xm.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};gV();var _V="@firebase/database-compat",vV="1.0.8";var yV=new tr("@firebase/database-compat"),bE=function(e){let t="FIREBASE WARNING: "+e;yV.warn(t)};var bV=function(e,t,n,i){if(!(i&&n===void 0)&&typeof n!="boolean")throw new Error(Ze(e,t)+"must be a boolean.")},wV=function(e,t,n){if(!(n&&t===void 0))switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Ze(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}};var l_=class{constructor(t){this._delegate=t}cancel(t){A("OnDisconnect.cancel",0,1,arguments.length),De("OnDisconnect.cancel","onComplete",t,!0);let n=this._delegate.cancel();return t&&n.then(()=>t(null),i=>t(i)),n}remove(t){A("OnDisconnect.remove",0,1,arguments.length),De("OnDisconnect.remove","onComplete",t,!0);let n=this._delegate.remove();return t&&n.then(()=>t(null),i=>t(i)),n}set(t,n){A("OnDisconnect.set",1,2,arguments.length),De("OnDisconnect.set","onComplete",n,!0);let i=this._delegate.set(t);return n&&i.then(()=>n(null),r=>n(r)),i}setWithPriority(t,n,i){A("OnDisconnect.setWithPriority",2,3,arguments.length),De("OnDisconnect.setWithPriority","onComplete",i,!0);let r=this._delegate.setWithPriority(t,n);return i&&r.then(()=>i(null),o=>i(o)),r}update(t,n){if(A("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){let r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,bE("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}De("OnDisconnect.update","onComplete",n,!0);let i=this._delegate.update(t);return n&&i.then(()=>n(null),r=>n(r)),i}};var c_=class{constructor(t,n){this.committed=t,this.snapshot=n}toJSON(){return A("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}};var Ji=class e{constructor(t,n){this._database=t,this._delegate=n}val(){return A("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return A("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return A("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return A("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return A("DataSnapshot.child",0,1,arguments.length),t=String(t),No("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))}hasChild(t){return A("DataSnapshot.hasChild",1,1,arguments.length),No("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return A("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return A("DataSnapshot.forEach",1,1,arguments.length),De("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(n=>t(new e(this._database,n)))}hasChildren(){return A("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return A("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return A("DataSnapshot.ref",0,0,arguments.length),new Sn(this._database,this._delegate.ref)}get ref(){return this.getRef()}},id=class e{constructor(t,n){this.database=t,this._delegate=n}on(t,n,i,r){var o;A("Query.on",2,4,arguments.length),De("Query.on","callback",n,!1);let s=e.getCancelAndContextArgs_("Query.on",i,r),a=(c,u)=>{n.call(s.context,new Ji(this.database,c),u)};a.userCallback=n,a.context=s.context;let l=(o=s.cancel)===null||o===void 0?void 0:o.bind(s.context);switch(t){case"value":return nd(this._delegate,a,l),n;case"child_added":return n_(this._delegate,a,l),n;case"child_removed":return o_(this._delegate,a,l),n;case"child_changed":return i_(this._delegate,a,l),n;case"child_moved":return r_(this._delegate,a,l),n;default:throw new Error(Ze("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,n,i){if(A("Query.off",0,3,arguments.length),wV("Query.off",t,!0),De("Query.off","callback",n,!0),ad("Query.off","context",i,!0),n){let r=()=>{};r.userCallback=n,r.context=i,s_(this._delegate,t,r)}else s_(this._delegate,t)}get(){return J1(this._delegate).then(t=>new Ji(this.database,t))}once(t,n,i,r){A("Query.once",1,4,arguments.length),De("Query.once","callback",n,!0);let o=e.getCancelAndContextArgs_("Query.once",i,r),s=new Me,a=(c,u)=>{let d=new Ji(this.database,c);n&&n.call(o.context,d,u),s.resolve(d)};a.userCallback=n,a.context=o.context;let l=c=>{o.cancel&&o.cancel.call(o.context,c),s.reject(c)};switch(t){case"value":nd(this._delegate,a,l,{onlyOnce:!0});break;case"child_added":n_(this._delegate,a,l,{onlyOnce:!0});break;case"child_removed":o_(this._delegate,a,l,{onlyOnce:!0});break;case"child_changed":i_(this._delegate,a,l,{onlyOnce:!0});break;case"child_moved":r_(this._delegate,a,l,{onlyOnce:!0});break;default:throw new Error(Ze("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}limitToFirst(t){return A("Query.limitToFirst",1,1,arguments.length),new e(this.database,St(this._delegate,iE(t)))}limitToLast(t){return A("Query.limitToLast",1,1,arguments.length),new e(this.database,St(this._delegate,rE(t)))}orderByChild(t){return A("Query.orderByChild",1,1,arguments.length),new e(this.database,St(this._delegate,oE(t)))}orderByKey(){return A("Query.orderByKey",0,0,arguments.length),new e(this.database,St(this._delegate,sE()))}orderByPriority(){return A("Query.orderByPriority",0,0,arguments.length),new e(this.database,St(this._delegate,aE()))}orderByValue(){return A("Query.orderByValue",0,0,arguments.length),new e(this.database,St(this._delegate,lE()))}startAt(t=null,n){return A("Query.startAt",0,2,arguments.length),new e(this.database,St(this._delegate,tE(t,n)))}startAfter(t=null,n){return A("Query.startAfter",0,2,arguments.length),new e(this.database,St(this._delegate,nE(t,n)))}endAt(t=null,n){return A("Query.endAt",0,2,arguments.length),new e(this.database,St(this._delegate,X1(t,n)))}endBefore(t=null,n){return A("Query.endBefore",0,2,arguments.length),new e(this.database,St(this._delegate,eE(t,n)))}equalTo(t,n){return A("Query.equalTo",1,2,arguments.length),new e(this.database,St(this._delegate,cE(t,n)))}toString(){return A("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return A("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if(A("Query.isEqual",1,1,arguments.length),!(t instanceof e)){let n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,n,i){let r={cancel:void 0,context:void 0};if(n&&i)r.cancel=n,De(t,"cancel",r.cancel,!0),r.context=i,ad(t,"context",r.context,!0);else if(n)if(typeof n=="object"&&n!==null)r.context=n;else if(typeof n=="function")r.cancel=n;else throw new Error(Ze(t,"cancelOrContext")+" must either be a cancel callback or a context object.");return r}get ref(){return new Sn(this.database,new dt(this._delegate._repo,this._delegate._path))}},Sn=class e extends id{constructor(t,n){super(t,new Ye(n._repo,n._path,new na,!1)),this.database=t,this._delegate=n}getKey(){return A("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return A("Reference.child",1,1,arguments.length),typeof t=="number"&&(t=String(t)),new e(this.database,di(this._delegate,t))}getParent(){A("Reference.parent",0,0,arguments.length);let t=this._delegate.parent;return t?new e(this.database,t):null}getRoot(){return A("Reference.root",0,0,arguments.length),new e(this.database,this._delegate.root)}set(t,n){A("Reference.set",1,2,arguments.length),De("Reference.set","onComplete",n,!0);let i=td(this._delegate,t);return n&&i.then(()=>n(null),r=>n(r)),i}update(t,n){if(A("Reference.update",1,2,arguments.length),Array.isArray(t)){let r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,bE("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ct("Reference.update",this._delegate._path),De("Reference.update","onComplete",n,!0);let i=Z1(this._delegate,t);return n&&i.then(()=>n(null),r=>n(r)),i}setWithPriority(t,n,i){A("Reference.setWithPriority",2,3,arguments.length),De("Reference.setWithPriority","onComplete",i,!0);let r=Q1(this._delegate,t,n);return i&&r.then(()=>i(null),o=>i(o)),r}remove(t){A("Reference.remove",0,1,arguments.length),De("Reference.remove","onComplete",t,!0);let n=q1(this._delegate);return t&&n.then(()=>t(null),i=>t(i)),n}transaction(t,n,i){A("Reference.transaction",1,3,arguments.length),De("Reference.transaction","transactionUpdate",t,!1),De("Reference.transaction","onComplete",n,!0),bV("Reference.transaction","applyLocally",i,!0);let r=yE(this._delegate,t,{applyLocally:i}).then(o=>new c_(o.committed,new Ji(this.database,o.snapshot)));return n&&r.then(o=>n(null,o.committed,o.snapshot),o=>n(o,!1,null)),r}setPriority(t,n){A("Reference.setPriority",1,2,arguments.length),De("Reference.setPriority","onComplete",n,!0);let i=Y1(this._delegate,t);return n&&i.then(()=>n(null),r=>n(r)),i}push(t,n){A("Reference.push",0,2,arguments.length),De("Reference.push","onComplete",n,!0);let i=K1(this._delegate,t),r=i.then(s=>new e(this.database,s));n&&r.then(()=>n(null),s=>n(s));let o=new e(this.database,i);return o.then=r.then.bind(r),o.catch=r.catch.bind(r,void 0),o}onDisconnect(){return ct("Reference.onDisconnect",this._delegate._path),new l_(new Pu(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}};var Xi=class{constructor(t,n){this._delegate=t,this.app=n,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:dE,forceLongPolling:hE}}useEmulator(t,n,i={}){fE(this._delegate,t,n,i)}ref(t){if(A("database.ref",0,1,arguments.length),t instanceof Sn){let n=t_(this._delegate,t.toString());return new Sn(this,n)}else{let n=e_(this._delegate,t);return new Sn(this,n)}}refFromURL(t){A("database.refFromURL",1,1,arguments.length);let i=t_(this._delegate,t);return new Sn(this,i)}goOffline(){return A("database.goOffline",0,0,arguments.length),pE(this._delegate)}goOnline(){return A("database.goOnline",0,0,arguments.length),gE(this._delegate)}};Xi.ServerValue={TIMESTAMP:_E(),increment:e=>vE(e)};function CV({app:e,url:t,version:n,customAuthImpl:i,customAppCheckImpl:r,namespace:o,nodeAdmin:s=!1}){Mm(n);let a=new ld("database-standalone"),l=new Ea("auth-internal",a);l.setComponent(new on("auth-internal",()=>i,"PRIVATE"));let c;return r&&(c=new Ea("app-check-internal",a),c.setComponent(new on("app-check-internal",()=>r,"PRIVATE"))),{instance:new Xi(a_(e,l,c,t,s),e),namespace:o}}var DV=Object.freeze({__proto__:null,initStandalone:CV});var EV=Xi.ServerValue;function IV(e){e.INTERNAL.registerComponent(new on("database-compat",(t,{instanceIdentifier:n})=>{let i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:n});return new Xi(r,i)},"PUBLIC").setServiceProps({Reference:Sn,Query:id,Database:Xi,DataSnapshot:Ji,enableLogging:mE,INTERNAL:DV,ServerValue:EV}).setMultipleInstances(!0)),e.registerVersion(_V,vV)}IV(Ue);function ya(e,t,n="on",i=dr){return new N(r=>{let o=null;return o=e[n](t,(s,a)=>{i.schedule(()=>{r.next({snapshot:s,prevKey:a})}),n==="once"&&i.schedule(()=>r.complete())},s=>{i.schedule(()=>r.error(s))}),n==="on"?{unsubscribe(){o!=null&&e.off(t,o)}}:{unsubscribe(){}}}).pipe(S(r=>{let{snapshot:o,prevKey:s}=r,a=null;return o.exists()&&(a=o.key),{type:t,payload:o,prevKey:s,key:a}}),Bo())}function TV(e){return typeof e=="string"}function SV(e){return typeof e.exportVal=="function"}function IE(e){return e==null}function TE(e){return typeof e.set=="function"}function wE(e,t){return TE(t)?t:e.ref(t)}function SE(e,t){if(TV(e))return t.stringCase();if(TE(e))return t.firebaseCase();if(SV(e))return t.snapshotCase();throw new Error(`Expects a string, snapshot, or reference. Got: ${typeof e}`)}function ME(e){return(IE(e)||e.length===0)&&(e=["child_added","child_removed","child_changed","child_moved"]),e}function AE(e,t,n){t=ME(t);let i=t.map(r=>ya(e,r,"on",n));return _i(...i)}function MV(e,t,n){let i=AE(e,t).pipe(_r((r,o)=>[...r,o],[]));return NV(e,i,n)}function AV(e,t){return ya(e,"value","on",t).pipe(S(n=>{let i;return n.payload.forEach(r=>(i=r.key,!1)),{data:n,lastKeyToLoad:i}}))}function NV(e,t,n){return AV(e,n).pipe(vr(t),S(([r,o])=>{let s=r.lastKeyToLoad,a=o.map(l=>l.key);return{actions:o,lastKeyToLoad:s,loadedKeys:a}}),Fd(r=>r.loadedKeys.indexOf(r.lastKeyToLoad)===-1),S(r=>r.actions))}function CE(e,t){return function(i,r){return SE(i,{stringCase:()=>e.child(i)[t](r),firebaseCase:()=>i[t](r),snapshotCase:()=>i.ref[t](r)})}}function RV(e){return function(n){return n?SE(n,{stringCase:()=>e.child(n).remove(),firebaseCase:()=>n.remove(),snapshotCase:()=>n.ref.remove()}):e.remove()}}function OV(e,t,n){return ya(e,"value","once",n).pipe(ie(i=>{let r=[D(i)];return t.forEach(o=>r.push(ya(e,o,"on",n))),_i(...r).pipe(_r(kV,[]))}),el())}function NE(e,t){let n=e.length;for(let i=0;i<n;i++)if(e[i].payload.key===t)return i;return-1}function xV(e,t){if(IE(t))return 0;{let n=NE(e,t);return n===-1?e.length:n+1}}function kV(e,t){let{payload:n,prevKey:i,key:r}=t,o=NE(e,r),s=xV(e,i);switch(t.type){case"value":if(t.payload?.exists()){let a=null;t.payload.forEach(l=>{let c={payload:l,type:"value",prevKey:a,key:l.key};return a=l.key,e=[...e,c],!1})}return e;case"child_added":if(o>-1)(e[o-1]?.key||null)!==i&&(e=e.filter(l=>l.payload.key!==n.key),e.splice(s,0,t));else{if(i==null)return[t,...e];e=e.slice(),e.splice(s,0,t)}return e;case"child_removed":return e.filter(a=>a.payload.key!==n.key);case"child_changed":return e.map(a=>a.payload.key===r?t:a);case"child_moved":if(o>-1){let a=e.splice(o,1)[0];return e=e.slice(),e.splice(s,0,a),e}return e;default:return e}}function DE(e,t,n){return t=ME(t),OV(e,t,n)}function PV(e,t){let n=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>e.ref);return{query:e,update:CE(i,"update"),set:CE(i,"set"),push:r=>i.push(r),remove:RV(i),snapshotChanges(r){return DE(e,r,n).pipe(In)},stateChanges(r){return AE(e,r,n).pipe(In)},auditTrail(r){return MV(e,r,n).pipe(In)},valueChanges(r,o){return DE(e,r,n).pipe(S(a=>a.map(l=>o&&o.idField?U(y({},l.payload.val()),{[o.idField]:l.key}):l.payload.val())),In)}}}function EE(e,t){return function(){return ya(e,"value","on",t)}}function FV(e,t){return{query:e,snapshotChanges(){return EE(e,t.schedulers.outsideAngular)().pipe(In)},update(n){return e.ref.update(n)},set(n){return e.ref.set(n)},remove(){return e.ref.remove()},valueChanges(){return EE(e,t.schedulers.outsideAngular)().pipe(In,S(i=>i.payload.exists()?i.payload.val():null))}}}var LV=new w("angularfire2.realtimeDatabaseURL"),VV=new w("angularfire2.database.use-emulator"),jV=(()=>{class e{schedulers;database;constructor(n,i,r,o,s,a,l,c,u,d,h,f,p,m,b){this.schedulers=a;let T=l,j=Bs(n,s,i);c&&pg(j,s,u,h,f,p,d,m),this.database=du(`${j.name}.database.${r}`,"AngularFireDatabase",j.name,()=>{let E=s.runOutsideAngular(()=>j.database(r||void 0));return T&&E.useEmulator(...T),E},[T])}list(n,i){let r=this.schedulers.ngZone.runOutsideAngular(()=>wE(this.database,n)),o=r;return i&&(o=i(r)),PV(o,this)}object(n){let i=this.schedulers.ngZone.runOutsideAngular(()=>wE(this.database,n));return FV(i,this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}static \u0275fac=function(i){return new(i||e)(_(fo),_(po,8),_(LV,8),_(Fe),_(P),_(lu),_(VV,8),_(gg,8),_(lg,8),_(cg,8),_(ug,8),_(dg,8),_(hg,8),_(fg,8),_(Hi,8))};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"any"})}return e})(),RE=(()=>{class e{constructor(){Ue.registerVersion("angularfire",Gi.full,"rtdb-compat")}static \u0275fac=function(i){return new(i||e)};static \u0275mod=L({type:e});static \u0275inj=F({providers:[jV]})}return e})();var OE={production:!0,firebaseConfig:{apiKey:"AIzaSyAmlcOounhaBd9fMyFjs1oM2NJNaSpDuPs",authDomain:"frontenddolgozat2025-01-17.firebaseapp.com",projectId:"frontenddolgozat2025-01-17",storageBucket:"frontenddolgozat2025-01-17.firebasestorage.app",messagingSenderId:"55793260465",appId:"1:55793260465:web:3995cc2b624d8eb736cf90"}};var rd=class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=L({type:e,bootstrap:[su]});static \u0275inj=F({providers:[Xb()],imports:[lw,nu,zC,wC,aD.initializeApp(OE.firebaseConfig),RE,lD]})};aw().bootstrapModule(rd,{ngZoneEventCoalescing:!0}).catch(e=>console.error(e));
