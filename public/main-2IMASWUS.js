import{A as No,B as b_,C as w_,D as A,E as Qe,F as Ce,G as sd,H as D_,I as Ro,J as Be,K as tn,L as wa,M as ad,N as C_,O as er,P as Oo,Q as E_,R as I_,S as Sn,T as Ue,a as y,b as U,c as Ye,d as c_,e as _a,f as u_,g as d_,h as v,i as Xi,j as va,k as h_,l as f_,m as Se,n as p_,o as od,p as g_,q as Vt,r as m_,s as __,t as ya,u as ye,v as v_,w as y_,x as dt,y as Tn,z as ba}from"./chunk-GSGJEBQA.js";function T_(e,t){return Object.is(e,t)}var Ee=null,Da=!1,Ca=1,nn=Symbol("SIGNAL");function Y(e){let t=Ee;return Ee=e,t}function S_(){return Ee}var ko={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ud(e){if(Da)throw new Error("");if(Ee===null)return;Ee.consumerOnSignalRead(e);let t=Ee.nextProducerIndex++;if(Sa(Ee),t<Ee.producerNode.length&&Ee.producerNode[t]!==e&&xo(Ee)){let n=Ee.producerNode[t];Ta(n,Ee.producerIndexOfThis[t])}Ee.producerNode[t]!==e&&(Ee.producerNode[t]=e,Ee.producerIndexOfThis[t]=xo(Ee)?R_(e,Ee,t):0),Ee.producerLastReadVersion[t]=e.version}function x1(){Ca++}function M_(e){if(!(xo(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Ca)){if(!e.producerMustRecompute(e)&&!hd(e)){e.dirty=!1,e.lastCleanEpoch=Ca;return}e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=Ca}}function A_(e){if(e.liveConsumerNode===void 0)return;let t=Da;Da=!0;try{for(let n of e.liveConsumerNode)n.dirty||k1(n)}finally{Da=t}}function N_(){return Ee?.consumerAllowSignalWrites!==!1}function k1(e){e.dirty=!0,A_(e),e.consumerMarkedDirty?.(e)}function Ia(e){return e&&(e.nextProducerIndex=0),Y(e)}function dd(e,t){if(Y(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(xo(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)Ta(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function hd(e){Sa(e);for(let t=0;t<e.producerNode.length;t++){let n=e.producerNode[t],i=e.producerLastReadVersion[t];if(i!==n.version||(M_(n),i!==n.version))return!0}return!1}function fd(e){if(Sa(e),xo(e))for(let t=0;t<e.producerNode.length;t++)Ta(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function R_(e,t,n){if(O_(e),e.liveConsumerNode.length===0&&x_(e))for(let i=0;i<e.producerNode.length;i++)e.producerIndexOfThis[i]=R_(e.producerNode[i],e,i);return e.liveConsumerIndexOfThis.push(n),e.liveConsumerNode.push(t)-1}function Ta(e,t){if(O_(e),e.liveConsumerNode.length===1&&x_(e))for(let i=0;i<e.producerNode.length;i++)Ta(e.producerNode[i],e.producerIndexOfThis[i]);let n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let i=e.liveConsumerIndexOfThis[t],r=e.liveConsumerNode[t];Sa(r),r.producerIndexOfThis[i]=t}}function xo(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Sa(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function O_(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function x_(e){return e.producerNode!==void 0}function k_(e){let t=Object.create(P1);t.computation=e;let n=()=>{if(M_(t),ud(t),t.value===Ea)throw t.error;return t.value};return n[nn]=t,n}var ld=Symbol("UNSET"),cd=Symbol("COMPUTING"),Ea=Symbol("ERRORED"),P1=U(y({},ko),{value:ld,dirty:!0,error:null,equal:T_,producerMustRecompute(e){return e.value===ld||e.value===cd},producerRecomputeValue(e){if(e.value===cd)throw new Error("Detected cycle in computations.");let t=e.value;e.value=cd;let n=Ia(e),i;try{i=e.computation()}catch(r){i=Ea,e.error=r}finally{dd(e,n)}if(t!==ld&&t!==Ea&&i!==Ea&&e.equal(t,i)){e.value=t;return}e.value=i,e.version++}});function F1(){throw new Error}var P_=F1;function F_(){P_()}function L_(e){P_=e}var L1=null;function V_(e){let t=Object.create(B_);t.value=e;let n=()=>(ud(t),t.value);return n[nn]=t,n}function pd(e,t){N_()||F_(),e.equal(e.value,t)||(e.value=t,V1(e))}function j_(e,t){N_()||F_(),pd(e,t(e.value))}var B_=U(y({},ko),{equal:T_,value:void 0});function V1(e){e.version++,x1(),A_(e),L1?.()}function M(e){return typeof e=="function"}function tr(e){let n=e(i=>{Error.call(i),i.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ma=tr(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function di(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var ge=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:i}=this;if(M(i))try{i()}catch(o){t=o instanceof Ma?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{U_(o)}catch(s){t=t??[],s instanceof Ma?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Ma(t)}}add(t){var n;if(t&&t!==this)if(this.closed)U_(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&di(n,t)}remove(t){let{_finalizers:n}=this;n&&di(n,t),t instanceof e&&t._removeParent(this)}};ge.EMPTY=(()=>{let e=new ge;return e.closed=!0,e})();var gd=ge.EMPTY;function Aa(e){return e instanceof ge||e&&"closed"in e&&M(e.remove)&&M(e.add)&&M(e.unsubscribe)}function U_(e){M(e)?e():e.unsubscribe()}var Tt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var nr={setTimeout(e,t,...n){let{delegate:i}=nr;return i?.setTimeout?i.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=nr;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Na(e){nr.setTimeout(()=>{let{onUnhandledError:t}=Tt;if(t)t(e);else throw e})}function hi(){}var $_=md("C",void 0,void 0);function H_(e){return md("E",void 0,e)}function G_(e){return md("N",e,void 0)}function md(e,t,n){return{kind:e,value:t,error:n}}var fi=null;function ir(e){if(Tt.useDeprecatedSynchronousErrorHandling){let t=!fi;if(t&&(fi={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:i}=fi;if(fi=null,n)throw i}}else e()}function z_(e){Tt.useDeprecatedSynchronousErrorHandling&&fi&&(fi.errorThrown=!0,fi.error=e)}var pi=class extends ge{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Aa(t)&&t.add(this)):this.destination=U1}static create(t,n,i){return new rn(t,n,i)}next(t){this.isStopped?vd(G_(t),this):this._next(t)}error(t){this.isStopped?vd(H_(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?vd($_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},j1=Function.prototype.bind;function _d(e,t){return j1.call(e,t)}var yd=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(i){Ra(i)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(i){Ra(i)}else Ra(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Ra(n)}}},rn=class extends pi{constructor(t,n,i){super();let r;if(M(t)||!t)r={next:t??void 0,error:n??void 0,complete:i??void 0};else{let o;this&&Tt.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&_d(t.next,o),error:t.error&&_d(t.error,o),complete:t.complete&&_d(t.complete,o)}):r=t}this.destination=new yd(r)}};function Ra(e){Tt.useDeprecatedSynchronousErrorHandling?z_(e):Na(e)}function B1(e){throw e}function vd(e,t){let{onStoppedNotification:n}=Tt;n&&nr.setTimeout(()=>n(e,t))}var U1={closed:!0,next:hi,error:B1,complete:hi};var rr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function xe(e){return e}function bd(...e){return wd(e)}function wd(e){return e.length===0?xe:e.length===1?e[0]:function(n){return e.reduce((i,r)=>r(i),n)}}var N=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let i=new e;return i.source=this,i.operator=n,i}subscribe(n,i,r){let o=H1(n)?n:new rn(n,i,r);return ir(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return i=W_(i),new i((r,o)=>{let s=new rn({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(n){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(n)}[rr](){return this}pipe(...n){return wd(n)(this)}toPromise(n){return n=W_(n),new n((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return e.create=t=>new e(t),e})();function W_(e){var t;return(t=e??Tt.Promise)!==null&&t!==void 0?t:Promise}function $1(e){return e&&M(e.next)&&M(e.error)&&M(e.complete)}function H1(e){return e&&e instanceof pi||$1(e)&&Aa(e)}function Dd(e){return M(e?.lift)}function k(e){return t=>{if(Dd(t))return t.lift(function(n){try{return e(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function R(e,t,n,i,r){return new Cd(e,t,n,i,r)}var Cd=class extends pi{constructor(t,n,i,r,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){t.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function or(){return k((e,t)=>{let n=null;e._refCount++;let i=R(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let r=e._connection,o=n;n=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});e.subscribe(i),i.closed||(n=e.connect())})}var sr=class extends N{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Dd(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new ge;let n=this.getSubject();t.add(this.source.subscribe(R(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=ge.EMPTY)}return t}refCount(){return or()(this)}};var K_=tr(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var K=(()=>{class e extends N{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let i=new Oa(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new K_}next(n){ir(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(n)}})}error(n){ir(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){ir(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:i,isStopped:r,observers:o}=this;return i||r?gd:(this.currentObservers=null,o.push(n),new ge(()=>{this.currentObservers=null,di(o,n)}))}_checkFinalizedStatuses(n){let{hasError:i,thrownError:r,isStopped:o}=this;i?n.error(r):o&&n.complete()}asObservable(){let n=new N;return n.source=this,n}}return e.create=(t,n)=>new Oa(t,n),e})(),Oa=class extends K{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,t)}error(t){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&i!==void 0?i:gd}};var be=class extends K{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:i}=this;if(t)throw n;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}};var Po={now(){return(Po.delegate||Date).now()},delegate:void 0};var xa=class extends K{constructor(t=1/0,n=1/0,i=Po){super(),this._bufferSize=t,this._windowTime=n,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,n)}next(t){let{isStopped:n,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;n||(i.push(t),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!t.closed;s+=i?1:2)t.next(o[s]);return this._checkFinalizedStatuses(t),n}_trimBuffer(){let{_bufferSize:t,_timestampProvider:n,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<i.length&&i.splice(0,i.length-o),!r){let s=n.now(),a=0;for(let l=1;l<i.length&&i[l]<=s;l+=2)a=l;a&&i.splice(0,a+1)}}};var ka=class extends ge{constructor(t,n){super()}schedule(t,n=0){return this}};var Fo={setInterval(e,t,...n){let{delegate:i}=Fo;return i?.setInterval?i.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){let{delegate:t}=Fo;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};var ar=class extends ka{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var i;if(this.closed)return this;this.state=t;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,n),this}requestAsyncId(t,n,i=0){return Fo.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,n,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&Fo.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(t,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let i=!1,r;try{this.work(t)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:t,scheduler:n}=this,{actions:i}=n;this.work=this.state=this.scheduler=null,this.pending=!1,di(i,this),t!=null&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}};var lr=class e{constructor(t,n=e.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,i){return new this.schedulerActionCtor(this,t).schedule(i,n)}};lr.now=Po.now;var cr=class extends lr{constructor(t,n=lr.now){super(t,n),this.actions=[],this._active=!1}flush(t){let{actions:n}=this;if(this._active){n.push(t);return}let i;this._active=!0;do if(i=t.execute(t.state,t.delay))break;while(t=n.shift());if(this._active=!1,i){for(;t=n.shift();)t.unsubscribe();throw i}}};var ur=new cr(ar),Ed=ur;var Pa=class extends ar{constructor(t,n){super(t,n),this.scheduler=t,this.work=n}schedule(t,n=0){return n>0?super.schedule(t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)}execute(t,n){return n>0||this.closed?super.execute(t,n):this._execute(t,n)}requestAsyncId(t,n,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(t,n,i):(t.flush(this),0)}};var Fa=class extends cr{};var Id=new Fa(Pa);var Ie=new N(e=>e.complete());function La(e){return e&&M(e.schedule)}function Td(e){return e[e.length-1]}function Mn(e){return M(Td(e))?e.pop():void 0}function jt(e){return La(Td(e))?e.pop():void 0}function q_(e,t){return typeof Td(e)=="number"?e.pop():t}var dr=e=>e&&typeof e.length=="number"&&typeof e!="function";function Va(e){return M(e?.then)}function ja(e){return M(e[rr])}function Ba(e){return Symbol.asyncIterator&&M(e?.[Symbol.asyncIterator])}function Ua(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function G1(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var $a=G1();function Ha(e){return M(e?.[$a])}function Ga(e){return u_(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:i,done:r}=yield _a(n.read());if(r)return yield _a(void 0);yield yield _a(i)}}finally{n.releaseLock()}})}function za(e){return M(e?.getReader)}function q(e){if(e instanceof N)return e;if(e!=null){if(ja(e))return z1(e);if(dr(e))return W1(e);if(Va(e))return K1(e);if(Ba(e))return Y_(e);if(Ha(e))return q1(e);if(za(e))return Y1(e)}throw Ua(e)}function z1(e){return new N(t=>{let n=e[rr]();if(M(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function W1(e){return new N(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function K1(e){return new N(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Na)})}function q1(e){return new N(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function Y_(e){return new N(t=>{Q1(e,t).catch(n=>t.error(n))})}function Y1(e){return Y_(Ga(e))}function Q1(e,t){var n,i,r,o;return c_(this,void 0,void 0,function*(){try{for(n=d_(e);i=yield n.next(),!i.done;){let s=i.value;if(t.next(s),t.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=n.return)&&(yield o.call(n))}finally{if(r)throw r.error}}t.complete()})}function Ze(e,t,n,i=0,r=!1){let o=t.schedule(function(){n(),r?e.add(this.schedule(null,i)):this.unsubscribe()},i);if(e.add(o),!r)return o}function ht(e,t=0){return k((n,i)=>{n.subscribe(R(i,r=>Ze(i,e,()=>i.next(r),t),()=>Ze(i,e,()=>i.complete(),t),r=>Ze(i,e,()=>i.error(r),t)))})}function St(e,t=0){return k((n,i)=>{i.add(e.schedule(()=>n.subscribe(i),t))})}function Q_(e,t){return q(e).pipe(St(t),ht(t))}function Z_(e,t){return q(e).pipe(St(t),ht(t))}function J_(e,t){return new N(n=>{let i=0;return t.schedule(function(){i===e.length?n.complete():(n.next(e[i++]),n.closed||this.schedule())})})}function X_(e,t){return new N(n=>{let i;return Ze(n,t,()=>{i=e[$a](),Ze(n,t,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){n.error(s);return}o?n.complete():n.next(r)},0,!0)}),()=>M(i?.return)&&i.return()})}function Wa(e,t){if(!e)throw new Error("Iterable cannot be null");return new N(n=>{Ze(n,t,()=>{let i=e[Symbol.asyncIterator]();Ze(n,t,()=>{i.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function ev(e,t){return Wa(Ga(e),t)}function tv(e,t){if(e!=null){if(ja(e))return Q_(e,t);if(dr(e))return J_(e,t);if(Va(e))return Z_(e,t);if(Ba(e))return Wa(e,t);if(Ha(e))return X_(e,t);if(za(e))return ev(e,t)}throw Ua(e)}function ee(e,t){return t?tv(e,t):q(e)}function C(...e){let t=jt(e);return ee(e,t)}function hr(e,t){let n=M(e)?e:()=>e,i=r=>r.error(n());return new N(t?r=>t.schedule(i,0,r):i)}function Sd(e){return!!e&&(e instanceof N||M(e.lift)&&M(e.subscribe))}var on=tr(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function nv(e){return e instanceof Date&&!isNaN(e)}function S(e,t){return k((n,i)=>{let r=0;n.subscribe(R(i,o=>{i.next(e.call(t,o,r++))}))})}var{isArray:Z1}=Array;function J1(e,t){return Z1(t)?e(...t):e(t)}function fr(e){return S(t=>J1(e,t))}var{isArray:X1}=Array,{getPrototypeOf:eI,prototype:tI,keys:nI}=Object;function Ka(e){if(e.length===1){let t=e[0];if(X1(t))return{args:t,keys:null};if(iI(t)){let n=nI(t);return{args:n.map(i=>t[i]),keys:n}}}return{args:e,keys:null}}function iI(e){return e&&typeof e=="object"&&eI(e)===tI}function qa(e,t){return e.reduce((n,i,r)=>(n[i]=t[r],n),{})}function pr(...e){let t=jt(e),n=Mn(e),{args:i,keys:r}=Ka(e);if(i.length===0)return ee([],t);let o=new N(rI(i,t,r?s=>qa(r,s):xe));return n?o.pipe(fr(n)):o}function rI(e,t,n=xe){return i=>{iv(t,()=>{let{length:r}=e,o=new Array(r),s=r,a=r;for(let l=0;l<r;l++)iv(t,()=>{let c=ee(e[l],t),u=!1;c.subscribe(R(i,d=>{o[l]=d,u||(u=!0,a--),a||i.next(n(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}function iv(e,t,n){e?Ze(n,e,t):t()}function rv(e,t,n,i,r,o,s,a){let l=[],c=0,u=0,d=!1,h=()=>{d&&!l.length&&!c&&t.complete()},f=m=>c<i?p(m):l.push(m),p=m=>{o&&t.next(m),c++;let b=!1;q(n(m,u++)).subscribe(R(t,T=>{r?.(T),o?f(T):t.next(T)},()=>{b=!0},void 0,()=>{if(b)try{for(c--;l.length&&c<i;){let T=l.shift();s?Ze(t,s,()=>p(T)):p(T)}h()}catch(T){t.error(T)}}))};return e.subscribe(R(t,f,()=>{d=!0,h()})),()=>{a?.()}}function he(e,t,n=1/0){return M(t)?he((i,r)=>S((o,s)=>t(i,o,r,s))(q(e(i,r))),n):(typeof t=="number"&&(n=t),k((i,r)=>rv(i,r,e,n)))}function An(e=1/0){return he(xe,e)}function ov(){return An(1)}function Nn(...e){return ov()(ee(e,jt(e)))}function Ya(e){return new N(t=>{q(e()).subscribe(t)})}function Md(...e){let t=Mn(e),{args:n,keys:i}=Ka(e),r=new N(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let u=0;u<s;u++){let d=!1;q(n[u]).subscribe(R(o,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(i?qa(i,a):a),o.complete())}))}});return t?r.pipe(fr(t)):r}var oI=["addListener","removeListener"],sI=["addEventListener","removeEventListener"],aI=["on","off"];function ft(e,t,n,i){if(M(n)&&(i=n,n=void 0),i)return ft(e,t,n).pipe(fr(i));let[r,o]=uI(e)?sI.map(s=>a=>e[s](t,a,n)):lI(e)?oI.map(sv(e,t)):cI(e)?aI.map(sv(e,t)):[];if(!r&&dr(e))return he(s=>ft(s,t,n))(q(e));if(!r)throw new TypeError("Invalid event target");return new N(s=>{let a=(...l)=>s.next(1<l.length?l:l[0]);return r(a),()=>o(a)})}function sv(e,t){return n=>i=>e[n](t,i)}function lI(e){return M(e.addListener)&&M(e.removeListener)}function cI(e){return M(e.on)&&M(e.off)}function uI(e){return M(e.addEventListener)&&M(e.removeEventListener)}function Ad(e=0,t,n=Ed){let i=-1;return t!=null&&(La(t)?n=t:i=t),new N(r=>{let o=nv(e)?+e-n.now():e;o<0&&(o=0);let s=0;return n.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function gi(...e){let t=jt(e),n=q_(e,1/0),i=e;return i.length?i.length===1?q(i[0]):An(n)(ee(i,t)):Ie}var{isArray:dI}=Array;function Qa(e){return e.length===1&&dI(e[0])?e[0]:e}function _e(e,t){return k((n,i)=>{let r=0;n.subscribe(R(i,o=>e.call(t,o,r++)&&i.next(o)))})}function Nd(...e){return e=Qa(e),e.length===1?q(e[0]):new N(hI(e))}function hI(e){return t=>{let n=[];for(let i=0;n&&!t.closed&&i<e.length;i++)n.push(q(e[i]).subscribe(R(t,r=>{if(n){for(let o=0;o<n.length;o++)o!==i&&n[o].unsubscribe();n=null}t.next(r)})))}}function Lo(...e){let t=Mn(e),n=Qa(e);return n.length?new N(i=>{let r=n.map(()=>[]),o=n.map(()=>!1);i.add(()=>{r=o=null});for(let s=0;!i.closed&&s<n.length;s++)q(n[s]).subscribe(R(i,a=>{if(r[s].push(a),r.every(l=>l.length)){let l=r.map(c=>c.shift());i.next(t?t(...l):l),r.some((c,u)=>!c.length&&o[u])&&i.complete()}},()=>{o[s]=!0,!r[s].length&&i.complete()}));return()=>{r=o=null}}):Ie}function Rn(e){return k((t,n)=>{let i=null,r=!1,o;i=t.subscribe(R(n,void 0,void 0,s=>{o=q(e(s,Rn(e)(t))),i?(i.unsubscribe(),i=null,o.subscribe(n)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(n))})}function av(e,t,n,i,r){return(o,s)=>{let a=n,l=t,c=0;o.subscribe(R(s,u=>{let d=c++;l=a?e(l,u,d):(a=!0,u),i&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}function sn(e,t){return M(t)?he(e,t,1):he(e,1)}function On(e){return k((t,n)=>{let i=!1;t.subscribe(R(n,r=>{i=!0,n.next(r)},()=>{i||n.next(e),n.complete()}))})}function pt(e){return e<=0?()=>Ie:k((t,n)=>{let i=0;t.subscribe(R(n,r=>{++i<=e&&(n.next(r),e<=i&&n.complete())}))})}function Rd(e){return S(()=>e)}function Za(e,t=xe){return e=e??fI,k((n,i)=>{let r,o=!0;n.subscribe(R(i,s=>{let a=t(s);(o||!e(r,a))&&(o=!1,r=a,i.next(s))}))})}function fI(e,t){return e===t}function Ja(e=pI){return k((t,n)=>{let i=!1;t.subscribe(R(n,r=>{i=!0,n.next(r)},()=>i?n.complete():n.error(e())))})}function pI(){return new on}function Od(...e){return t=>Nn(t,C(...e))}function xn(e){return k((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function gt(e,t){let n=arguments.length>=2;return i=>i.pipe(e?_e((r,o)=>e(r,o,i)):xe,pt(1),n?On(t):Ja(()=>new on))}function gr(e){return e<=0?()=>Ie:k((t,n)=>{let i=[];t.subscribe(R(n,r=>{i.push(r),e<i.length&&i.shift()},()=>{for(let r of i)n.next(r);n.complete()},void 0,()=>{i=null}))})}function xd(e,t){let n=arguments.length>=2;return i=>i.pipe(e?_e((r,o)=>e(r,o,i)):xe,gr(1),n?On(t):Ja(()=>new on))}function mr(e,t){return k(av(e,t,arguments.length>=2,!0))}function Vo(e={}){let{connector:t=()=>new K,resetOnError:n=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=e;return o=>{let s,a,l,c=0,u=!1,d=!1,h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),s=l=void 0,u=d=!1},p=()=>{let m=s;f(),m?.unsubscribe()};return k((m,b)=>{c++,!d&&!u&&h();let T=l=l??t();b.add(()=>{c--,c===0&&!d&&!u&&(a=kd(p,r))}),T.subscribe(b),!s&&c>0&&(s=new rn({next:j=>T.next(j),error:j=>{d=!0,h(),a=kd(f,n,j),T.error(j)},complete:()=>{u=!0,h(),a=kd(f,i),T.complete()}}),q(m).subscribe(s))})(o)}}function kd(e,t,...n){if(t===!0){e();return}if(t===!1)return;let i=new rn({next:()=>{i.unsubscribe(),e()}});return q(t(...n)).subscribe(i)}function Xa(e,t,n){let i,r=!1;return e&&typeof e=="object"?{bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:n}=e:i=e??1/0,Vo({connector:()=>new xa(i,t,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function Pd(e){return k((t,n)=>{let i=!1,r=0;t.subscribe(R(n,o=>(i||(i=!e(o,r++)))&&n.next(o)))})}function el(...e){let t=jt(e);return k((n,i)=>{(t?Nn(e,n,t):Nn(e,n)).subscribe(i)})}function ie(e,t){return k((n,i)=>{let r=null,o=0,s=!1,a=()=>s&&!r&&i.complete();n.subscribe(R(i,l=>{r?.unsubscribe();let c=0,u=o++;q(e(l,u)).subscribe(r=R(i,d=>i.next(t?t(l,d,u,c++):d),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function tl(e,t){return M(t)?ie(()=>e,t):ie(()=>e)}function Fe(e){return k((t,n)=>{q(e).subscribe(R(n,()=>n.complete(),hi)),!n.closed&&t.subscribe(n)})}function me(e,t,n){let i=M(e)||t||n?{next:e,error:t,complete:n}:e;return i?k((r,o)=>{var s;(s=i.subscribe)===null||s===void 0||s.call(i);let a=!0;r.subscribe(R(o,l=>{var c;(c=i.next)===null||c===void 0||c.call(i,l),o.next(l)},()=>{var l;a=!1,(l=i.complete)===null||l===void 0||l.call(i),o.complete()},l=>{var c;a=!1,(c=i.error)===null||c===void 0||c.call(i,l),o.error(l)},()=>{var l,c;a&&((l=i.unsubscribe)===null||l===void 0||l.call(i)),(c=i.finalize)===null||c===void 0||c.call(i)}))}):xe}function _r(...e){let t=Mn(e);return k((n,i)=>{let r=e.length,o=new Array(r),s=e.map(()=>!1),a=!1;for(let l=0;l<r;l++)q(e[l]).subscribe(R(i,c=>{o[l]=c,!a&&!s[l]&&(s[l]=!0,(a=s.every(xe))&&(s=null))},hi));n.subscribe(R(i,l=>{if(a){let c=[l,...o];i.next(t?t(...c):c)}}))})}var Gv="https://g.co/ng/security#xss",I=class extends Error{constructor(t,n){super(jl(t,n)),this.code=t}};function jl(e,t){return`${`NG0${Math.abs(e)}`}${t?": "+t:""}`}function Yo(e){return{toString:e}.toString()}var nl="__parameters__";function gI(e){return function(...n){if(e){let i=e(...n);for(let r in i)this[r]=i[r]}}}function zv(e,t,n){return Yo(()=>{let i=gI(t);function r(...o){if(this instanceof r)return i.apply(this,o),this;let s=new r(...o);return a.annotation=s,a;function a(l,c,u){let d=l.hasOwnProperty(nl)?l[nl]:Object.defineProperty(l,nl,{value:[]})[nl];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r})}var Rt=globalThis;function re(e){for(let t in e)if(e[t]===re)return t;throw Error("Could not find renamed property on target object.")}function mI(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Xe(e){if(typeof e=="string")return e;if(Array.isArray(e))return"["+e.map(Xe).join(", ")+"]";if(e==null)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;let t=e.toString();if(t==null)return""+t;let n=t.indexOf(`
`);return n===-1?t:t.substring(0,n)}function Yd(e,t){return e==null||e===""?t===null?"":t:t==null||t===""?e:e+" "+t}var _I=re({__forward_ref__:re});function xr(e){return e.__forward_ref__=xr,e.toString=function(){return Xe(this())},e}function $e(e){return Wv(e)?e():e}function Wv(e){return typeof e=="function"&&e.hasOwnProperty(_I)&&e.__forward_ref__===xr}function D(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function F(e){return{providers:e.providers||[],imports:e.imports||[]}}function Bl(e){return lv(e,qv)||lv(e,Yv)}function Kv(e){return Bl(e)!==null}function lv(e,t){return e.hasOwnProperty(t)?e[t]:null}function vI(e){let t=e&&(e[qv]||e[Yv]);return t||null}function cv(e){return e&&(e.hasOwnProperty(uv)||e.hasOwnProperty(yI))?e[uv]:null}var qv=re({\u0275prov:re}),uv=re({\u0275inj:re}),Yv=re({ngInjectableDef:re}),yI=re({ngInjectorDef:re}),w=class{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=D({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Qv(e){return e&&!!e.\u0275providers}var bI=re({\u0275cmp:re}),wI=re({\u0275dir:re}),DI=re({\u0275pipe:re}),CI=re({\u0275mod:re}),fl=re({\u0275fac:re}),Bo=re({__NG_ELEMENT_ID__:re}),dv=re({__NG_ENV_ID__:re});function Ul(e){return typeof e=="string"?e:e==null?"":String(e)}function EI(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():Ul(e)}function II(e,t){let n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new I(-200,e)}function Kh(e,t){throw new I(-201,!1)}var $=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}($||{}),Qd;function Zv(){return Qd}function mt(e){let t=Qd;return Qd=e,t}function Jv(e,t,n){let i=Bl(e);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(n&$.Optional)return null;if(t!==void 0)return t;Kh(e,"Injector")}var TI={},$o=TI,Zd="__NG_DI_FLAG__",pl="ngTempTokenPath",SI="ngTokenPath",MI=/\n/gm,AI="\u0275",hv="__source",wr;function NI(){return wr}function kn(e){let t=wr;return wr=e,t}function RI(e,t=$.Default){if(wr===void 0)throw new I(-203,!1);return wr===null?Jv(e,void 0,t):wr.get(e,t&$.Optional?null:void 0,t)}function _(e,t=$.Default){return(Zv()||RI)($e(e),t)}function g(e,t=$.Default){return _(e,$l(t))}function $l(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Jd(e){let t=[];for(let n=0;n<e.length;n++){let i=$e(e[n]);if(Array.isArray(i)){if(i.length===0)throw new I(900,!1);let r,o=$.Default;for(let s=0;s<i.length;s++){let a=i[s],l=OI(a);typeof l=="number"?l===-1?r=a.token:o|=l:r=a}t.push(_(r,o))}else t.push(_(i))}return t}function Xv(e,t){return e[Zd]=t,e.prototype[Zd]=t,e}function OI(e){return e[Zd]}function xI(e,t,n,i){let r=e[pl];throw t[hv]&&r.unshift(t[hv]),e.message=kI(`
`+e.message,r,n,i),e[SI]=r,e[pl]=null,e}function kI(e,t,n,i=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==AI?e.slice(2):e;let r=Xe(t);if(Array.isArray(t))r=t.map(Xe).join(" -> ");else if(typeof t=="object"){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Xe(a)))}r=`{${o.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${e.replace(MI,`
  `)}`}var kr=Xv(zv("Optional"),8);var qh=Xv(zv("SkipSelf"),4);function Cr(e,t){let n=e.hasOwnProperty(fl);return n?e[fl]:null}function PI(e,t,n){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],o=t[i];if(n&&(r=n(r),o=n(o)),o!==r)return!1}return!0}function FI(e){return e.flat(Number.POSITIVE_INFINITY)}function Yh(e,t){e.forEach(n=>Array.isArray(n)?Yh(n,t):t(n))}function ey(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function gl(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function LI(e,t){let n=[];for(let i=0;i<e;i++)n.push(t);return n}function VI(e,t,n,i){let r=e.length;if(r==t)e.push(n,i);else if(r===1)e.push(i,e[0]),e[0]=n;else{for(r--,e.push(e[r-1],e[r]);r>t;){let o=r-2;e[r]=e[o],r--}e[t]=n,e[t+1]=i}}function Qh(e,t,n){let i=Qo(e,t);return i>=0?e[i|1]=n:(i=~i,VI(e,i,t,n)),i}function Fd(e,t){let n=Qo(e,t);if(n>=0)return e[n|1]}function Qo(e,t){return jI(e,t,1)}function jI(e,t,n){let i=0,r=e.length>>n;for(;r!==i;){let o=i+(r-i>>1),s=e[o<<n];if(t===s)return o<<n;s>t?r=o:i=o+1}return~(r<<n)}var Er={},Je=[],Ir=new w(""),ty=new w("",-1),ny=new w(""),ml=class{get(t,n=$o){if(n===$o){let i=new Error(`NullInjectorError: No provider for ${Xe(t)}!`);throw i.name="NullInjectorError",i}return n}},iy=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(iy||{}),$t=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}($t||{}),Ln=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Ln||{});function BI(e,t,n){let i=e.length;for(;;){let r=e.indexOf(t,n);if(r===-1)return r;if(r===0||e.charCodeAt(r-1)<=32){let o=t.length;if(r+o===i||e.charCodeAt(r+o)<=32)return r}n=r+1}}function Xd(e,t,n){let i=0;for(;i<n.length;){let r=n[i];if(typeof r=="number"){if(r!==0)break;i++;let o=n[i++],s=n[i++],a=n[i++];e.setAttribute(t,s,a,o)}else{let o=r,s=n[++i];UI(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),i++}}return i}function ry(e){return e===3||e===4||e===6}function UI(e){return e.charCodeAt(0)===64}function Ho(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let i=0;i<t.length;i++){let r=t[i];typeof r=="number"?n=r:n===0||(n===-1||n===2?fv(e,n,r,null,t[++i]):fv(e,n,r,null,null))}}return e}function fv(e,t,n,i,r){let o=0,s=e.length;if(t===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===n){if(i===null){r!==null&&(e[o+1]=r);return}else if(i===e[o+1]){e[o+2]=r;return}}o++,i!==null&&o++,r!==null&&o++}s!==-1&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),i!==null&&e.splice(o++,0,i),r!==null&&e.splice(o++,0,r)}var oy="ng-template";function $I(e,t,n,i){let r=0;if(i){for(;r<t.length&&typeof t[r]=="string";r+=2)if(t[r]==="class"&&BI(t[r+1].toLowerCase(),n,0)!==-1)return!0}else if(Zh(e))return!1;if(r=t.indexOf(1,r),r>-1){let o;for(;++r<t.length&&typeof(o=t[r])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Zh(e){return e.type===4&&e.value!==oy}function HI(e,t,n){let i=e.type===4&&!n?oy:e.value;return t===i}function GI(e,t,n){let i=4,r=e.attrs,o=r!==null?KI(r):0,s=!1;for(let a=0;a<t.length;a++){let l=t[a];if(typeof l=="number"){if(!s&&!Mt(i)&&!Mt(l))return!1;if(s&&Mt(l))continue;s=!1,i=l|i&1;continue}if(!s)if(i&4){if(i=2|i&1,l!==""&&!HI(e,l,n)||l===""&&t.length===1){if(Mt(i))return!1;s=!0}}else if(i&8){if(r===null||!$I(e,r,l,n)){if(Mt(i))return!1;s=!0}}else{let c=t[++a],u=zI(l,r,Zh(e),n);if(u===-1){if(Mt(i))return!1;s=!0;continue}if(c!==""){let d;if(u>o?d="":d=r[u+1].toLowerCase(),i&2&&c!==d){if(Mt(i))return!1;s=!0}}}}return Mt(i)||s}function Mt(e){return(e&1)===0}function zI(e,t,n,i){if(t===null)return-1;let r=0;if(i||!n){let o=!1;for(;r<t.length;){let s=t[r];if(s===e)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=t[++r];for(;typeof a=="string";)a=t[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return qI(t,e)}function sy(e,t,n=!1){for(let i=0;i<t.length;i++)if(GI(e,t[i],n))return!0;return!1}function WI(e){let t=e.attrs;if(t!=null){let n=t.indexOf(5);if(!(n&1))return t[n+1]}return null}function KI(e){for(let t=0;t<e.length;t++){let n=e[t];if(ry(n))return t}return e.length}function qI(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let i=e[n];if(typeof i=="number")return-1;if(i===t)return n;n++}return-1}function YI(e,t){e:for(let n=0;n<t.length;n++){let i=t[n];if(e.length===i.length){for(let r=0;r<e.length;r++)if(e[r]!==i[r])continue e;return!0}}return!1}function pv(e,t){return e?":not("+t.trim()+")":t}function QI(e){let t=e[0],n=1,i=2,r="",o=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(i&2){let a=e[++n];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!Mt(s)&&(t+=pv(o,r),r=""),i=s,o=o||!Mt(i);n++}return r!==""&&(t+=pv(o,r)),t}function ZI(e){return e.map(QI).join(",")}function JI(e){let t=[],n=[],i=1,r=2;for(;i<e.length;){let o=e[i];if(typeof o=="string")r===2?o!==""&&t.push(o,e[++i]):r===8&&n.push(o);else{if(!Mt(r))break;r=o}i++}return{attrs:t,classes:n}}function it(e){return Yo(()=>{let t=dy(e),n=U(y({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===iy.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||$t.Emulated,styles:e.styles||Je,_:null,schemas:e.schemas||null,tView:null,id:""});hy(n);let i=e.dependencies;return n.directiveDefs=mv(i,!1),n.pipeDefs=mv(i,!0),n.id=tT(n),n})}function XI(e){return ln(e)||ay(e)}function eT(e){return e!==null}function L(e){return Yo(()=>({type:e.type,bootstrap:e.bootstrap||Je,declarations:e.declarations||Je,imports:e.imports||Je,exports:e.exports||Je,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function gv(e,t){if(e==null)return Er;let n={};for(let i in e)if(e.hasOwnProperty(i)){let r=e[i],o,s,a=Ln.None;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o):(o=r,s=r),t?(n[o]=a!==Ln.None?[i,a]:i,t[o]=s):n[o]=i}return n}function rt(e){return Yo(()=>{let t=dy(e);return hy(t),t})}function ln(e){return e[bI]||null}function ay(e){return e[wI]||null}function ly(e){return e[DI]||null}function cy(e){let t=ln(e)||ay(e)||ly(e);return t!==null?t.standalone:!1}function uy(e,t){let n=e[CI]||null;if(!n&&t===!0)throw new Error(`Type ${Xe(e)} does not have '\u0275mod' property.`);return n}function dy(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||Er,exportAs:e.exportAs||null,standalone:e.standalone===!0,signals:e.signals===!0,selectors:e.selectors||Je,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:gv(e.inputs,t),outputs:gv(e.outputs),debugInfo:null}}function hy(e){e.features?.forEach(t=>t(e))}function mv(e,t){if(!e)return null;let n=t?ly:XI;return()=>(typeof e=="function"?e():e).map(i=>n(i)).filter(eT)}function tT(e){let t=0,n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(let r of n)t=Math.imul(31,t)+r.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function Hl(e){return{\u0275providers:e}}function nT(...e){return{\u0275providers:fy(!0,e),\u0275fromNgModule:!0}}function fy(e,...t){let n=[],i=new Set,r,o=s=>{n.push(s)};return Yh(t,s=>{let a=s;eh(a,o,[],i)&&(r||=[],r.push(a))}),r!==void 0&&py(r,o),n}function py(e,t){for(let n=0;n<e.length;n++){let{ngModule:i,providers:r}=e[n];Jh(r,o=>{t(o,i)})}}function eh(e,t,n,i){if(e=$e(e),!e)return!1;let r=null,o=cv(e),s=!o&&ln(e);if(!o&&!s){let l=e.ngModule;if(o=cv(l),o)r=l;else return!1}else{if(s&&!s.standalone)return!1;r=e}let a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)eh(c,t,n,i)}}else if(o){if(o.imports!=null&&!a){i.add(r);let c;try{Yh(o.imports,u=>{eh(u,t,n,i)&&(c||=[],c.push(u))})}finally{}c!==void 0&&py(c,t)}if(!a){let c=Cr(r)||(()=>new r);t({provide:r,useFactory:c,deps:Je},r),t({provide:ny,useValue:r,multi:!0},r),t({provide:Ir,useValue:()=>_(r),multi:!0},r)}let l=o.providers;if(l!=null&&!a){let c=e;Jh(l,u=>{t(u,c)})}}else return!1;return r!==e&&e.providers!==void 0}function Jh(e,t){for(let n of e)Qv(n)&&(n=n.\u0275providers),Array.isArray(n)?Jh(n,t):t(n)}var iT=re({provide:String,useValue:re});function gy(e){return e!==null&&typeof e=="object"&&iT in e}function rT(e){return!!(e&&e.useExisting)}function oT(e){return!!(e&&e.useFactory)}function Tr(e){return typeof e=="function"}function sT(e){return!!e.useClass}var Gl=new w(""),ll={},aT={},Ld;function zl(){return Ld===void 0&&(Ld=new ml),Ld}var Me=class{},Go=class extends Me{get destroyed(){return this._destroyed}constructor(t,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,nh(t,s=>this.processProvider(s)),this.records.set(ty,vr(void 0,this)),r.has("environment")&&this.records.set(Me,vr(void 0,this));let o=this.records.get(Gl);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(ny,Je,$.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let t=Y(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Y(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();let n=kn(this),i=mt(void 0),r;try{return t()}finally{kn(n),mt(i)}}get(t,n=$o,i=$.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(dv))return t[dv](this);i=$l(i);let r,o=kn(this),s=mt(void 0);try{if(!(i&$.SkipSelf)){let l=this.records.get(t);if(l===void 0){let c=hT(t)&&Bl(t);c&&this.injectableDefInScope(c)?l=vr(th(t),ll):l=null,this.records.set(t,l)}if(l!=null)return this.hydrate(t,l)}let a=i&$.Self?zl():this.parent;return n=i&$.Optional&&n===$o?null:n,a.get(t,n)}catch(a){if(a.name==="NullInjectorError"){if((a[pl]=a[pl]||[]).unshift(Xe(t)),o)throw a;return xI(a,t,"R3InjectorError",this.source)}else throw a}finally{mt(s),kn(o)}}resolveInjectorInitializers(){let t=Y(null),n=kn(this),i=mt(void 0),r;try{let o=this.get(Ir,Je,$.Self);for(let s of o)s()}finally{kn(n),mt(i),Y(t)}}toString(){let t=[],n=this.records;for(let i of n.keys())t.push(Xe(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new I(205,!1)}processProvider(t){t=$e(t);let n=Tr(t)?t:$e(t&&t.provide),i=cT(t);if(!Tr(t)&&t.multi===!0){let r=this.records.get(n);r||(r=vr(void 0,ll,!0),r.factory=()=>Jd(r.multi),this.records.set(n,r)),n=t,r.multi.push(t)}this.records.set(n,i)}hydrate(t,n){let i=Y(null);try{return n.value===ll&&(n.value=aT,n.value=n.factory()),typeof n.value=="object"&&n.value&&dT(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Y(i)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=$e(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function th(e){let t=Bl(e),n=t!==null?t.factory:Cr(e);if(n!==null)return n;if(e instanceof w)throw new I(204,!1);if(e instanceof Function)return lT(e);throw new I(204,!1)}function lT(e){if(e.length>0)throw new I(204,!1);let n=vI(e);return n!==null?()=>n.factory(e):()=>new e}function cT(e){if(gy(e))return vr(void 0,e.useValue);{let t=my(e);return vr(t,ll)}}function my(e,t,n){let i;if(Tr(e)){let r=$e(e);return Cr(r)||th(r)}else if(gy(e))i=()=>$e(e.useValue);else if(oT(e))i=()=>e.useFactory(...Jd(e.deps||[]));else if(rT(e))i=()=>_($e(e.useExisting));else{let r=$e(e&&(e.useClass||e.provide));if(uT(e))i=()=>new r(...Jd(e.deps));else return Cr(r)||th(r)}return i}function vr(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function uT(e){return!!e.deps}function dT(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function hT(e){return typeof e=="function"||typeof e=="object"&&e instanceof w}function nh(e,t){for(let n of e)Array.isArray(n)?nh(n,t):n&&Qv(n)?nh(n.\u0275providers,t):t(n)}function yt(e,t){e instanceof Go&&e.assertNotDestroyed();let n,i=kn(e),r=mt(void 0);try{return t()}finally{kn(i),mt(r)}}function _y(){return Zv()!==void 0||NI()!=null}function fT(e){if(!_y())throw new I(-203,!1)}function pT(e){let t=Rt.ng;if(t&&t.\u0275compilerFacade)return t.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function gT(e){return typeof e=="function"}var fn=0,B=1,O=2,Le=3,Nt=4,et=5,zo=6,_l=7,Ot=8,Sr=9,Ht=10,ve=11,Wo=12,_v=13,Pr=14,vt=15,_i=16,yr=17,cn=18,Wl=19,vy=20,Pn=21,Vd=22,_t=23,Gt=25,yy=1;var vi=7,vl=8,Mr=9,nt=10,yl=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(yl||{});function Fn(e){return Array.isArray(e)&&typeof e[yy]=="object"}function pn(e){return Array.isArray(e)&&e[yy]===!0}function by(e){return(e.flags&4)!==0}function Kl(e){return e.componentOffset>-1}function Xh(e){return(e.flags&1)===1}function Vn(e){return!!e.template}function ih(e){return(e[O]&512)!==0}var rh=class{constructor(t,n,i){this.previousValue=t,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}};function wy(e,t,n,i){t!==null?t.applyValueToInputSignal(t,i):e[n]=i}function Un(){return Dy}function Dy(e){return e.type.prototype.ngOnChanges&&(e.setInput=_T),mT}Un.ngInherit=!0;function mT(){let e=Ey(this),t=e?.current;if(t){let n=e.previous;if(n===Er)e.previous=t;else for(let i in t)n[i]=t[i];e.current=null,this.ngOnChanges(t)}}function _T(e,t,n,i,r){let o=this.declaredInputs[i],s=Ey(e)||vT(e,{previous:Er,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new rh(c&&c.currentValue,n,l===Er),wy(e,t,r,n)}var Cy="__ngSimpleChanges__";function Ey(e){return e[Cy]||null}function vT(e,t){return e[Cy]=t}var vv=null;var Bt=function(e,t,n){vv?.(e,t,n)},yT="svg",bT="math";function zt(e){for(;Array.isArray(e);)e=e[fn];return e}function Iy(e,t){return zt(t[e])}function bt(e,t){return zt(t[e.index])}function Ty(e,t){return e.data[t]}function $n(e,t){let n=t[e];return Fn(n)?n:n[fn]}function wT(e){return(e[O]&4)===4}function ef(e){return(e[O]&128)===128}function DT(e){return pn(e[Le])}function bl(e,t){return t==null?null:e[t]}function Sy(e){e[yr]=0}function My(e){e[O]&1024||(e[O]|=1024,ef(e)&&Yl(e))}function CT(e,t){for(;e>0;)t=t[Pr],e--;return t}function ql(e){return!!(e[O]&9216||e[_t]?.dirty)}function oh(e){e[Ht].changeDetectionScheduler?.notify(8),e[O]&64&&(e[O]|=1024),ql(e)&&Yl(e)}function Yl(e){e[Ht].changeDetectionScheduler?.notify(0);let t=yi(e);for(;t!==null&&!(t[O]&8192||(t[O]|=8192,!ef(t)));)t=yi(t)}function Ay(e,t){if((e[O]&256)===256)throw new I(911,!1);e[Pn]===null&&(e[Pn]=[]),e[Pn].push(t)}function ET(e,t){if(e[Pn]===null)return;let n=e[Pn].indexOf(t);n!==-1&&e[Pn].splice(n,1)}function yi(e){let t=e[Le];return pn(t)?t[Le]:t}var W={lFrame:Uy(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Ny=!1;function IT(){return W.lFrame.elementDepthCount}function TT(){W.lFrame.elementDepthCount++}function ST(){W.lFrame.elementDepthCount--}function Ry(){return W.bindingsEnabled}function Oy(){return W.skipHydrationRootTNode!==null}function MT(e){return W.skipHydrationRootTNode===e}function AT(){W.skipHydrationRootTNode=null}function X(){return W.lFrame.lView}function ke(){return W.lFrame.tView}function Si(e){return W.lFrame.contextLView=e,e[Ot]}function Mi(e){return W.lFrame.contextLView=null,e}function He(){let e=xy();for(;e!==null&&e.type===64;)e=e.parent;return e}function xy(){return W.lFrame.currentTNode}function NT(){let e=W.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function Zo(e,t){let n=W.lFrame;n.currentTNode=e,n.isParent=t}function ky(){return W.lFrame.isParent}function Py(){W.lFrame.isParent=!1}function Fy(){return Ny}function yv(e){Ny=e}function RT(e){return W.lFrame.bindingIndex=e}function Ql(){return W.lFrame.bindingIndex++}function Ly(e){let t=W.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function OT(){return W.lFrame.inI18n}function xT(e,t){let n=W.lFrame;n.bindingIndex=n.bindingRootIndex=e,sh(t)}function kT(){return W.lFrame.currentDirectiveIndex}function sh(e){W.lFrame.currentDirectiveIndex=e}function PT(e){let t=W.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function Vy(){return W.lFrame.currentQueryIndex}function tf(e){W.lFrame.currentQueryIndex=e}function FT(e){let t=e[B];return t.type===2?t.declTNode:t.type===1?e[et]:null}function jy(e,t,n){if(n&$.SkipSelf){let r=t,o=e;for(;r=r.parent,r===null&&!(n&$.Host);)if(r=FT(o),r===null||(o=o[Pr],r.type&10))break;if(r===null)return!1;t=r,e=o}let i=W.lFrame=By();return i.currentTNode=t,i.lView=e,!0}function nf(e){let t=By(),n=e[B];W.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function By(){let e=W.lFrame,t=e===null?null:e.child;return t===null?Uy(e):t}function Uy(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function $y(){let e=W.lFrame;return W.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var Hy=$y;function rf(){let e=$y();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function LT(e){return(W.lFrame.contextLView=CT(e,W.lFrame.contextLView))[Ot]}function Ai(){return W.lFrame.selectedIndex}function bi(e){W.lFrame.selectedIndex=e}function of(){let e=W.lFrame;return Ty(e.tView,e.selectedIndex)}function VT(){return W.lFrame.currentNamespace}var Gy=!0;function sf(){return Gy}function af(e){Gy=e}function jT(e,t,n){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=t.type.prototype;if(i){let s=Dy(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}r&&(n.preOrderHooks??=[]).push(0-e,r),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}function lf(e,t){for(let n=t.directiveStart,i=t.directiveEnd;n<i;n++){let o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),l&&(e.viewHooks??=[]).push(-n,l),c&&((e.viewHooks??=[]).push(n,c),(e.viewCheckHooks??=[]).push(n,c)),u!=null&&(e.destroyHooks??=[]).push(n,u)}}function cl(e,t,n){zy(e,t,3,n)}function ul(e,t,n,i){(e[O]&3)===n&&zy(e,t,n,i)}function jd(e,t){let n=e[O];(n&3)===t&&(n&=16383,n+=1,e[O]=n)}function zy(e,t,n,i){let r=i!==void 0?e[yr]&65535:0,o=i??-1,s=t.length-1,a=0;for(let l=r;l<s;l++)if(typeof t[l+1]=="number"){if(a=t[l],i!=null&&a>=i)break}else t[l]<0&&(e[yr]+=65536),(a<o||o==-1)&&(BT(e,n,t,l),e[yr]=(e[yr]&4294901760)+l+2),l++}function bv(e,t){Bt(4,e,t);let n=Y(null);try{t.call(e)}finally{Y(n),Bt(5,e,t)}}function BT(e,t,n,i){let r=n[i]<0,o=n[i+1],s=r?-n[i]:n[i],a=e[s];r?e[O]>>14<e[yr]>>16&&(e[O]&3)===t&&(e[O]+=16384,bv(a,o)):bv(a,o)}var Dr=-1,wi=class{constructor(t,n,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}};function UT(e){return e instanceof wi}function $T(e){return(e.flags&8)!==0}function HT(e){return(e.flags&16)!==0}var Bd={},ah=class{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,i){i=$l(i);let r=this.injector.get(t,Bd,i);return r!==Bd||n===Bd?r:this.parentInjector.get(t,n,i)}};function Wy(e){return e!==Dr}function wl(e){return e&32767}function GT(e){return e>>16}function Dl(e,t){let n=GT(e),i=t;for(;n>0;)i=i[Pr],n--;return i}var lh=!0;function wv(e){let t=lh;return lh=e,t}var zT=256,Ky=zT-1,qy=5,WT=0,Ut={};function KT(e,t,n){let i;typeof n=="string"?i=n.charCodeAt(0)||0:n.hasOwnProperty(Bo)&&(i=n[Bo]),i==null&&(i=n[Bo]=WT++);let r=i&Ky,o=1<<r;t.data[e+(r>>qy)]|=o}function Cl(e,t){let n=Yy(e,t);if(n!==-1)return n;let i=t[B];i.firstCreatePass&&(e.injectorIndex=t.length,Ud(i.data,e),Ud(t,null),Ud(i.blueprint,null));let r=cf(e,t),o=e.injectorIndex;if(Wy(r)){let s=wl(r),a=Dl(r,t),l=a[B].data;for(let c=0;c<8;c++)t[o+c]=a[s+c]|l[s+c]}return t[o+8]=r,o}function Ud(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Yy(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function cf(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,i=null,r=t;for(;r!==null;){if(i=e0(r),i===null)return Dr;if(n++,r=r[Pr],i.injectorIndex!==-1)return i.injectorIndex|n<<16}return Dr}function ch(e,t,n){KT(e,t,n)}function qT(e,t){if(t==="class")return e.classes;if(t==="style")return e.styles;let n=e.attrs;if(n){let i=n.length,r=0;for(;r<i;){let o=n[r];if(ry(o))break;if(o===0)r=r+2;else if(typeof o=="number")for(r++;r<i&&typeof n[r]=="string";)r++;else{if(o===t)return n[r+1];r=r+2}}}return null}function Qy(e,t,n){if(n&$.Optional||e!==void 0)return e;Kh(t,"NodeInjector")}function Zy(e,t,n,i){if(n&$.Optional&&i===void 0&&(i=null),!(n&($.Self|$.Host))){let r=e[Sr],o=mt(void 0);try{return r?r.get(t,i,n&$.Optional):Jv(t,i,n&$.Optional)}finally{mt(o)}}return Qy(i,t,n)}function Jy(e,t,n,i=$.Default,r){if(e!==null){if(t[O]&2048&&!(i&$.Self)){let s=JT(e,t,n,i,Ut);if(s!==Ut)return s}let o=Xy(e,t,n,i,Ut);if(o!==Ut)return o}return Zy(t,n,i,r)}function Xy(e,t,n,i,r){let o=QT(n);if(typeof o=="function"){if(!jy(t,e,i))return i&$.Host?Qy(r,n,i):Zy(t,n,i,r);try{let s;if(s=o(i),s==null&&!(i&$.Optional))Kh(n);else return s}finally{Hy()}}else if(typeof o=="number"){let s=null,a=Yy(e,t),l=Dr,c=i&$.Host?t[vt][et]:null;for((a===-1||i&$.SkipSelf)&&(l=a===-1?cf(e,t):t[a+8],l===Dr||!Cv(i,!1)?a=-1:(s=t[B],a=wl(l),t=Dl(l,t)));a!==-1;){let u=t[B];if(Dv(o,a,u.data)){let d=YT(a,t,n,s,i,c);if(d!==Ut)return d}l=t[a+8],l!==Dr&&Cv(i,t[B].data[a+8]===c)&&Dv(o,a,t)?(s=u,a=wl(l),t=Dl(l,t)):a=-1}}return r}function YT(e,t,n,i,r,o){let s=t[B],a=s.data[e+8],l=i==null?Kl(a)&&lh:i!=s&&(a.type&3)!==0,c=r&$.Host&&o===a,u=dl(a,s,n,l,c);return u!==null?Di(t,s,u,a):Ut}function dl(e,t,n,i,r){let o=e.providerIndexes,s=t.data,a=o&1048575,l=e.directiveStart,c=e.directiveEnd,u=o>>20,d=i?a:a+u,h=r?a+u:c;for(let f=d;f<h;f++){let p=s[f];if(f<l&&n===p||f>=l&&p.type===n)return f}if(r){let f=s[l];if(f&&Vn(f)&&f.type===n)return l}return null}function Di(e,t,n,i){let r=e[n],o=t.data;if(UT(r)){let s=r;s.resolving&&II(EI(o[n]));let a=wv(s.canSeeViewProviders);s.resolving=!0;let l,c=s.injectImpl?mt(s.injectImpl):null,u=jy(e,i,$.Default);try{r=e[n]=s.factory(void 0,o,e,i),t.firstCreatePass&&n>=i.directiveStart&&jT(n,o[n],t)}finally{c!==null&&mt(c),wv(a),s.resolving=!1,Hy()}}return r}function QT(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(Bo)?e[Bo]:void 0;return typeof t=="number"?t>=0?t&Ky:ZT:t}function Dv(e,t,n){let i=1<<e;return!!(n[t+(e>>qy)]&i)}function Cv(e,t){return!(e&$.Self)&&!(e&$.Host&&t)}var mi=class{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,i){return Jy(this._tNode,this._lView,t,$l(i),n)}};function ZT(){return new mi(He(),X())}function Fr(e){return Yo(()=>{let t=e.prototype.constructor,n=t[fl]||uh(t),i=Object.prototype,r=Object.getPrototypeOf(e.prototype).constructor;for(;r&&r!==i;){let o=r[fl]||uh(r);if(o&&o!==n)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function uh(e){return Wv(e)?()=>{let t=uh($e(e));return t&&t()}:Cr(e)}function JT(e,t,n,i,r){let o=e,s=t;for(;o!==null&&s!==null&&s[O]&2048&&!(s[O]&512);){let a=Xy(o,s,n,i|$.Self,Ut);if(a!==Ut)return a;let l=o.parent;if(!l){let c=s[vy];if(c){let u=c.get(n,Ut,i);if(u!==Ut)return u}l=e0(s),s=s[Pr]}o=l}return r}function e0(e){let t=e[B],n=t.type;return n===2?t.declTNode:n===1?e[et]:null}function Zl(e){return qT(He(),e)}function Ev(e,t=null,n=null,i){let r=t0(e,t,n,i);return r.resolveInjectorInitializers(),r}function t0(e,t=null,n=null,i,r=new Set){let o=[n||Je,nT(e)];return i=i||(typeof e=="object"?void 0:Xe(e)),new Go(o,t||zl(),i||null,r)}var Te=class e{static{this.THROW_IF_NOT_FOUND=$o}static{this.NULL=new ml}static create(t,n){if(Array.isArray(t))return Ev({name:""},n,t,"");{let i=t.name??"";return Ev({name:i},t.parent,t.providers,i)}}static{this.\u0275prov=D({token:e,providedIn:"any",factory:()=>_(ty)})}static{this.__NG_ELEMENT_ID__=-1}};var XT=new w("");XT.__NG_ELEMENT_ID__=e=>{let t=He();if(t===null)throw new I(204,!1);if(t.type&2)return t.value;if(e&$.Optional)return null;throw new I(204,!1)};var eS="ngOriginalError";function $d(e){return e[eS]}var n0=!0,Jl=(()=>{class e{static{this.__NG_ELEMENT_ID__=tS}static{this.__NG_ENV_ID__=n=>n}}return e})(),dh=class extends Jl{constructor(t){super(),this._lView=t}onDestroy(t){return Ay(this._lView,t),()=>ET(this._lView,t)}};function tS(){return new dh(X())}var Hn=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new be(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=D({token:e,providedIn:"root",factory:()=>new e})}}return e})();var hh=class extends K{constructor(t=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=t,_y()&&(this.destroyRef=g(Jl,{optional:!0})??void 0,this.pendingTasks=g(Hn,{optional:!0})??void 0)}emit(t){let n=Y(null);try{super.next(t)}finally{Y(n)}}subscribe(t,n,i){let r=t,o=n||(()=>null),s=i;if(t&&typeof t=="object"){let l=t;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),r&&(r=this.wrapInTimeout(r)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:r,error:o,complete:s});return t instanceof ge&&t.add(a),a}wrapInTimeout(t){return n=>{let i=this.pendingTasks?.add();setTimeout(()=>{t(n),i!==void 0&&this.pendingTasks?.remove(i)})}}},ae=hh;function El(...e){}function i0(e){let t,n;function i(){e=El;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),i()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),i()})),()=>i()}function Iv(e){return queueMicrotask(()=>e()),()=>{e=El}}var uf="isAngularZone",Il=uf+"_ID",nS=0,P=class e{constructor(t){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ae(!1),this.onMicrotaskEmpty=new ae(!1),this.onStable=new ae(!1),this.onError=new ae(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:o=n0}=t;if(typeof Zone>"u")throw new I(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&i,s.shouldCoalesceRunChangeDetection=r,s.callbackScheduled=!1,s.scheduleInRootZone=o,oS(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(uf)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new I(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new I(909,!1)}run(t,n,i){return this._inner.run(t,n,i)}runTask(t,n,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,t,iS,El,El);try{return o.runTask(s,n,i)}finally{o.cancelTask(s)}}runGuarded(t,n,i){return this._inner.runGuarded(t,n,i)}runOutsideAngular(t){return this._outer.run(t)}},iS={};function df(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function rS(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){i0(()=>{e.callbackScheduled=!1,fh(e),e.isCheckStableRunning=!0,df(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),fh(e)}function oS(e){let t=()=>{rS(e)},n=nS++;e._inner=e._inner.fork({name:"angular",properties:{[uf]:!0,[Il]:n,[Il+n]:!0},onInvokeTask:(i,r,o,s,a,l)=>{if(sS(l))return i.invokeTask(o,s,a,l);try{return Tv(e),i.invokeTask(o,s,a,l)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),Sv(e)}},onInvoke:(i,r,o,s,a,l,c)=>{try{return Tv(e),i.invoke(o,s,a,l,c)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!aS(l)&&t(),Sv(e)}},onHasTask:(i,r,o,s)=>{i.hasTask(o,s),r===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,fh(e),df(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(i,r,o,s)=>(i.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function fh(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function Tv(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Sv(e){e._nesting--,df(e)}var Tl=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ae,this.onMicrotaskEmpty=new ae,this.onStable=new ae,this.onError=new ae}run(t,n,i){return t.apply(n,i)}runGuarded(t,n,i){return t.apply(n,i)}runOutsideAngular(t){return t()}runTask(t,n,i,r){return t.apply(n,i)}};function sS(e){return r0(e,"__ignore_ng_zone__")}function aS(e){return r0(e,"__scheduler_tick__")}function r0(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}function lS(e="zone.js",t){return e==="noop"?new Tl:e==="zone.js"?new P(t):e}var un=class{constructor(){this._console=console}handleError(t){let n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&$d(t);for(;n&&$d(n);)n=$d(n);return n||null}},cS=new w("",{providedIn:"root",factory:()=>{let e=g(P),t=g(un);return n=>e.runOutsideAngular(()=>t.handleError(n))}});function uS(){return Lr(He(),X())}function Lr(e,t){return new Ge(bt(e,t))}var Ge=(()=>{class e{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=uS}}return e})();function dS(e){return e instanceof Ge?e.nativeElement:e}function hS(){return this._results[Symbol.iterator]()}var ph=class e{get changes(){return this._changes??=new ae}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=e.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=hS)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;let i=FI(t);(this._changesDetected=!PI(this._results,i,n))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function o0(e){return(e.flags&128)===128}var s0=new Map,fS=0;function pS(){return fS++}function gS(e){s0.set(e[Wl],e)}function gh(e){s0.delete(e[Wl])}var Mv="__ngContext__";function Ci(e,t){Fn(t)?(e[Mv]=t[Wl],gS(t)):e[Mv]=t}function a0(e){return c0(e[Wo])}function l0(e){return c0(e[Nt])}function c0(e){for(;e!==null&&!pn(e);)e=e[Nt];return e}var mh;function u0(e){mh=e}function mS(){if(mh!==void 0)return mh;if(typeof document<"u")return document;throw new I(210,!1)}var Xl=new w("",{providedIn:"root",factory:()=>_S}),_S="ng",hf=new w(""),Pe=new w("",{providedIn:"platform",factory:()=>"unknown"});var ff=new w("",{providedIn:"root",factory:()=>mS().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var vS="h",yS="b";var bS=()=>null;function pf(e,t,n=!1){return bS(e,t,n)}var d0=!1,wS=new w("",{providedIn:"root",factory:()=>d0});var il;function DS(){if(il===void 0&&(il=null,Rt.trustedTypes))try{il=Rt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return il}function Av(e){return DS()?.createScriptURL(e)||e}var Sl=class{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Gv})`}};function Vr(e){return e instanceof Sl?e.changingThisBreaksApplicationSecurity:e}function gf(e,t){let n=CS(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${Gv})`)}return n===t}function CS(e){return e instanceof Sl&&e.getTypeName()||null}var ES=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function h0(e){return e=String(e),e.match(ES)?e:"unsafe:"+e}var ec=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(ec||{});function IS(e){let t=p0();return t?t.sanitize(ec.URL,e)||"":gf(e,"URL")?Vr(e):h0(Ul(e))}function TS(e){let t=p0();if(t)return Av(t.sanitize(ec.RESOURCE_URL,e)||"");if(gf(e,"ResourceURL"))return Av(Vr(e));throw new I(904,!1)}function SS(e,t){return t==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||t==="href"&&(e==="base"||e==="link")?TS:IS}function f0(e,t,n){return SS(t,n)(e)}function p0(){let e=X();return e&&e[Ht].sanitizer}function g0(e){return e instanceof Function?e():e}function MS(e){return(e??g(Te)).get(Pe)==="browser"}var dn=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(dn||{}),AS;function mf(e,t){return AS(e,t)}function br(e,t,n,i,r){if(i!=null){let o,s=!1;pn(i)?o=i:Fn(i)&&(s=!0,i=i[fn]);let a=zt(i);e===0&&n!==null?r==null?w0(t,n,a):Ml(t,n,a,r||null,!0):e===1&&n!==null?Ml(t,n,a,r||null,!0):e===2?$S(t,a,s):e===3&&t.destroyNode(a),o!=null&&GS(t,e,o,n,r)}}function NS(e,t){return e.createText(t)}function RS(e,t,n){e.setValue(t,n)}function m0(e,t,n){return e.createElement(t,n)}function OS(e,t){_0(e,t),t[fn]=null,t[et]=null}function xS(e,t,n,i,r,o){i[fn]=r,i[et]=t,tc(e,i,n,1,r,o)}function _0(e,t){t[Ht].changeDetectionScheduler?.notify(9),tc(e,t,t[ve],2,null,null)}function kS(e){let t=e[Wo];if(!t)return Hd(e[B],e);for(;t;){let n=null;if(Fn(t))n=t[Wo];else{let i=t[nt];i&&(n=i)}if(!n){for(;t&&!t[Nt]&&t!==e;)Fn(t)&&Hd(t[B],t),t=t[Le];t===null&&(t=e),Fn(t)&&Hd(t[B],t),n=t&&t[Nt]}t=n}}function PS(e,t,n,i){let r=nt+i,o=n.length;i>0&&(n[r-1][Nt]=t),i<o-nt?(t[Nt]=n[r],ey(n,nt+i,t)):(n.push(t),t[Nt]=null),t[Le]=n;let s=t[_i];s!==null&&n!==s&&v0(s,t);let a=t[cn];a!==null&&a.insertView(e),oh(t),t[O]|=128}function v0(e,t){let n=e[Mr],i=t[Le];if(Fn(i))e[O]|=yl.HasTransplantedViews;else{let r=i[Le][vt];t[vt]!==r&&(e[O]|=yl.HasTransplantedViews)}n===null?e[Mr]=[t]:n.push(t)}function _f(e,t){let n=e[Mr],i=n.indexOf(t);n.splice(i,1)}function _h(e,t){if(e.length<=nt)return;let n=nt+t,i=e[n];if(i){let r=i[_i];r!==null&&r!==e&&_f(r,i),t>0&&(e[n-1][Nt]=i[Nt]);let o=gl(e,nt+t);OS(i[B],i);let s=o[cn];s!==null&&s.detachView(o[B]),i[Le]=null,i[Nt]=null,i[O]&=-129}return i}function y0(e,t){if(!(t[O]&256)){let n=t[ve];n.destroyNode&&tc(e,t,n,3,null,null),kS(t)}}function Hd(e,t){if(t[O]&256)return;let n=Y(null);try{t[O]&=-129,t[O]|=256,t[_t]&&fd(t[_t]),LS(e,t),FS(e,t),t[B].type===1&&t[ve].destroy();let i=t[_i];if(i!==null&&pn(t[Le])){i!==t[Le]&&_f(i,t);let r=t[cn];r!==null&&r.detachView(e)}gh(t)}finally{Y(n)}}function FS(e,t){let n=e.cleanup,i=t[_l];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else{let s=i[n[o+1]];n[o].call(s)}i!==null&&(t[_l]=null);let r=t[Pn];if(r!==null){t[Pn]=null;for(let o=0;o<r.length;o++){let s=r[o];s()}}}function LS(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let i=0;i<n.length;i+=2){let r=t[n[i]];if(!(r instanceof wi)){let o=n[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],l=o[s+1];Bt(4,a,l);try{l.call(a)}finally{Bt(5,a,l)}}else{Bt(4,r,o);try{o.call(r)}finally{Bt(5,r,o)}}}}}function b0(e,t,n){return VS(e,t.parent,n)}function VS(e,t,n){let i=t;for(;i!==null&&i.type&168;)t=i,i=t.parent;if(i===null)return n[fn];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:o}=e.data[i.directiveStart+r];if(o===$t.None||o===$t.Emulated)return null}return bt(i,n)}}function Ml(e,t,n,i,r){e.insertBefore(t,n,i,r)}function w0(e,t,n){e.appendChild(t,n)}function Nv(e,t,n,i,r){i!==null?Ml(e,t,n,i,r):w0(e,t,n)}function D0(e,t){return e.parentNode(t)}function jS(e,t){return e.nextSibling(t)}function C0(e,t,n){return US(e,t,n)}function BS(e,t,n){return e.type&40?bt(e,n):null}var US=BS,Rv;function vf(e,t,n,i){let r=b0(e,i,t),o=t[ve],s=i.parent||t[et],a=C0(s,i,t);if(r!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)Nv(o,r,n[l],a,!1);else Nv(o,r,n,a,!1);Rv!==void 0&&Rv(o,i,t,n,r)}function jo(e,t){if(t!==null){let n=t.type;if(n&3)return bt(t,e);if(n&4)return vh(-1,e[t.index]);if(n&8){let i=t.child;if(i!==null)return jo(e,i);{let r=e[t.index];return pn(r)?vh(-1,r):zt(r)}}else{if(n&128)return jo(e,t.next);if(n&32)return mf(t,e)()||zt(e[t.index]);{let i=E0(e,t);if(i!==null){if(Array.isArray(i))return i[0];let r=yi(e[vt]);return jo(r,i)}else return jo(e,t.next)}}}return null}function E0(e,t){if(t!==null){let i=e[vt][et],r=t.projection;return i.projection[r]}return null}function vh(e,t){let n=nt+e+1;if(n<t.length){let i=t[n],r=i[B].firstChild;if(r!==null)return jo(i,r)}return t[vi]}function $S(e,t,n){e.removeChild(null,t,n)}function yf(e,t,n,i,r,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=i[n.index],l=n.type;if(s&&t===0&&(a&&Ci(zt(a),i),n.flags|=2),(n.flags&32)!==32)if(l&8)yf(e,t,n.child,i,r,o,!1),br(t,e,r,a,o);else if(l&32){let c=mf(n,i),u;for(;u=c();)br(t,e,r,u,o);br(t,e,r,a,o)}else l&16?I0(e,t,i,n,r,o):br(t,e,r,a,o);n=s?n.projectionNext:n.next}}function tc(e,t,n,i,r,o){yf(n,i,e.firstChild,t,r,o,!1)}function HS(e,t,n){let i=t[ve],r=b0(e,n,t),o=n.parent||t[et],s=C0(o,n,t);I0(i,0,t,n,r,s)}function I0(e,t,n,i,r,o){let s=n[vt],l=s[et].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];br(t,e,r,u,o)}else{let c=l,u=s[Le];o0(i)&&(c.flags|=128),yf(e,t,c,u,r,o,!0)}}function GS(e,t,n,i,r){let o=n[vi],s=zt(n);o!==s&&br(t,e,i,o,r);for(let a=nt;a<n.length;a++){let l=n[a];tc(l[B],l,e,t,i,o)}}function zS(e,t,n,i,r){if(t)r?e.addClass(n,i):e.removeClass(n,i);else{let o=i.indexOf("-")===-1?void 0:dn.DashCase;r==null?e.removeStyle(n,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=dn.Important),e.setStyle(n,i,r,o))}}function WS(e,t,n){e.setAttribute(t,"style",n)}function T0(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function S0(e,t,n){let{mergedAttrs:i,classes:r,styles:o}=n;i!==null&&Xd(e,t,i),r!==null&&T0(e,t,r),o!==null&&WS(e,t,o)}var Gn={};function ue(e=1){M0(ke(),X(),Ai()+e,!1)}function M0(e,t,n,i){if(!i)if((t[O]&3)===3){let o=e.preOrderCheckHooks;o!==null&&cl(t,o,n)}else{let o=e.preOrderHooks;o!==null&&ul(t,o,0,n)}bi(n)}function Q(e,t=$.Default){let n=X();if(n===null)return _(e,t);let i=He();return Jy(i,n,$e(e),t)}function A0(){let e="invalid";throw new Error(e)}function N0(e,t,n,i,r,o){let s=Y(null);try{let a=null;r&Ln.SignalBased&&(a=t[i][nn]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),r&Ln.HasDecoratorInputTransform&&(o=e.inputTransforms[i].call(t,o)),e.setInput!==null?e.setInput(t,a,o,n,i):wy(t,a,i,o)}finally{Y(s)}}function KS(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let i=0;i<n.length;i++){let r=n[i];if(r<0)bi(~r);else{let o=r,s=n[++i],a=n[++i];xT(s,o);let l=t[o];a(2,l)}}}finally{bi(-1)}}function nc(e,t,n,i,r,o,s,a,l,c,u){let d=t.blueprint.slice();return d[fn]=r,d[O]=i|4|128|8|64,(c!==null||e&&e[O]&2048)&&(d[O]|=2048),Sy(d),d[Le]=d[Pr]=e,d[Ot]=n,d[Ht]=s||e&&e[Ht],d[ve]=a||e&&e[ve],d[Sr]=l||e&&e[Sr]||null,d[et]=o,d[Wl]=pS(),d[zo]=u,d[vy]=c,d[vt]=t.type==2?e[vt]:d,d}function Jo(e,t,n,i,r){let o=e.data[t];if(o===null)o=qS(e,t,n,i,r),OT()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=i,o.attrs=r;let s=NT();o.injectorIndex=s===null?-1:s.injectorIndex}return Zo(o,!0),o}function qS(e,t,n,i,r){let o=xy(),s=ky(),a=s?o:o&&o.parent,l=e.data[t]=eM(e,a,n,t,i,r);return e.firstChild===null&&(e.firstChild=l),o!==null&&(s?o.child==null&&l.parent!==null&&(o.child=l):o.next===null&&(o.next=l,l.prev=o)),l}function R0(e,t,n,i){if(n===0)return-1;let r=t.length;for(let o=0;o<n;o++)t.push(i),e.blueprint.push(i),e.data.push(null);return r}function O0(e,t,n,i,r){let o=Ai(),s=i&2;try{bi(-1),s&&t.length>Gt&&M0(e,t,Gt,!1),Bt(s?2:0,r),n(i,r)}finally{bi(o),Bt(s?3:1,r)}}function x0(e,t,n){if(by(t)){let i=Y(null);try{let r=t.directiveStart,o=t.directiveEnd;for(let s=r;s<o;s++){let a=e.data[s];if(a.contentQueries){let l=n[s];a.contentQueries(1,l,s)}}}finally{Y(i)}}}function k0(e,t,n){Ry()&&(sM(e,t,n,bt(n,t)),(n.flags&64)===64&&B0(e,t,n))}function P0(e,t,n=bt){let i=t.localNames;if(i!==null){let r=t.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],a=s===-1?n(t,e):e[s];e[r++]=a}}}function F0(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=bf(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function bf(e,t,n,i,r,o,s,a,l,c,u){let d=Gt+i,h=d+r,f=YS(d,h),p=typeof c=="function"?c():c;return f[B]={type:e,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:t,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:u}}function YS(e,t){let n=[];for(let i=0;i<t;i++)n.push(i<e?null:Gn);return n}function QS(e,t,n,i){let o=i.get(wS,d0)||n===$t.ShadowDom,s=e.selectRootElement(t,o);return ZS(s),s}function ZS(e){JS(e)}var JS=()=>null;function XS(e,t,n,i){let r=H0(t);r.push(n),e.firstCreatePass&&G0(e).push(i,r.length-1)}function eM(e,t,n,i,r,o){let s=t?t.injectorIndex:-1,a=0;return Oy()&&(a|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Ov(e,t,n,i,r){for(let o in t){if(!t.hasOwnProperty(o))continue;let s=t[o];if(s===void 0)continue;i??={};let a,l=Ln.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let c=o;if(r!==null){if(!r.hasOwnProperty(o))continue;c=r[o]}e===0?xv(i,n,c,a,l):xv(i,n,c,a)}return i}function xv(e,t,n,i,r){let o;e.hasOwnProperty(n)?(o=e[n]).push(t,i):o=e[n]=[t,i],r!==void 0&&o.push(r)}function tM(e,t,n){let i=t.directiveStart,r=t.directiveEnd,o=e.data,s=t.attrs,a=[],l=null,c=null;for(let u=i;u<r;u++){let d=o[u],h=n?n.get(d):null,f=h?h.inputs:null,p=h?h.outputs:null;l=Ov(0,d.inputs,u,l,f),c=Ov(1,d.outputs,u,c,p);let m=l!==null&&s!==null&&!Zh(t)?_M(l,u,s):null;a.push(m)}l!==null&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=c}function nM(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function L0(e,t,n,i,r,o,s,a){let l=bt(t,n),c=t.inputs,u;!a&&c!=null&&(u=c[i])?(wf(e,n,u,i,r),Kl(t)&&iM(n,t.index)):t.type&3?(i=nM(i),r=s!=null?s(r,t.value||"",i):r,o.setProperty(l,i,r)):t.type&12}function iM(e,t){let n=$n(t,e);n[O]&16||(n[O]|=64)}function V0(e,t,n,i){if(Ry()){let r=i===null?null:{"":-1},o=lM(e,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&j0(e,t,n,s,r,a),r&&cM(n,i,r)}n.mergedAttrs=Ho(n.mergedAttrs,n.attrs)}function j0(e,t,n,i,r,o){for(let c=0;c<i.length;c++)ch(Cl(n,t),e,i[c].type);dM(n,e.data.length,i.length);for(let c=0;c<i.length;c++){let u=i[c];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,l=R0(e,t,i.length,null);for(let c=0;c<i.length;c++){let u=i[c];n.mergedAttrs=Ho(n.mergedAttrs,u.hostAttrs),hM(e,n,t,l,u),uM(l,u,r),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}tM(e,n,o)}function rM(e,t,n,i,r){let o=r.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;oM(s)!=a&&s.push(a),s.push(n,i,o)}}function oM(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function sM(e,t,n,i){let r=n.directiveStart,o=n.directiveEnd;Kl(n)&&fM(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||Cl(n,t),Ci(i,t);let s=n.initialInputs;for(let a=r;a<o;a++){let l=e.data[a],c=Di(t,e,a,n);if(Ci(c,t),s!==null&&mM(t,a-r,c,l,n,s),Vn(l)){let u=$n(n.index,t);u[Ot]=Di(t,e,a,n)}}}function B0(e,t,n){let i=n.directiveStart,r=n.directiveEnd,o=n.index,s=kT();try{bi(o);for(let a=i;a<r;a++){let l=e.data[a],c=t[a];sh(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&aM(l,c)}}finally{bi(-1),sh(s)}}function aM(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function lM(e,t){let n=e.directiveRegistry,i=null,r=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(sy(t,s.selectors,!1))if(i||(i=[]),Vn(s))if(s.findHostDirectiveDefs!==null){let a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s);let l=a.length;yh(e,t,l)}else i.unshift(s),yh(e,t,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return i===null?null:[i,r]}function yh(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function cM(e,t,n){if(t){let i=e.localNames=[];for(let r=0;r<t.length;r+=2){let o=n[t[r+1]];if(o==null)throw new I(-301,!1);i.push(t[r],o)}}}function uM(e,t,n){if(n){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)n[t.exportAs[i]]=e;Vn(t)&&(n[""]=e)}}function dM(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function hM(e,t,n,i,r){e.data[i]=r;let o=r.factory||(r.factory=Cr(r.type,!0)),s=new wi(o,Vn(r),Q);e.blueprint[i]=s,n[i]=s,rM(e,t,i,R0(e,n,r.hostVars,Gn),r)}function fM(e,t,n){let i=bt(t,e),r=F0(n),o=e[Ht].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=ic(e,nc(e,r,null,s,i,t,null,o.createRenderer(i,n),null,null,null));e[t.index]=a}function pM(e,t,n,i,r,o){let s=bt(e,t);gM(t[ve],s,o,e.value,n,i,r)}function gM(e,t,n,i,r,o,s){if(o==null)e.removeAttribute(t,r,n);else{let a=s==null?Ul(o):s(o,i||"",r);e.setAttribute(t,r,a,n)}}function mM(e,t,n,i,r,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;){let l=s[a++],c=s[a++],u=s[a++],d=s[a++];N0(i,n,l,c,u,d)}}function _M(e,t,n){let i=null,r=0;for(;r<n.length;){let o=n[r];if(o===0){r+=4;continue}else if(o===5){r+=2;continue}if(typeof o=="number")break;if(e.hasOwnProperty(o)){i===null&&(i=[]);let s=e[o];for(let a=0;a<s.length;a+=3)if(s[a]===t){i.push(o,s[a+1],s[a+2],n[r+1]);break}}r+=2}return i}function U0(e,t,n,i){return[e,!0,0,t,null,i,null,n,null,null]}function $0(e,t){let n=e.contentQueries;if(n!==null){let i=Y(null);try{for(let r=0;r<n.length;r+=2){let o=n[r],s=n[r+1];if(s!==-1){let a=e.data[s];tf(o),a.contentQueries(2,t[s],s)}}}finally{Y(i)}}}function ic(e,t){return e[Wo]?e[_v][Nt]=t:e[Wo]=t,e[_v]=t,t}function bh(e,t,n){tf(0);let i=Y(null);try{t(e,n)}finally{Y(i)}}function H0(e){return e[_l]??=[]}function G0(e){return e.cleanup??=[]}function z0(e,t){let n=e[Sr],i=n?n.get(un,null):null;i&&i.handleError(t)}function wf(e,t,n,i,r){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],l=n[o++],c=t[s],u=e.data[s];N0(u,c,i,a,l,r)}}function vM(e,t,n){let i=Iy(t,e);RS(e[ve],i,n)}function yM(e,t){let n=$n(t,e),i=n[B];bM(i,n);let r=n[fn];r!==null&&n[zo]===null&&(n[zo]=pf(r,n[Sr])),Df(i,n,n[Ot])}function bM(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function Df(e,t,n){nf(t);try{let i=e.viewQuery;i!==null&&bh(1,i,n);let r=e.template;r!==null&&O0(e,t,r,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[cn]?.finishViewCreation(e),e.staticContentQueries&&$0(e,t),e.staticViewQueries&&bh(2,e.viewQuery,n);let o=e.components;o!==null&&wM(t,o)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),i}finally{t[O]&=-5,rf()}}function wM(e,t){for(let n=0;n<t.length;n++)yM(e,t[n])}function W0(e,t,n,i){let r=Y(null);try{let o=t.tView,a=e[O]&4096?4096:16,l=nc(e,o,n,a,null,t,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),c=e[t.index];l[_i]=c;let u=e[cn];return u!==null&&(l[cn]=u.createEmbeddedView(o)),Df(o,l,n),l}finally{Y(r)}}function wh(e,t){return!t||t.firstChild===null||o0(e)}function K0(e,t,n,i=!0){let r=t[B];if(PS(r,t,e,n),i){let s=vh(n,e),a=t[ve],l=D0(a,e[vi]);l!==null&&xS(r,e[et],a,t,l,s)}let o=t[zo];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Al(e,t,n,i,r=!1){for(;n!==null;){if(n.type===128){n=r?n.projectionNext:n.next;continue}let o=t[n.index];o!==null&&i.push(zt(o)),pn(o)&&DM(o,i);let s=n.type;if(s&8)Al(e,t,n.child,i);else if(s&32){let a=mf(n,t),l;for(;l=a();)i.push(l)}else if(s&16){let a=E0(t,n);if(Array.isArray(a))i.push(...a);else{let l=yi(t[vt]);Al(l[B],l,a,i,!0)}}n=r?n.projectionNext:n.next}return i}function DM(e,t){for(let n=nt;n<e.length;n++){let i=e[n],r=i[B].firstChild;r!==null&&Al(i[B],i,r,t)}e[vi]!==e[fn]&&t.push(e[vi])}var q0=[];function CM(e){return e[_t]??EM(e)}function EM(e){let t=q0.pop()??Object.create(TM);return t.lView=e,t}function IM(e){e.lView[_t]!==e&&(e.lView=null,q0.push(e))}var TM=U(y({},ko),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Yl(e.lView)},consumerOnSignalRead(){this.lView[_t]=this}});function SM(e){let t=e[_t]??Object.create(MM);return t.lView=e,t}var MM=U(y({},ko),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{let t=yi(e.lView);for(;t&&!Y0(t[B]);)t=yi(t);t&&My(t)},consumerOnSignalRead(){this.lView[_t]=this}});function Y0(e){return e.type!==2}var AM=100;function Q0(e,t=!0,n=0){let i=e[Ht],r=i.rendererFactory,o=!1;o||r.begin?.();try{NM(e,n)}catch(s){throw t&&z0(e,s),s}finally{o||(r.end?.(),i.inlineEffectRunner?.flush())}}function NM(e,t){let n=Fy();try{yv(!0),Dh(e,t);let i=0;for(;ql(e);){if(i===AM)throw new I(103,!1);i++,Dh(e,1)}}finally{yv(n)}}function RM(e,t,n,i){let r=t[O];if((r&256)===256)return;let o=!1,s=!1;!o&&t[Ht].inlineEffectRunner?.flush(),nf(t);let a=!0,l=null,c=null;o||(Y0(e)?(c=CM(t),l=Ia(c)):S_()===null?(a=!1,c=SM(t),l=Ia(c)):t[_t]&&(fd(t[_t]),t[_t]=null));try{Sy(t),RT(e.bindingStartIndex),n!==null&&O0(e,t,n,2,i);let u=(r&3)===3;if(!o)if(u){let f=e.preOrderCheckHooks;f!==null&&cl(t,f,null)}else{let f=e.preOrderHooks;f!==null&&ul(t,f,0,null),jd(t,0)}if(s||OM(t),Z0(t,0),e.contentQueries!==null&&$0(e,t),!o)if(u){let f=e.contentCheckHooks;f!==null&&cl(t,f)}else{let f=e.contentHooks;f!==null&&ul(t,f,1),jd(t,1)}KS(e,t);let d=e.components;d!==null&&X0(t,d,0);let h=e.viewQuery;if(h!==null&&bh(2,h,i),!o)if(u){let f=e.viewCheckHooks;f!==null&&cl(t,f)}else{let f=e.viewHooks;f!==null&&ul(t,f,2),jd(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[Vd]){for(let f of t[Vd])f();t[Vd]=null}o||(t[O]&=-73)}catch(u){throw o||Yl(t),u}finally{c!==null&&(dd(c,l),a&&IM(c)),rf()}}function Z0(e,t){for(let n=a0(e);n!==null;n=l0(n))for(let i=nt;i<n.length;i++){let r=n[i];J0(r,t)}}function OM(e){for(let t=a0(e);t!==null;t=l0(t)){if(!(t[O]&yl.HasTransplantedViews))continue;let n=t[Mr];for(let i=0;i<n.length;i++){let r=n[i];My(r)}}}function xM(e,t,n){let i=$n(t,e);J0(i,n)}function J0(e,t){ef(e)&&Dh(e,t)}function Dh(e,t){let i=e[B],r=e[O],o=e[_t],s=!!(t===0&&r&16);if(s||=!!(r&64&&t===0),s||=!!(r&1024),s||=!!(o?.dirty&&hd(o)),s||=!1,o&&(o.dirty=!1),e[O]&=-9217,s)RM(i,e,i.template,e[Ot]);else if(r&8192){Z0(e,1);let a=i.components;a!==null&&X0(e,a,1)}}function X0(e,t,n){for(let i=0;i<t.length;i++)xM(e,t[i],n)}function Cf(e,t){let n=Fy()?64:1088;for(e[Ht].changeDetectionScheduler?.notify(t);e;){e[O]|=n;let i=yi(e);if(ih(e)&&!i)return e;e=i}return null}var Ei=class{get rootNodes(){let t=this._lView,n=t[B];return Al(n,t,n.firstChild,[])}constructor(t,n,i=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ot]}set context(t){this._lView[Ot]=t}get destroyed(){return(this._lView[O]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[Le];if(pn(t)){let n=t[vl],i=n?n.indexOf(this):-1;i>-1&&(_h(t,i),gl(n,i))}this._attachedToViewContainer=!1}y0(this._lView[B],this._lView)}onDestroy(t){Ay(this._lView,t)}markForCheck(){Cf(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[O]&=-129}reattach(){oh(this._lView),this._lView[O]|=128}detectChanges(){this._lView[O]|=1024,Q0(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new I(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=ih(this._lView),n=this._lView[_i];n!==null&&!t&&_f(n,this._lView),_0(this._lView[B],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new I(902,!1);this._appRef=t;let n=ih(this._lView),i=this._lView[_i];i!==null&&!n&&v0(i,this._lView),oh(this._lView)}},jn=(()=>{class e{static{this.__NG_ELEMENT_ID__=FM}}return e})(),kM=jn,PM=class extends kM{constructor(t,n,i){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,i){let r=W0(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:i});return new Ei(r)}};function FM(){return Ef(He(),X())}function Ef(e,t){return e.type&4?new PM(t,e,Lr(e,t)):null}var b3=new RegExp(`^(\\d+)*(${yS}|${vS})*(.*)`);var LM=()=>null;function Ch(e,t){return LM(e,t)}var Ar=class{},If=new w("",{providedIn:"root",factory:()=>!1});var eb=new w(""),tb=new w(""),Eh=class{},Nl=class{};function VM(e){let t=Error(`No component factory found for ${Xe(e)}.`);return t[jM]=e,t}var jM="ngComponent";var Ih=class{resolveComponentFactory(t){throw VM(t)}},Nr=class{static{this.NULL=new Ih}},Rr=class{},Ni=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>BM()}}return e})();function BM(){let e=X(),t=He(),n=$n(t.index,e);return(Fn(n)?n:e)[ve]}var UM=(()=>{class e{static{this.\u0275prov=D({token:e,providedIn:"root",factory:()=>null})}}return e})();function Th(e,t,n){let i=n?e.styles:null,r=n?e.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)r=Yd(r,a);else if(o==2){let l=a,c=t[++s];i=Yd(i,l+": "+c+";")}}n?e.styles=i:e.stylesWithoutHost=i,n?e.classes=r:e.classesWithoutHost=r}var Rl=class extends Nr{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=ln(t);return new Ii(n,this.ngModule)}};function kv(e,t){let n=[];for(let i in e){if(!e.hasOwnProperty(i))continue;let r=e[i];if(r===void 0)continue;let o=Array.isArray(r),s=o?r[0]:r,a=o?r[1]:Ln.None;t?n.push({propName:s,templateName:i,isSignal:(a&Ln.SignalBased)!==0}):n.push({propName:s,templateName:i})}return n}function $M(e){let t=e.toLowerCase();return t==="svg"?yT:t==="math"?bT:null}var Ii=class extends Nl{get inputs(){let t=this.componentDef,n=t.inputTransforms,i=kv(t.inputs,!0);if(n!==null)for(let r of i)n.hasOwnProperty(r.propName)&&(r.transform=n[r.propName]);return i}get outputs(){return kv(this.componentDef.outputs,!1)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=ZI(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,i,r){let o=Y(null);try{r=r||this.ngModule;let s=r instanceof Me?r:r?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new ah(t,s):t,l=a.get(Rr,null);if(l===null)throw new I(407,!1);let c=a.get(UM,null),u=a.get(Ar,null),d={rendererFactory:l,sanitizer:c,inlineEffectRunner:null,changeDetectionScheduler:u},h=l.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=i?QS(h,i,this.componentDef.encapsulation,a):m0(h,f,$M(f)),m=512;this.componentDef.signals?m|=4096:this.componentDef.onPush||(m|=16);let b=null;p!==null&&(b=pf(p,a,!0));let T=bf(0,null,null,1,0,null,null,null,null,null,null),j=nc(null,T,null,m,null,null,d,h,a,null,b);nf(j);let E,ne,pe=null;try{let De=this.componentDef,en,rd=null;De.findHostDirectiveDefs?(en=[],rd=new Map,De.findHostDirectiveDefs(De,en,rd),en.push(De)):en=[De];let O1=HM(j,p);pe=GM(O1,p,De,en,j,d,h),ne=Ty(T,Gt),p&&KM(h,De,p,i),n!==void 0&&qM(ne,this.ngContentSelectors,n),E=WM(pe,De,en,rd,j,[YM]),Df(T,j,null)}catch(De){throw pe!==null&&gh(pe),gh(j),De}finally{rf()}return new Sh(this.componentType,E,Lr(ne,j),j,ne)}finally{Y(o)}}},Sh=class extends Eh{constructor(t,n,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Ei(r,void 0,!1),this.componentType=t}setInput(t,n){let i=this._tNode.inputs,r;if(i!==null&&(r=i[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let o=this._rootLView;wf(o[B],o,r,t,n),this.previousInputValues.set(t,n);let s=$n(this._tNode.index,o);Cf(s,1)}}get injector(){return new mi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function HM(e,t){let n=e[B],i=Gt;return e[i]=t,Jo(n,i,2,"#host",null)}function GM(e,t,n,i,r,o,s){let a=r[B];zM(i,e,t,s);let l=null;t!==null&&(l=pf(t,r[Sr]));let c=o.rendererFactory.createRenderer(t,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=nc(r,F0(n),null,u,r[e.index],e,o,c,null,null,l);return a.firstCreatePass&&yh(a,e,i.length-1),ic(r,d),r[e.index]=d}function zM(e,t,n,i){for(let r of e)t.mergedAttrs=Ho(t.mergedAttrs,r.hostAttrs);t.mergedAttrs!==null&&(Th(t,t.mergedAttrs,!0),n!==null&&S0(i,n,t))}function WM(e,t,n,i,r,o){let s=He(),a=r[B],l=bt(s,r);j0(a,r,s,n,null,i);for(let u=0;u<n.length;u++){let d=s.directiveStart+u,h=Di(r,a,d,s);Ci(h,r)}B0(a,r,s),l&&Ci(l,r);let c=Di(r,a,s.directiveStart+s.componentOffset,s);if(e[Ot]=r[Ot]=c,o!==null)for(let u of o)u(c,t);return x0(a,s,r),c}function KM(e,t,n,i){if(i)Xd(e,n,["ng-version","18.2.9"]);else{let{attrs:r,classes:o}=JI(t.selectors[0]);r&&Xd(e,n,r),o&&o.length>0&&T0(e,n,o.join(" "))}}function qM(e,t,n){let i=e.projection=[];for(let r=0;r<t.length;r++){let o=n[r];i.push(o!=null?Array.from(o):null)}}function YM(){let e=He();lf(X()[B],e)}var zn=(()=>{class e{static{this.__NG_ELEMENT_ID__=QM}}return e})();function QM(){let e=He();return ib(e,X())}var ZM=zn,nb=class extends ZM{constructor(t,n,i){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=i}get element(){return Lr(this._hostTNode,this._hostLView)}get injector(){return new mi(this._hostTNode,this._hostLView)}get parentInjector(){let t=cf(this._hostTNode,this._hostLView);if(Wy(t)){let n=Dl(t,this._hostLView),i=wl(t),r=n[B].data[i+8];return new mi(r,n)}else return new mi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=Pv(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-nt}createEmbeddedView(t,n,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=Ch(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,r,wh(this._hostTNode,s)),a}createComponent(t,n,i,r,o){let s=t&&!gT(t),a;if(s)a=n;else{let p=n||{};a=p.index,i=p.injector,r=p.projectableNodes,o=p.environmentInjector||p.ngModuleRef}let l=s?t:new Ii(ln(t)),c=i||this.parentInjector;if(!o&&l.ngModule==null){let m=(s?c:this.parentInjector).get(Me,null);m&&(o=m)}let u=ln(l.componentType??{}),d=Ch(this._lContainer,u?.id??null),h=d?.firstChild??null,f=l.create(c,r,h,o);return this.insertImpl(f.hostView,a,wh(this._hostTNode,d)),f}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,i){let r=t._lView;if(DT(r)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let l=r[Le],c=new nb(l,l[et],l[Le]);c.detach(c.indexOf(t))}}let o=this._adjustIndex(n),s=this._lContainer;return K0(s,r,o,i),t.attachToViewContainerRef(),ey(Gd(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=Pv(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),i=_h(this._lContainer,n);i&&(gl(Gd(this._lContainer),n),y0(i[B],i))}detach(t){let n=this._adjustIndex(t,-1),i=_h(this._lContainer,n);return i&&gl(Gd(this._lContainer),n)!=null?new Ei(i):null}_adjustIndex(t,n=0){return t??this.length+n}};function Pv(e){return e[vl]}function Gd(e){return e[vl]||(e[vl]=[])}function ib(e,t){let n,i=t[e.index];return pn(i)?n=i:(n=U0(i,t,null,e),t[e.index]=n,ic(t,n)),XM(n,t,e,i),new nb(n,e,t)}function JM(e,t){let n=e[ve],i=n.createComment(""),r=bt(t,e),o=D0(n,r);return Ml(n,o,i,jS(n,r),!1),i}var XM=nA,eA=()=>!1;function tA(e,t,n){return eA(e,t,n)}function nA(e,t,n,i){if(e[vi])return;let r;n.type&8?r=zt(i):r=JM(t,n),e[vi]=r}var Mh=class e{constructor(t){this.queryList=t,this.matches=null}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},Ah=class e{constructor(t=[]){this.queries=t}createEmbeddedView(t){let n=t.queries;if(n!==null){let i=t.contentQueries!==null?t.contentQueries[0]:n.length,r=[];for(let o=0;o<i;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];r.push(a.clone())}return new e(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)Tf(t,n).matches!==null&&this.queries[n].setDirty()}},Nh=class{constructor(t,n,i=null){this.flags=n,this.read=i,typeof t=="string"?this.predicate=uA(t):this.predicate=t}},Rh=class e{constructor(t=[]){this.queries=t}elementStart(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let i=0;i<this.length;i++){let r=n!==null?n.length:0,o=this.getByIndex(i).embeddedTView(t,r);o&&(o.indexInDeclarationView=i,n!==null?n.push(o):n=[o])}return n!==null?new e(n):null}template(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},Oh=class e{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,i=t.parent;for(;i!==null&&i.type&8&&i.index!==n;)i=i.parent;return n===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(t,n){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(t,n,iA(n,o)),this.matchTNodeWithReadOption(t,n,dl(n,t,o,!1,!1))}else i===jn?n.type&4&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,dl(n,t,i,!1,!1))}matchTNodeWithReadOption(t,n,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===Ge||r===zn||r===jn&&n.type&4)this.addMatch(n.index,-2);else{let o=dl(n,t,r,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,i)}}addMatch(t,n){this.matches===null?this.matches=[t,n]:this.matches.push(t,n)}};function iA(e,t){let n=e.localNames;if(n!==null){for(let i=0;i<n.length;i+=2)if(n[i]===t)return n[i+1]}return null}function rA(e,t){return e.type&11?Lr(e,t):e.type&4?Ef(e,t):null}function oA(e,t,n,i){return n===-1?rA(t,e):n===-2?sA(e,t,i):Di(e,e[B],n,t)}function sA(e,t,n){if(n===Ge)return Lr(t,e);if(n===jn)return Ef(t,e);if(n===zn)return ib(t,e)}function rb(e,t,n,i){let r=t[cn].queries[i];if(r.matches===null){let o=e.data,s=n.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let c=s[l];if(c<0)a.push(null);else{let u=o[c];a.push(oA(t,u,s[l+1],n.metadata.read))}}r.matches=a}return r.matches}function xh(e,t,n,i){let r=e.queries.getByIndex(n),o=r.matches;if(o!==null){let s=rb(e,t,r,n);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)i.push(s[a/2]);else{let c=o[a+1],u=t[-l];for(let d=nt;d<u.length;d++){let h=u[d];h[_i]===h[Le]&&xh(h[B],h,c,i)}if(u[Mr]!==null){let d=u[Mr];for(let h=0;h<d.length;h++){let f=d[h];xh(f[B],f,c,i)}}}}}return i}function aA(e,t){return e[cn].queries[t].queryList}function lA(e,t,n){let i=new ph((n&4)===4);return XS(e,t,i,i.destroy),(t[cn]??=new Ah).queries.push(new Mh(i))-1}function cA(e,t,n){let i=ke();return i.firstCreatePass&&(dA(i,new Nh(e,t,n),-1),(t&2)===2&&(i.staticViewQueries=!0)),lA(i,X(),t)}function uA(e){return e.split(",").map(t=>t.trim())}function dA(e,t,n){e.queries===null&&(e.queries=new Rh),e.queries.track(new Oh(t,n))}function Tf(e,t){return e.queries.getByIndex(t)}function hA(e,t){let n=e[B],i=Tf(n,t);return i.crossesNgTemplate?xh(n,e,t,[]):rb(n,e,i,t)}var Fv=new Set;function jr(e){Fv.has(e)||(Fv.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function fA(e){return typeof e=="function"&&e[nn]!==void 0}function rc(e,t){jr("NgSignals");let n=V_(e),i=n[nn];return t?.equal&&(i.equal=t.equal),n.set=r=>pd(i,r),n.update=r=>j_(i,r),n.asReadonly=pA.bind(n),n}function pA(){let e=this[nn];if(e.readonlyFn===void 0){let t=()=>this();t[nn]=e,e.readonlyFn=t}return e.readonlyFn}function ob(e){return fA(e)&&typeof e.set=="function"}function gA(e){let t=[],n=new Map;function i(r){let o=n.get(r);if(!o){let s=e(r);n.set(r,o=s.then(yA))}return o}return Ol.forEach((r,o)=>{let s=[];r.templateUrl&&s.push(i(r.templateUrl).then(c=>{r.template=c}));let a=typeof r.styles=="string"?[r.styles]:r.styles||[];if(r.styles=a,r.styleUrl&&r.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(r.styleUrls?.length){let c=r.styles.length,u=r.styleUrls;r.styleUrls.forEach((d,h)=>{a.push(""),s.push(i(d).then(f=>{a[c+h]=f,u.splice(u.indexOf(d),1),u.length==0&&(r.styleUrls=void 0)}))})}else r.styleUrl&&s.push(i(r.styleUrl).then(c=>{a.push(c),r.styleUrl=void 0}));let l=Promise.all(s).then(()=>bA(o));t.push(l)}),_A(),Promise.all(t).then(()=>{})}var Ol=new Map,mA=new Set;function _A(){let e=Ol;return Ol=new Map,e}function vA(){return Ol.size===0}function yA(e){return typeof e=="string"?e:e.text()}function bA(e){mA.delete(e)}function wA(e){return Object.getPrototypeOf(e.prototype).constructor}function Ri(e){let t=wA(e.type),n=!0,i=[e];for(;t;){let r;if(Vn(e))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new I(903,!1);r=t.\u0275dir}if(r){if(n){i.push(r);let s=e;s.inputs=rl(e.inputs),s.inputTransforms=rl(e.inputTransforms),s.declaredInputs=rl(e.declaredInputs),s.outputs=rl(e.outputs);let a=r.hostBindings;a&&TA(e,a);let l=r.viewQuery,c=r.contentQueries;if(l&&EA(e,l),c&&IA(e,c),DA(e,r),mI(e.outputs,r.outputs),Vn(r)&&r.data.animation){let u=e.data;u.animation=(u.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===Ri&&(n=!1)}}t=Object.getPrototypeOf(t)}CA(i)}function DA(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let i=t.inputs[n];if(i!==void 0&&(e.inputs[n]=i,e.declaredInputs[n]=t.declaredInputs[n],t.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!t.inputTransforms.hasOwnProperty(r))continue;e.inputTransforms??={},e.inputTransforms[r]=t.inputTransforms[r]}}}function CA(e){let t=0,n=null;for(let i=e.length-1;i>=0;i--){let r=e[i];r.hostVars=t+=r.hostVars,r.hostAttrs=Ho(r.hostAttrs,n=Ho(n,r.hostAttrs))}}function rl(e){return e===Er?{}:e===Je?[]:e}function EA(e,t){let n=e.viewQuery;n?e.viewQuery=(i,r)=>{t(i,r),n(i,r)}:e.viewQuery=t}function IA(e,t){let n=e.contentQueries;n?e.contentQueries=(i,r,o)=>{t(i,r,o),n(i,r,o)}:e.contentQueries=t}function TA(e,t){let n=e.hostBindings;n?e.hostBindings=(i,r)=>{t(i,r),n(i,r)}:e.hostBindings=t}function Sf(e){let t=e.inputConfig,n={};for(let i in t)if(t.hasOwnProperty(i)){let r=t[i];Array.isArray(r)&&r[3]&&(n[i]=r[3])}e.inputTransforms=n}var Bn=class{},Ko=class{};var xl=class extends Bn{constructor(t,n,i,r=!0){super(),this.ngModuleType=t,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Rl(this);let o=uy(t);this._bootstrapComponents=g0(o.bootstrap),this._r3Injector=t0(t,n,[{provide:Bn,useValue:this},{provide:Nr,useValue:this.componentFactoryResolver},...i],Xe(t),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},kl=class extends Ko{constructor(t){super(),this.moduleType=t}create(t){return new xl(this.moduleType,t,[])}};function SA(e,t,n){return new xl(e,t,n,!1)}var kh=class extends Bn{constructor(t){super(),this.componentFactoryResolver=new Rl(this),this.instance=null;let n=new Go([...t.providers,{provide:Bn,useValue:this},{provide:Nr,useValue:this.componentFactoryResolver}],t.parent||zl(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function oc(e,t,n=null){return new kh({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}function sb(e){return AA(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function MA(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{let n=e[Symbol.iterator](),i;for(;!(i=n.next()).done;)t(i.value)}}function AA(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function Br(e,t,n){let i=e[t];return Object.is(i,n)?!1:(e[t]=n,!0)}function NA(e){return(e.flags&32)===32}function RA(e,t,n,i,r,o,s,a,l){let c=t.consts,u=Jo(t,e,4,s||null,a||null);V0(t,n,u,bl(c,l)),lf(t,u);let d=u.tView=bf(2,u,i,r,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return t.queries!==null&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}function ab(e,t,n,i,r,o,s,a,l,c){let u=n+Gt,d=t.firstCreatePass?RA(u,t,e,i,r,o,s,a,l):t.data[u];Zo(d,!1);let h=OA(t,e,d,n);sf()&&vf(t,e,h,d),Ci(h,e);let f=U0(h,e,h,d);return e[u]=f,ic(e,f),tA(f,d,e),Xh(d)&&k0(t,e,d),l!=null&&P0(e,d,c),d}function gn(e,t,n,i,r,o,s,a){let l=X(),c=ke(),u=bl(c.consts,o);return ab(l,c,e,t,n,i,r,u,s,a),gn}var OA=xA;function xA(e,t,n,i){return af(!0),t[ve].createComment("")}var an=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(an||{}),lb=(()=>{class e{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=D({token:e,providedIn:"root",factory:()=>new e})}}return e})(),Ph=class e{constructor(){this.ngZone=g(P),this.scheduler=g(Ar),this.errorHandler=g(un,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[an.EarlyRead,an.Write,an.MixedReadWrite,an.Read]}execute(){this.executing=!0;for(let t of e.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[t]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[t](n.pipelinedValue))}catch(i){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let t of this.sequences)t.afterRun(),t.once&&(this.sequences.delete(t),t.destroy());for(let t of this.deferredRegistrations)this.sequences.add(t);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(t){this.executing?this.deferredRegistrations.add(t):(this.sequences.add(t),this.scheduler.notify(6))}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}static{this.\u0275prov=D({token:e,providedIn:"root",factory:()=>new e})}},Fh=class{constructor(t,n,i,r){this.impl=t,this.hooks=n,this.once=i,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=r?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function Ur(e,t){!t?.injector&&fT(Ur);let n=t?.injector??g(Te);return MS(n)?(jr("NgAfterNextRender"),PA(e,n,t,!0)):FA}function kA(e,t){if(e instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[t]=e,n}else return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function PA(e,t,n,i){let r=t.get(lb);r.impl??=t.get(Ph);let o=n?.phase??an.MixedReadWrite,s=n?.manualCleanup!==!0?t.get(Jl):null,a=new Fh(r.impl,kA(e,o),i,s);return r.impl.register(a),a}var FA={destroy(){}};function $r(e,t,n,i){let r=X(),o=Ql();if(Br(r,o,t)){let s=ke(),a=of();pM(a,r,e,t,n,i)}return $r}function LA(e,t,n,i){return Br(e,Ql(),n)?t+Ul(n)+i:Gn}function ol(e,t){return e<<17|t<<2}function Ti(e){return e>>17&32767}function VA(e){return(e&2)==2}function jA(e,t){return e&131071|t<<17}function Lh(e){return e|2}function Or(e){return(e&131068)>>2}function zd(e,t){return e&-131069|t<<2}function BA(e){return(e&1)===1}function Vh(e){return e|1}function UA(e,t,n,i,r,o){let s=o?t.classBindings:t.styleBindings,a=Ti(s),l=Or(s);e[i]=n;let c=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||Qo(d,u)>0)&&(c=!0)}else u=n;if(r)if(l!==0){let h=Ti(e[a+1]);e[i+1]=ol(h,a),h!==0&&(e[h+1]=zd(e[h+1],i)),e[a+1]=jA(e[a+1],i)}else e[i+1]=ol(a,0),a!==0&&(e[a+1]=zd(e[a+1],i)),a=i;else e[i+1]=ol(l,0),a===0?a=i:e[l+1]=zd(e[l+1],i),l=i;c&&(e[i+1]=Lh(e[i+1])),Lv(e,u,i,!0),Lv(e,u,i,!1),$A(t,u,e,i,o),s=ol(a,l),o?t.classBindings=s:t.styleBindings=s}function $A(e,t,n,i,r){let o=r?e.residualClasses:e.residualStyles;o!=null&&typeof t=="string"&&Qo(o,t)>=0&&(n[i+1]=Vh(n[i+1]))}function Lv(e,t,n,i){let r=e[n+1],o=t===null,s=i?Ti(r):Or(r),a=!1;for(;s!==0&&(a===!1||o);){let l=e[s],c=e[s+1];HA(l,t)&&(a=!0,e[s+1]=i?Vh(c):Lh(c)),s=i?Ti(c):Or(c)}a&&(e[n+1]=i?Lh(r):Vh(r))}function HA(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?Qo(e,t)>=0:!1}var At={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function GA(e){return e.substring(At.key,At.keyEnd)}function zA(e){return WA(e),cb(e,ub(e,0,At.textEnd))}function cb(e,t){let n=At.textEnd;return n===t?-1:(t=At.keyEnd=KA(e,At.key=t,n),ub(e,t,n))}function WA(e){At.key=0,At.keyEnd=0,At.value=0,At.valueEnd=0,At.textEnd=e.length}function ub(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function KA(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}function Ve(e,t,n){let i=X(),r=Ql();if(Br(i,r,t)){let o=ke(),s=of();L0(o,s,i,e,t,i[ve],n,!1)}return Ve}function jh(e,t,n,i,r){let o=t.inputs,s=r?"class":"style";wf(e,n,o[s],s,i)}function Oi(e,t){return YA(e,t,null,!0),Oi}function sc(e){QA(nN,qA,e,!0)}function qA(e,t){for(let n=zA(t);n>=0;n=cb(t,n))Qh(e,GA(t),!0)}function YA(e,t,n,i){let r=X(),o=ke(),s=Ly(2);if(o.firstUpdatePass&&hb(o,e,s,i),t!==Gn&&Br(r,s,t)){let a=o.data[Ai()];fb(o,a,r,r[ve],e,r[s+1]=rN(t,n),i,s)}}function QA(e,t,n,i){let r=ke(),o=Ly(2);r.firstUpdatePass&&hb(r,null,o,i);let s=X();if(n!==Gn&&Br(s,o,n)){let a=r.data[Ai()];if(pb(a,i)&&!db(r,o)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(n=Yd(l,n||"")),jh(r,a,s,n,i)}else iN(r,a,s,s[ve],s[o+1],s[o+1]=tN(e,t,n),i,o)}}function db(e,t){return t>=e.expandoStartIndex}function hb(e,t,n,i){let r=e.data;if(r[n+1]===null){let o=r[Ai()],s=db(e,n);pb(o,i)&&t===null&&!s&&(t=!1),t=ZA(r,o,t,i),UA(r,o,t,n,s,i)}}function ZA(e,t,n,i){let r=PT(e),o=i?t.residualClasses:t.residualStyles;if(r===null)(i?t.classBindings:t.styleBindings)===0&&(n=Wd(null,e,t,n,i),n=qo(n,t.attrs,i),o=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==r)if(n=Wd(r,e,t,n,i),o===null){let l=JA(e,t,i);l!==void 0&&Array.isArray(l)&&(l=Wd(null,e,t,l[1],i),l=qo(l,t.attrs,i),XA(e,t,i,l))}else o=eN(e,t,i)}return o!==void 0&&(i?t.residualClasses=o:t.residualStyles=o),n}function JA(e,t,n){let i=n?t.classBindings:t.styleBindings;if(Or(i)!==0)return e[Ti(i)]}function XA(e,t,n,i){let r=n?t.classBindings:t.styleBindings;e[Ti(r)]=i}function eN(e,t,n){let i,r=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<r;o++){let s=e[o].hostAttrs;i=qo(i,s,n)}return qo(i,t.attrs,n)}function Wd(e,t,n,i,r){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=t[a],i=qo(i,o.hostAttrs,r),o!==e);)a++;return e!==null&&(n.directiveStylingLast=a),i}function qo(e,t,n){let i=n?1:2,r=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?r=s:r===i&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),Qh(e,s,n?!0:t[++o]))}return e===void 0?null:e}function tN(e,t,n){if(n==null||n==="")return Je;let i=[],r=Vr(n);if(Array.isArray(r))for(let o=0;o<r.length;o++)e(i,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&e(i,o,r[o]);else typeof r=="string"&&t(i,r);return i}function nN(e,t,n){let i=String(t);i!==""&&!i.includes(" ")&&Qh(e,i,n)}function iN(e,t,n,i,r,o,s,a){r===Gn&&(r=Je);let l=0,c=0,u=0<r.length?r[0]:null,d=0<o.length?o[0]:null;for(;u!==null||d!==null;){let h=l<r.length?r[l+1]:void 0,f=c<o.length?o[c+1]:void 0,p=null,m;u===d?(l+=2,c+=2,h!==f&&(p=d,m=f)):d===null||u!==null&&u<d?(l+=2,p=u):(c+=2,p=d,m=f),p!==null&&fb(e,t,n,i,p,m,s,a),u=l<r.length?r[l]:null,d=c<o.length?o[c]:null}}function fb(e,t,n,i,r,o,s,a){if(!(t.type&3))return;let l=e.data,c=l[a+1],u=BA(c)?Vv(l,t,n,r,Or(c),s):void 0;if(!Pl(u)){Pl(o)||VA(c)&&(o=Vv(l,null,n,r,a,s));let d=Iy(Ai(),n);zS(i,s,d,r,o)}}function Vv(e,t,n,i,r,o){let s=t===null,a;for(;r>0;){let l=e[r],c=Array.isArray(l),u=c?l[1]:l,d=u===null,h=n[r+1];h===Gn&&(h=d?Je:void 0);let f=d?Fd(h,i):u===i?h:void 0;if(c&&!Pl(f)&&(f=Fd(l,i)),Pl(f)&&(a=f,s))return a;let p=e[r+1];r=s?Ti(p):Or(p)}if(t!==null){let l=o?t.residualClasses:t.residualStyles;l!=null&&(a=Fd(l,i))}return a}function Pl(e){return e!==void 0}function rN(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=Xe(Vr(e)))),e}function pb(e,t){return(e.flags&(t?8:16))!==0}function oN(e,t,n,i,r,o){let s=t.consts,a=bl(s,r),l=Jo(t,e,2,i,a);return V0(t,n,l,bl(s,o)),l.attrs!==null&&Th(l,l.attrs,!1),l.mergedAttrs!==null&&Th(l,l.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,l),l}function oe(e,t,n,i){let r=X(),o=ke(),s=Gt+e,a=r[ve],l=o.firstCreatePass?oN(s,o,r,t,n,i):o.data[s],c=sN(o,r,l,a,t,e);r[s]=c;let u=Xh(l);return Zo(l,!0),S0(a,c,l),!NA(l)&&sf()&&vf(o,r,c,l),IT()===0&&Ci(c,r),TT(),u&&(k0(o,r,l),x0(o,l,r)),i!==null&&P0(r,l),oe}function ce(){let e=He();ky()?Py():(e=e.parent,Zo(e,!1));let t=e;MT(t)&&AT(),ST();let n=ke();return n.firstCreatePass&&(lf(n,e),by(e)&&n.queries.elementEnd(e)),t.classesWithoutHost!=null&&$T(t)&&jh(n,t,X(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&HT(t)&&jh(n,t,X(),t.stylesWithoutHost,!1),ce}function mn(e,t,n,i){return oe(e,t,n,i),ce(),mn}var sN=(e,t,n,i,r,o)=>(af(!0),m0(i,r,VT()));function xi(){return X()}var Fl="en-US";var aN=Fl;function lN(e){typeof e=="string"&&(aN=e.toLowerCase().replace(/_/g,"-"))}var cN=(e,t,n)=>{};function tt(e,t,n,i){let r=X(),o=ke(),s=He();return gb(o,r,r[ve],s,e,t,i),tt}function uN(e,t,n,i){let r=e.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===n&&r[o+1]===i){let a=t[_l],l=r[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function gb(e,t,n,i,r,o,s){let a=Xh(i),c=e.firstCreatePass&&G0(e),u=t[Ot],d=H0(t),h=!0;if(i.type&3||s){let m=bt(i,t),b=s?s(m):m,T=d.length,j=s?ne=>s(zt(ne[i.index])):i.index,E=null;if(!s&&a&&(E=uN(e,t,r,i.index)),E!==null){let ne=E.__ngLastListenerFn__||E;ne.__ngNextListenerFn__=o,E.__ngLastListenerFn__=o,h=!1}else{o=Bv(i,t,u,o),cN(m,r,o);let ne=n.listen(b,r,o);d.push(o,ne),c&&c.push(r,j,T,T+1)}}else o=Bv(i,t,u,o);let f=i.outputs,p;if(h&&f!==null&&(p=f[r])){let m=p.length;if(m)for(let b=0;b<m;b+=2){let T=p[b],j=p[b+1],pe=t[T][j].subscribe(o),De=d.length;d.push(o,pe),c&&c.push(r,i.index,De,-(De+1))}}}function jv(e,t,n,i){let r=Y(null);try{return Bt(6,t,n),n(i)!==!1}catch(o){return z0(e,o),!1}finally{Bt(7,t,n),Y(r)}}function Bv(e,t,n,i){return function r(o){if(o===Function)return i;let s=e.componentOffset>-1?$n(e.index,t):t;Cf(s,5);let a=jv(t,n,i,o),l=r.__ngNextListenerFn__;for(;l;)a=jv(t,n,l,o)&&a,l=l.__ngNextListenerFn__;return a}}function wt(e=1){return LT(e)}function dN(e,t){let n=null,i=WI(e);for(let r=0;r<t.length;r++){let o=t[r];if(o==="*"){n=r;continue}if(i===null?sy(e,o,!0):YI(i,o))return r}return n}function mb(e){let t=X()[vt][et];if(!t.projection){let n=e?e.length:1,i=t.projection=LI(n,null),r=i.slice(),o=t.child;for(;o!==null;){if(o.type!==128){let s=e?dN(o,e):0;s!==null&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o)}o=o.next}}}function _b(e,t=0,n,i,r,o){let s=X(),a=ke(),l=i?e+1:null;l!==null&&ab(s,a,l,i,r,o,null,n);let c=Jo(a,Gt+e,16,null,n||null);c.projection===null&&(c.projection=t),Py();let d=!s[zo]||Oy();s[vt][et].projection[c.projection]===null&&l!==null?hN(s,a,l):d&&(c.flags&32)!==32&&HS(a,s,c)}function hN(e,t,n){let i=Gt+n,r=t.data[i],o=e[i],s=Ch(o,r.tView.ssrId),a=W0(e,r,void 0,{dehydratedView:s});K0(o,a,0,wh(r,s))}function vb(e,t,n){cA(e,t,n)}function Mf(e){let t=X(),n=ke(),i=Vy();tf(i+1);let r=Tf(n,i);if(e.dirty&&wT(t)===((r.metadata.flags&2)===2)){if(r.matches===null)e.reset([]);else{let o=hA(t,i);e.reset(o,dS),e.notifyOnChanges()}return!0}return!1}function Af(){return aA(X(),Vy())}function ze(e,t=""){let n=X(),i=ke(),r=e+Gt,o=i.firstCreatePass?Jo(i,r,1,t,null):i.data[r],s=fN(i,n,o,t,e);n[r]=s,sf()&&vf(i,n,s,o),Zo(o,!1)}var fN=(e,t,n,i,r)=>(af(!0),NS(t[ve],i));function Wn(e){return ki("",e,""),Wn}function ki(e,t,n){let i=X(),r=LA(i,e,t,n);return r!==Gn&&vM(i,Ai(),r),ki}function Hr(e,t,n){ob(t)&&(t=t());let i=X(),r=Ql();if(Br(i,r,t)){let o=ke(),s=of();L0(o,s,i,e,t,i[ve],n,!1)}return Hr}function Xo(e,t){let n=ob(e);return n&&e.set(t),n}function Gr(e,t){let n=X(),i=ke(),r=He();return gb(i,n,n[ve],r,e,t),Gr}function pN(e,t,n){let i=ke();if(i.firstCreatePass){let r=Vn(e);Bh(n,i.data,i.blueprint,r,!0),Bh(t,i.data,i.blueprint,r,!1)}}function Bh(e,t,n,i,r){if(e=$e(e),Array.isArray(e))for(let o=0;o<e.length;o++)Bh(e[o],t,n,i,r);else{let o=ke(),s=X(),a=He(),l=Tr(e)?e:$e(e.provide),c=my(e),u=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(Tr(e)||!e.multi){let f=new wi(c,r,Q),p=qd(l,t,r?u:u+h,d);p===-1?(ch(Cl(a,s),o,l),Kd(o,e,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[p]=f,s[p]=f)}else{let f=qd(l,t,u+h,d),p=qd(l,t,u,u+h),m=f>=0&&n[f],b=p>=0&&n[p];if(r&&!b||!r&&!m){ch(Cl(a,s),o,l);let T=_N(r?mN:gN,n.length,r,i,c);!r&&b&&(n[p].providerFactory=T),Kd(o,e,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(T),s.push(T)}else{let T=yb(n[r?p:f],c,!r&&i);Kd(o,e,f>-1?f:p,T)}!r&&i&&b&&n[p].componentProviders++}}}function Kd(e,t,n,i){let r=Tr(t),o=sT(t);if(r||o){let l=(o?$e(t.useClass):t).prototype.ngOnDestroy;if(l){let c=e.destroyHooks||(e.destroyHooks=[]);if(!r&&t.multi){let u=c.indexOf(n);u===-1?c.push(n,[i,l]):c[u+1].push(i,l)}else c.push(n,l)}}}function yb(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function qd(e,t,n,i){for(let r=n;r<i;r++)if(t[r]===e)return r;return-1}function gN(e,t,n,i){return Uh(this.multi,[])}function mN(e,t,n,i){let r=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Di(n,n[B],this.providerFactory.index,i);o=a.slice(0,s),Uh(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],Uh(r,o);return o}function Uh(e,t){for(let n=0;n<e.length;n++){let i=e[n];t.push(i())}return t}function _N(e,t,n,i,r){let o=new wi(e,n,Q);return o.multi=[],o.index=t,o.componentProviders=0,yb(o,r,i&&!n),o}function ac(e,t=[]){return n=>{n.providersResolver=(i,r)=>pN(i,r?r(e):e,t)}}var vN=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let i=fy(!1,n.type),r=i.length>0?oc([i],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,r)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=D({token:e,providedIn:"environment",factory:()=>new e(_(Me))})}}return e})();function es(e){jr("NgStandalone"),e.getStandaloneInjector=t=>t.get(vN).getOrCreateStandaloneInjector(e)}var sl=null;function yN(e){sl!==null&&(e.defaultEncapsulation!==sl.defaultEncapsulation||e.preserveWhitespaces!==sl.preserveWhitespaces)||(sl=e)}var hn=class{constructor(t){this.full=t;let n=t.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},bb=new hn("18.2.9");var lc=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();var Nf=new w(""),ts=new w(""),cc=(()=>{class e{constructor(n,i,r){this._ngZone=n,this.registry=i,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Rf||(bN(r),r.addToWindow(i)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{P.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(n)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n()},i)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:r})}whenStable(n,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,i,r),this._runCallbacksIfReady()}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,i,r){return[]}static{this.\u0275fac=function(i){return new(i||e)(_(P),_(uc),_(ts))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac})}}return e})(),uc=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,i){this._applications.set(n,i)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,i=!0){return Rf?.findTestabilityInTree(this,n,i)??null}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();function bN(e){Rf=e}var Rf;function Pi(e){return!!e&&typeof e.then=="function"}function wb(e){return!!e&&typeof e.subscribe=="function"}var dc=new w(""),Db=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,i)=>{this.resolve=n,this.reject=i}),this.appInits=g(dc,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let r of this.appInits){let o=r();if(Pi(o))n.push(o);else if(wb(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});n.push(s)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{i()}).catch(r=>{this.reject(r)}),n.length===0&&i(),this.initialized=!0}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),hc=new w("");function wN(){L_(()=>{throw new I(600,!1)})}function DN(e){return e.isBoundToModule}var CN=10;function EN(e,t,n){try{let i=n();return Pi(i)?i.catch(r=>{throw t.runOutsideAngular(()=>e.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>e.handleError(i)),i}}function Cb(e,t){return Array.isArray(t)?t.reduce(Cb,e):y(y({},e),t)}var xt=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=g(cS),this.afterRenderManager=g(lb),this.zonelessEnabled=g(If),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new K,this.afterTick=new K,this.componentTypes=[],this.components=[],this.isStable=g(Hn).hasPendingTasks.pipe(S(n=>!n)),this._injector=g(Me)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(i=>{n=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,i){let r=n instanceof Nl;if(!this._injector.get(Db).done){let h=!r&&cy(n),f=!1;throw new I(405,f)}let s;r?s=n:s=this._injector.get(Nr).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let a=DN(s)?void 0:this._injector.get(Bn),l=i||s.selector,c=s.create(Te.NULL,[],l,a),u=c.location.nativeElement,d=c.injector.get(Nf,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),hl(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new I(101,!1);let n=Y(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,Y(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(Rr,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let i=0;for(;this.dirtyFlags!==0&&i++<CN;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(i);for(let{_lView:r,notifyErrorHandler:o}of this._views)IN(r,o,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>ql(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){let i=n;hl(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let i=this._injector.get(hc,[]);[...this._bootstrapListeners,...i].forEach(r=>r(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>hl(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new I(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function hl(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function IN(e,t,n,i){if(!n&&!ql(e))return;Q0(e,t,n&&!i?0:1)}var $h=class{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},fc=(()=>{class e{compileModuleSync(n){return new kl(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let i=this.compileModuleSync(n),r=uy(n),o=g0(r.declarations).reduce((s,a)=>{let l=ln(a);return l&&s.push(new Ii(l)),s},[]);return new $h(i,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),TN=new w("");function SN(e,t,n){let i=new kl(n);return Promise.resolve(i)}function Uv(e){for(let t=e.length-1;t>=0;t--)if(e[t]!==void 0)return e[t]}var MN=(()=>{class e{constructor(){this.zone=g(P),this.changeDetectionScheduler=g(Ar),this.applicationRef=g(xt)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function AN({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new P(U(y({},Eb()),{scheduleInRootZone:n})),[{provide:P,useFactory:e},{provide:Ir,multi:!0,useFactory:()=>{let i=g(MN,{optional:!0});return()=>i.initialize()}},{provide:Ir,multi:!0,useFactory:()=>{let i=g(NN);return()=>{i.initialize()}}},t===!0?{provide:eb,useValue:!0}:[],{provide:tb,useValue:n??n0}]}function Eb(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var NN=(()=>{class e{constructor(){this.subscription=new ge,this.initialized=!1,this.zone=g(P),this.pendingTasks=g(Hn)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{P.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{P.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var RN=(()=>{class e{constructor(){this.appRef=g(xt),this.taskService=g(Hn),this.ngZone=g(P),this.zonelessEnabled=g(If),this.disableScheduling=g(eb,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new ge,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Il):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(g(tb,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Tl||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?Iv:i0;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Il+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(n),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Iv(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function ON(){return typeof $localize<"u"&&$localize.locale||Fl}var pc=new w("",{providedIn:"root",factory:()=>g(pc,$.Optional|$.SkipSelf)||ON()});var Ll=new w("");function al(e){return!e.moduleRef}function xN(e){let t=al(e)?e.r3Injector:e.moduleRef.injector,n=t.get(P);return n.run(()=>{al(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let i=t.get(un,null),r;if(n.runOutsideAngular(()=>{r=n.onError.subscribe({next:o=>{i.handleError(o)}})}),al(e)){let o=()=>t.destroy(),s=e.platformInjector.get(Ll);s.add(o),t.onDestroy(()=>{r.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(Ll);s.add(o),e.moduleRef.onDestroy(()=>{hl(e.allPlatformModules,e.moduleRef),r.unsubscribe(),s.delete(o)})}return EN(i,n,()=>{let o=t.get(Db);return o.runInitializers(),o.donePromise.then(()=>{let s=t.get(pc,Fl);if(lN(s||Fl),al(e)){let a=t.get(xt);return e.rootComponent!==void 0&&a.bootstrap(e.rootComponent),a}else return kN(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function kN(e,t){let n=e.injector.get(xt);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(i=>n.bootstrap(i));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(n);else throw new I(-403,!1);t.push(e)}var Ib=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,i){let r=i?.scheduleInRootZone,o=()=>lS(i?.ngZone,U(y({},Eb({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing})),{scheduleInRootZone:r})),s=i?.ignoreChangesOutsideZone,a=[AN({ngZoneFactory:o,ignoreChangesOutsideZone:s}),{provide:Ar,useExisting:RN}],l=SA(n.moduleType,this.injector,a);return xN({moduleRef:l,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(n,i=[]){let r=Cb({},i);return SN(this.injector,r,n).then(o=>this.bootstrapModuleFactory(o,r))}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new I(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());let n=this._injector.get(Ll,null);n&&(n.forEach(i=>i()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(i){return new(i||e)(_(Te))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})(),Uo=null,Tb=new w("");function PN(e){if(Uo&&!Uo.get(Tb,!1))throw new I(400,!1);wN(),Uo=e;let t=e.get(Ib);return VN(e),t}function Of(e,t,n=[]){let i=`Platform: ${t}`,r=new w(i);return(o=[])=>{let s=Sb();if(!s||s.injector.get(Tb,!1)){let a=[...n,...o,{provide:r,useValue:!0}];e?e(a):PN(FN(a,i))}return LN(r)}}function FN(e=[],t){return Te.create({name:t,providers:[{provide:Gl,useValue:"platform"},{provide:Ll,useValue:new Set([()=>Uo=null])},...e]})}function LN(e){let t=Sb();if(!t)throw new I(401,!1);return t}function Sb(){return Uo?.get(Ib)??null}function VN(e){e.get(hf,null)?.forEach(n=>n())}function xf(){return!1}var _n=(()=>{class e{static{this.__NG_ELEMENT_ID__=jN}}return e})();function jN(e){return BN(He(),X(),(e&16)===16)}function BN(e,t,n){if(Kl(e)&&!n){let i=$n(e.index,t);return new Ei(i,i)}else if(e.type&175){let i=t[vt];return new Ei(i,t)}return null}var Hh=class{constructor(){}supports(t){return sb(t)}create(t){return new Gh(t)}},UN=(e,t)=>t,Gh=class{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||UN}forEachItem(t){let n;for(n=this._itHead;n!==null;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,i=this._removalsHead,r=0,o=null;for(;n||i;){let s=!i||n&&n.currentIndex<$v(i,r,o)?n:i,a=$v(s,r,o),l=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(n=n._next,s.previousIndex==null)r++;else{o||(o=[]);let c=a-r,u=l-r;if(c!=u){for(let h=0;h<c;h++){let f=h<o.length?o[h]:o[h]=0,p=f+h;u<=p&&p<c&&(o[h]=f+1)}let d=s.previousIndex;o[d]=u-c}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)t(n)}diff(t){if(t==null&&(t=[]),!sb(t))throw new I(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._itHead,i=!1,r,o,s;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),i=!0):(i&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else r=0,MA(t,a=>{s=this._trackByFn(r,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,r),i=!0):(i&&(n=this._verifyReinsertion(n,a,s,r)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,r++}),this.length=r;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,i,r){let o;return t===null?o=this._itTail:(o=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,o,r)):(t=this._linkedRecords===null?null:this._linkedRecords.get(i,r),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,o,r)):t=this._addAfter(new zh(n,i),o,r)),t}_verifyReinsertion(t,n,i,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?t=this._reinsertAfter(o,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;t!==null;){let n=t._next;this._addToRemovals(this._unlink(t)),t=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let r=t._prevRemoved,o=t._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(t,n,i),this._addToMoves(t,i),t}_moveAfter(t,n,i){return this._unlink(t),this._insertAfter(t,n,i),this._addToMoves(t,i),t}_addAfter(t,n,i){return this._insertAfter(t,n,i),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,n,i){let r=n===null?this._itHead:n._next;return t._next=r,t._prev=n,r===null?this._itTail=t:r._prev=t,n===null?this._itHead=t:n._next=t,this._linkedRecords===null&&(this._linkedRecords=new Vl),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let n=t._prev,i=t._next;return n===null?this._itHead=i:n._next=i,i===null?this._itTail=n:i._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Vl),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},zh=class{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Wh=class{constructor(){this._head=null,this._tail=null}add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let i;for(i=this._head;i!==null;i=i._nextDup)if((n===null||n<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){let n=t._prevDup,i=t._nextDup;return n===null?this._head=i:n._nextDup=i,i===null?this._tail=n:i._prevDup=n,this._head===null}},Vl=class{constructor(){this.map=new Map}put(t){let n=t.trackById,i=this.map.get(n);i||(i=new Wh,this.map.set(n,i)),i.add(t)}get(t,n){let i=t,r=this.map.get(i);return r?r.get(t,n):null}remove(t){let n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function $v(e,t,n){let i=e.previousIndex;if(i===null)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+t+r}function Hv(){return new kf([new Hh])}var kf=(()=>{class e{static{this.\u0275prov=D({token:e,providedIn:"root",factory:Hv})}constructor(n){this.factories=n}static create(n,i){if(i!=null){let r=i.factories.slice();n=n.concat(r)}return new e(n)}static extend(n){return{provide:e,useFactory:i=>e.create(n,i||Hv()),deps:[[e,new qh,new kr]]}}find(n){let i=this.factories.find(r=>r.supports(n));if(i!=null)return i;throw new I(901,!1)}}return e})();var Mb=Of(null,"core",[]),Ab=(()=>{class e{constructor(n){}static{this.\u0275fac=function(i){return new(i||e)(_(xt))}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();function Fi(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function gc(e,t){jr("NgSignals");let n=k_(e);return t?.equal&&(n[nn].equal=t.equal),n}function Kn(e){let t=Y(null);try{return e()}finally{Y(t)}}function mc(e,t){let n=ln(e),i=t.elementInjector||zl();return new Ii(n).create(i,t.projectableNodes,t.hostElement,t.environmentInjector)}function Nb(e){let t=ln(e);if(!t)return null;let n=new Ii(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var kb=null;function Wt(){return kb}function Pb(e){kb??=e}var _c=class{};var we=new w(""),Vf=(()=>{class e{historyGo(n){throw new Error("")}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:()=>g(GN),providedIn:"platform"})}}return e})(),Fb=new w(""),GN=(()=>{class e extends Vf{constructor(){super(),this._doc=g(we),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Wt().getBaseHref(this._doc)}onPopState(n){let i=Wt().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",n,!1),()=>i.removeEventListener("popstate",n)}onHashChange(n){let i=Wt().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",n,!1),()=>i.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,i,r){this._history.pushState(n,i,r)}replaceState(n,i,r){this._history.replaceState(n,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:()=>new e,providedIn:"platform"})}}return e})();function jf(e,t){if(e.length==0)return t;if(t.length==0)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,n==2?e+t.substring(1):n==1?e+t:e+"/"+t}function Rb(e){let t=e.match(/#|\?|$/),n=t&&t.index||e.length,i=n-(e[n-1]==="/"?1:0);return e.slice(0,i)+e.slice(n)}function vn(e){return e&&e[0]!=="?"?"?"+e:e}var yn=(()=>{class e{historyGo(n){throw new Error("")}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:()=>g(Bf),providedIn:"root"})}}return e})(),Lb=new w(""),Bf=(()=>{class e extends yn{constructor(n,i){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??g(we).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return jf(this._baseHref,n)}path(n=!1){let i=this._platformLocation.pathname+vn(this._platformLocation.search),r=this._platformLocation.hash;return r&&n?`${i}${r}`:i}pushState(n,i,r,o){let s=this.prepareExternalUrl(r+vn(o));this._platformLocation.pushState(n,i,s)}replaceState(n,i,r,o){let s=this.prepareExternalUrl(r+vn(o));this._platformLocation.replaceState(n,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(i){return new(i||e)(_(Vf),_(Lb,8))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Vb=(()=>{class e extends yn{constructor(n,i){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(n){let i=jf(this._baseHref,n);return i.length>0?"#"+i:i}pushState(n,i,r,o){let s=this.prepareExternalUrl(r+vn(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,i,s)}replaceState(n,i,r,o){let s=this.prepareExternalUrl(r+vn(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(i){return new(i||e)(_(Vf),_(Lb,8))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac})}}return e})(),Wr=(()=>{class e{constructor(n){this._subject=new ae,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let i=this._locationStrategy.getBaseHref();this._basePath=KN(Rb(Ob(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,i=""){return this.path()==this.normalize(n+vn(i))}normalize(n){return e.stripTrailingSlash(WN(this._basePath,Ob(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,i="",r=null){this._locationStrategy.pushState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+vn(i)),r)}replaceState(n,i="",r=null){this._locationStrategy.replaceState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+vn(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",i){this._urlChangeListeners.forEach(r=>r(n,i))}subscribe(n,i,r){return this._subject.subscribe({next:n,error:i,complete:r})}static{this.normalizeQueryParams=vn}static{this.joinWithSlash=jf}static{this.stripTrailingSlash=Rb}static{this.\u0275fac=function(i){return new(i||e)(_(yn))}}static{this.\u0275prov=D({token:e,factory:()=>zN(),providedIn:"root"})}}return e})();function zN(){return new Wr(_(yn))}function WN(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function Ob(e){return e.replace(/\/index.html$/,"")}function KN(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}function vc(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let i=n.indexOf("="),[r,o]=i==-1?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}var Pf=class{constructor(t,n,i,r){this.$implicit=t,this.ngForOf=n,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},yc=(()=>{class e{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,i,r){this._viewContainer=n,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let i=this._viewContainer;n.forEachOperation((r,o,s)=>{if(r.previousIndex==null)i.createEmbeddedView(this._template,new Pf(r.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)i.remove(o===null?void 0:o);else if(o!==null){let a=i.get(o);i.move(a,s),xb(a,r)}});for(let r=0,o=i.length;r<o;r++){let a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(r=>{let o=i.get(r.currentIndex);xb(o,r)})}static ngTemplateContextGuard(n,i){return!0}static{this.\u0275fac=function(i){return new(i||e)(Q(zn),Q(jn),Q(kf))}}static{this.\u0275dir=rt({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return e})();function xb(e,t){e.context.$implicit=t.item}var jb=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})(),Uf="browser",qN="server";function Bb(e){return e===Uf}function Kr(e){return e===qN}var Ub=(()=>{class e{static{this.\u0275prov=D({token:e,providedIn:"root",factory:()=>Bb(g(Pe))?new Ff(g(we),window):new Lf})}}return e})(),Ff=class{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t){this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){let n=YN(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){this.window.history.scrollRestoration=t}scrollToElement(t){let n=t.getBoundingClientRect(),i=n.left+this.window.pageXOffset,r=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}};function YN(e,t){let n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let i=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let o=r.shadowRoot;if(o){let s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}r=i.nextNode()}}return null}var Lf=class{setOffset(t){}getScrollPosition(){return[0,0]}scrollToPosition(t){}scrollToAnchor(t){}setHistoryScrollRestoration(t){}},zr=class{};var is=class{},Dc=class{},bn=class e{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(n=>{let i=n.indexOf(":");if(i>0){let r=n.slice(0,i),o=r.toLowerCase(),s=n.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,i)=>{this.setHeaderEntries(i,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,i])=>{this.setHeaderEntries(n,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){let n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){let n=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(t.name,n);let r=(t.op==="a"?this.headers.get(n):void 0)||[];r.push(...i),this.headers.set(n,r);break;case"d":let o=t.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(t,n){let i=(Array.isArray(n)?n:[n]).map(o=>o.toString()),r=t.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}};var Hf=class{encodeKey(t){return $b(t)}encodeValue(t){return $b(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function QN(e,t){let n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],l=n.get(s)||[];l.push(a),n.set(s,l)}),n}var ZN=/%(\d[a-f0-9])/gi,JN={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function $b(e){return encodeURIComponent(e).replace(ZN,(t,n)=>JN[n]??t)}function wc(e){return`${e}`}var Yn=class e{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Hf,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=QN(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{let i=t.fromObject[n],r=Array.isArray(i)?i.map(wc):[wc(i)];this.map.set(n,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){let n=[];return Object.keys(t).forEach(i=>{let r=t[i];Array.isArray(r)?r.forEach(o=>{n.push({param:i,value:o,op:"a"})}):n.push({param:i,value:r,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let n=this.encoder.encodeKey(t);return this.map.get(t).map(i=>n+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let n=(t.op==="a"?this.map.get(t.param):void 0)||[];n.push(wc(t.value)),this.map.set(t.param,n);break;case"d":if(t.value!==void 0){let i=this.map.get(t.param)||[],r=i.indexOf(wc(t.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var Gf=class{constructor(){this.map=new Map}set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function XN(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Hb(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function Gb(e){return typeof Blob<"u"&&e instanceof Blob}function zb(e){return typeof FormData<"u"&&e instanceof FormData}function eR(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var ns=class e{constructor(t,n,i,r){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase();let o;if(XN(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new bn,this.context??=new Gf,!this.params)this.params=new Yn,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),l=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Hb(this.body)||Gb(this.body)||zb(this.body)||eR(this.body)?this.body:this.body instanceof Yn?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||zb(this.body)?null:Gb(this.body)?this.body.type||null:Hb(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Yn?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(t={}){let n=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,o=t.transferCache??this.transferCache,s=t.body!==void 0?t.body:this.body,a=t.withCredentials??this.withCredentials,l=t.reportProgress??this.reportProgress,c=t.headers||this.headers,u=t.params||this.params,d=t.context??this.context;return t.setHeaders!==void 0&&(c=Object.keys(t.setHeaders).reduce((h,f)=>h.set(f,t.setHeaders[f]),c)),t.setParams&&(u=Object.keys(t.setParams).reduce((h,f)=>h.set(f,t.setParams[f]),u)),new e(n,i,s,{params:u,headers:c,context:d,reportProgress:l,responseType:r,withCredentials:a,transferCache:o})}},Qn=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Qn||{}),rs=class{constructor(t,n=200,i="OK"){this.headers=t.headers||new bn,this.status=t.status!==void 0?t.status:n,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},Cc=class e extends rs{constructor(t={}){super(t),this.type=Qn.ResponseHeader}clone(t={}){return new e({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},os=class e extends rs{constructor(t={}){super(t),this.type=Qn.Response,this.body=t.body!==void 0?t.body:null}clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},qn=class extends rs{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},Yb=200,tR=204;function $f(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}var Li=(()=>{class e{constructor(n){this.handler=n}request(n,i,r={}){let o;if(n instanceof ns)o=n;else{let l;r.headers instanceof bn?l=r.headers:l=new bn(r.headers);let c;r.params&&(r.params instanceof Yn?c=r.params:c=new Yn({fromObject:r.params})),o=new ns(n,i,r.body!==void 0?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}let s=C(o).pipe(sn(l=>this.handler.handle(l)));if(n instanceof ns||r.observe==="events")return s;let a=s.pipe(_e(l=>l instanceof os));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(S(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(S(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(S(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return a.pipe(S(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(n,i={}){return this.request("DELETE",n,i)}get(n,i={}){return this.request("GET",n,i)}head(n,i={}){return this.request("HEAD",n,i)}jsonp(n,i){return this.request("JSONP",n,{params:new Yn().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,i={}){return this.request("OPTIONS",n,i)}patch(n,i,r={}){return this.request("PATCH",n,$f(r,i))}post(n,i,r={}){return this.request("POST",n,$f(r,i))}put(n,i,r={}){return this.request("PUT",n,$f(r,i))}static{this.\u0275fac=function(i){return new(i||e)(_(is))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac})}}return e})(),nR=/^\)\]\}',?\n/,iR="X-Request-URL";function Wb(e){if(e.url)return e.url;let t=iR.toLocaleLowerCase();return e.headers.get(t)}var rR=(()=>{class e{constructor(){this.fetchImpl=g(zf,{optional:!0})?.fetch??((...n)=>globalThis.fetch(...n)),this.ngZone=g(P)}handle(n){return new N(i=>{let r=new AbortController;return this.doRequest(n,r.signal,i).then(Wf,o=>i.error(new qn({error:o}))),()=>r.abort()})}doRequest(n,i,r){return Ye(this,null,function*(){let o=this.createRequestInit(n),s;try{let f=this.ngZone.runOutsideAngular(()=>this.fetchImpl(n.urlWithParams,y({signal:i},o)));oR(f),r.next({type:Qn.Sent}),s=yield f}catch(f){r.error(new qn({error:f,status:f.status??0,statusText:f.statusText,url:n.urlWithParams,headers:f.headers}));return}let a=new bn(s.headers),l=s.statusText,c=Wb(s)??n.urlWithParams,u=s.status,d=null;if(n.reportProgress&&r.next(new Cc({headers:a,status:u,statusText:l,url:c})),s.body){let f=s.headers.get("content-length"),p=[],m=s.body.getReader(),b=0,T,j,E=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>Ye(this,null,function*(){for(;;){let{done:pe,value:De}=yield m.read();if(pe)break;if(p.push(De),b+=De.length,n.reportProgress){j=n.responseType==="text"?(j??"")+(T??=new TextDecoder).decode(De,{stream:!0}):void 0;let en=()=>r.next({type:Qn.DownloadProgress,total:f?+f:void 0,loaded:b,partialText:j});E?E.run(en):en()}}}));let ne=this.concatChunks(p,b);try{let pe=s.headers.get("Content-Type")??"";d=this.parseBody(n,ne,pe)}catch(pe){r.error(new qn({error:pe,headers:new bn(s.headers),status:s.status,statusText:s.statusText,url:Wb(s)??n.urlWithParams}));return}}u===0&&(u=d?Yb:0),u>=200&&u<300?(r.next(new os({body:d,headers:a,status:u,statusText:l,url:c})),r.complete()):r.error(new qn({error:d,headers:a,status:u,statusText:l,url:c}))})}parseBody(n,i,r){switch(n.responseType){case"json":let o=new TextDecoder().decode(i).replace(nR,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:r});case"arraybuffer":return i.buffer}}createRequestInit(n){let i={},r=n.withCredentials?"include":void 0;if(n.headers.forEach((o,s)=>i[o]=s.join(",")),n.headers.has("Accept")||(i.Accept="application/json, text/plain, */*"),!n.headers.has("Content-Type")){let o=n.detectContentTypeHeader();o!==null&&(i["Content-Type"]=o)}return{body:n.serializeBody(),method:n.method,headers:i,credentials:r}}concatChunks(n,i){let r=new Uint8Array(i),o=0;for(let s of n)r.set(s,o),o+=s.length;return r}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac})}}return e})(),zf=class{};function Wf(){}function oR(e){e.then(Wf,Wf)}function sR(e,t){return t(e)}function aR(e,t,n){return(i,r)=>yt(n,()=>t(i,o=>e(o,r)))}var Qb=new w(""),lR=new w(""),cR=new w("",{providedIn:"root",factory:()=>!0});var Kb=(()=>{class e extends is{constructor(n,i){super(),this.backend=n,this.injector=i,this.chain=null,this.pendingTasks=g(Hn),this.contributeToStability=g(cR)}handle(n){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(Qb),...this.injector.get(lR,[])]));this.chain=i.reduceRight((r,o)=>aR(r,o,this.injector),sR)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(n,r=>this.backend.handle(r)).pipe(xn(()=>this.pendingTasks.remove(i)))}else return this.chain(n,i=>this.backend.handle(i))}static{this.\u0275fac=function(i){return new(i||e)(_(Dc),_(Me))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac})}}return e})();var uR=/^\)\]\}',?\n/;function dR(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}var qb=(()=>{class e{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new I(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?ee(i.\u0275loadImpl()):C(null)).pipe(ie(()=>new N(o=>{let s=i.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((m,b)=>s.setRequestHeader(m,b.join(","))),n.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let m=n.detectContentTypeHeader();m!==null&&s.setRequestHeader("Content-Type",m)}if(n.responseType){let m=n.responseType.toLowerCase();s.responseType=m!=="json"?m:"text"}let a=n.serializeBody(),l=null,c=()=>{if(l!==null)return l;let m=s.statusText||"OK",b=new bn(s.getAllResponseHeaders()),T=dR(s)||n.url;return l=new Cc({headers:b,status:s.status,statusText:m,url:T}),l},u=()=>{let{headers:m,status:b,statusText:T,url:j}=c(),E=null;b!==tR&&(E=typeof s.response>"u"?s.responseText:s.response),b===0&&(b=E?Yb:0);let ne=b>=200&&b<300;if(n.responseType==="json"&&typeof E=="string"){let pe=E;E=E.replace(uR,"");try{E=E!==""?JSON.parse(E):null}catch(De){E=pe,ne&&(ne=!1,E={error:De,text:E})}}ne?(o.next(new os({body:E,headers:m,status:b,statusText:T,url:j||void 0})),o.complete()):o.error(new qn({error:E,headers:m,status:b,statusText:T,url:j||void 0}))},d=m=>{let{url:b}=c(),T=new qn({error:m,status:s.status||0,statusText:s.statusText||"Unknown Error",url:b||void 0});o.error(T)},h=!1,f=m=>{h||(o.next(c()),h=!0);let b={type:Qn.DownloadProgress,loaded:m.loaded};m.lengthComputable&&(b.total=m.total),n.responseType==="text"&&s.responseText&&(b.partialText=s.responseText),o.next(b)},p=m=>{let b={type:Qn.UploadProgress,loaded:m.loaded};m.lengthComputable&&(b.total=m.total),o.next(b)};return s.addEventListener("load",u),s.addEventListener("error",d),s.addEventListener("timeout",d),s.addEventListener("abort",d),n.reportProgress&&(s.addEventListener("progress",f),a!==null&&s.upload&&s.upload.addEventListener("progress",p)),s.send(a),o.next({type:Qn.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",u),s.removeEventListener("timeout",d),n.reportProgress&&(s.removeEventListener("progress",f),a!==null&&s.upload&&s.upload.removeEventListener("progress",p)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(i){return new(i||e)(_(zr))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac})}}return e})(),Zb=new w(""),hR="XSRF-TOKEN",fR=new w("",{providedIn:"root",factory:()=>hR}),pR="X-XSRF-TOKEN",gR=new w("",{providedIn:"root",factory:()=>pR}),Ec=class{},mR=(()=>{class e{constructor(n,i,r){this.doc=n,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=vc(n,this.cookieName),this.lastCookieString=n),this.lastToken}static{this.\u0275fac=function(i){return new(i||e)(_(we),_(Pe),_(fR))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac})}}return e})();function _R(e,t){let n=e.url.toLowerCase();if(!g(Zb)||e.method==="GET"||e.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return t(e);let i=g(Ec).getToken(),r=g(gR);return i!=null&&!e.headers.has(r)&&(e=e.clone({headers:e.headers.set(r,i)})),t(e)}function Jb(...e){let t=[Li,qb,Kb,{provide:is,useExisting:Kb},{provide:Dc,useFactory:()=>g(rR,{optional:!0})??g(qb)},{provide:Qb,useValue:_R,multi:!0},{provide:Zb,useValue:!0},{provide:Ec,useClass:mR}];for(let n of e)t.push(...n.\u0275providers);return Hl(t)}var Qf=class extends _c{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Zf=class e extends Qf{static makeCurrent(){Pb(new e)}onAndCancel(t,n,i){return t.addEventListener(n,i),()=>{t.removeEventListener(n,i)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=vR();return n==null?null:yR(n)}resetBaseElement(){ss=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return vc(document.cookie,t)}},ss=null;function vR(){return ss=ss||document.querySelector("base"),ss?ss.getAttribute("href"):null}function yR(e){return new URL(e,document.baseURI).pathname}var Jf=class{addToWindow(t){Rt.getAngularTestability=(i,r=!0)=>{let o=t.findTestabilityInTree(i,r);if(o==null)throw new I(5103,!1);return o},Rt.getAllAngularTestabilities=()=>t.getAllTestabilities(),Rt.getAllAngularRootElements=()=>t.getAllRootElements();let n=i=>{let r=Rt.getAllAngularTestabilities(),o=r.length,s=function(){o--,o==0&&i()};r.forEach(a=>{a.whenStable(s)})};Rt.frameworkStabilizers||(Rt.frameworkStabilizers=[]),Rt.frameworkStabilizers.push(n)}findTestabilityInTree(t,n,i){if(n==null)return null;let r=t.getTestability(n);return r??(i?Wt().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},bR=(()=>{class e{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac})}}return e})(),Xf=new w(""),nw=(()=>{class e{constructor(n,i){this._zone=i,this._eventNameToPlugin=new Map,n.forEach(r=>{r.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,i,r){return this._findPluginFor(i).addEventListener(n,i,r)}getZone(){return this._zone}_findPluginFor(n){let i=this._eventNameToPlugin.get(n);if(i)return i;if(i=this._plugins.find(o=>o.supports(n)),!i)throw new I(5101,!1);return this._eventNameToPlugin.set(n,i),i}static{this.\u0275fac=function(i){return new(i||e)(_(Xf),_(P))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac})}}return e})(),Ic=class{constructor(t){this._doc=t}},qf="ng-app-id",iw=(()=>{class e{constructor(n,i,r,o={}){this.doc=n,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Kr(o),this.resetHostNodes()}addStyles(n){for(let i of n)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(n){for(let i of n)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(i=>i.remove()),n.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let i of this.getAllStyles())this.addStyleToHost(n,i)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let i of this.hostNodes)this.addStyleToHost(i,n)}onStyleRemoved(n){let i=this.styleRef;i.get(n)?.elements?.forEach(r=>r.remove()),i.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${qf}="${this.appId}"]`);if(n?.length){let i=new Map;return n.forEach(r=>{r.textContent!=null&&i.set(r.textContent,r)}),i}return null}changeUsageCount(n,i){let r=this.styleRef;if(r.has(n)){let o=r.get(n);return o.usage+=i,o.usage}return r.set(n,{usage:i,elements:[]}),i}getStyleElement(n,i){let r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===n)return r.delete(i),o.removeAttribute(qf),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(qf,this.appId),n.appendChild(s),s}}addStyleToHost(n,i){let r=this.getStyleElement(n,i),o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||e)(_(we),_(Xl),_(ff,8),_(Pe))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac})}}return e})(),Yf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},tp=/%COMP%/g,rw="%COMP%",wR=`_nghost-${rw}`,DR=`_ngcontent-${rw}`,CR=!0,ER=new w("",{providedIn:"root",factory:()=>CR});function IR(e){return DR.replace(tp,e)}function TR(e){return wR.replace(tp,e)}function ow(e,t){return t.map(n=>n.replace(tp,e))}var Xb=(()=>{class e{constructor(n,i,r,o,s,a,l,c=null){this.eventManager=n,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=Kr(a),this.defaultRenderer=new as(n,s,l,this.platformIsServer)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===$t.ShadowDom&&(i=U(y({},i),{encapsulation:$t.Emulated}));let r=this.getOrCreateRenderer(n,i);return r instanceof Tc?r.applyToHost(n):r instanceof ls&&r.applyStyles(),r}getOrCreateRenderer(n,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(i.encapsulation){case $t.Emulated:o=new Tc(l,c,i,this.appId,u,s,a,d);break;case $t.ShadowDom:return new ep(l,c,n,i,s,a,this.nonce,d);default:o=new ls(l,c,i,u,s,a,d);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||e)(_(nw),_(iw),_(Xl),_(ER),_(we),_(Pe),_(P),_(ff))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac})}}return e})(),as=class{constructor(t,n,i,r){this.eventManager=t,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(Yf[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(ew(t)?t.content:t).appendChild(n)}insertBefore(t,n,i){t&&(ew(t)?t.content:t).insertBefore(n,i)}removeChild(t,n){n.remove()}selectRootElement(t,n){let i=typeof t=="string"?this.doc.querySelector(t):t;if(!i)throw new I(-5104,!1);return n||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,i,r){if(r){n=r+":"+n;let o=Yf[r];o?t.setAttributeNS(o,n,i):t.setAttribute(n,i)}else t.setAttribute(n,i)}removeAttribute(t,n,i){if(i){let r=Yf[i];r?t.removeAttributeNS(r,n):t.removeAttribute(`${i}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,i,r){r&(dn.DashCase|dn.Important)?t.style.setProperty(n,i,r&dn.Important?"important":""):t.style[n]=i}removeStyle(t,n,i){i&dn.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,i){t!=null&&(t[n]=i)}setValue(t,n){t.nodeValue=n}listen(t,n,i){if(typeof t=="string"&&(t=Wt().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(i))}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))===!1&&n.preventDefault()}}};function ew(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var ep=class extends as{constructor(t,n,i,r,o,s,a,l){super(t,o,s,l),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=ow(r.id,r.styles);for(let u of c){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,i){return super.insertBefore(this.nodeOrShadowRoot(t),n,i)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ls=class extends as{constructor(t,n,i,r,o,s,a,l){super(t,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=l?ow(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Tc=class extends ls{constructor(t,n,i,r,o,s,a,l){let c=r+"-"+i.id;super(t,n,i,o,s,a,l,c),this.contentAttr=IR(c),this.hostAttr=TR(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let i=super.createElement(t,n);return super.setAttribute(i,this.contentAttr,""),i}},SR=(()=>{class e extends Ic{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,r){return n.addEventListener(i,r,!1),()=>this.removeEventListener(n,i,r)}removeEventListener(n,i,r){return n.removeEventListener(i,r)}static{this.\u0275fac=function(i){return new(i||e)(_(we))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac})}}return e})(),tw=["alt","control","meta","shift"],MR={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},AR={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},NR=(()=>{class e extends Ic{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,i,r){let o=e.parseEventName(i),s=e.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Wt().onAndCancel(n,o.domEventName,s))}static parseEventName(n){let i=n.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=e._normalizeKey(i.pop()),s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),tw.forEach(c=>{let u=i.indexOf(c);u>-1&&(i.splice(u,1),s+=c+".")}),s+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(n,i){let r=MR[n.key]||n.key,o="";return i.indexOf("code.")>-1&&(r=n.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),tw.forEach(s=>{if(s!==r){let a=AR[s];a(n)&&(o+=s+".")}}),o+=r,o===i)}static eventCallback(n,i,r){return o=>{e.matchEventFullKeyCode(o,n)&&r.runGuarded(()=>i(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(i){return new(i||e)(_(we))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac})}}return e})();function RR(){Zf.makeCurrent()}function OR(){return new un}function xR(){return u0(document),document}var kR=[{provide:Pe,useValue:Uf},{provide:hf,useValue:RR,multi:!0},{provide:we,useFactory:xR,deps:[]}],sw=Of(Mb,"browser",kR),PR=new w(""),FR=[{provide:ts,useClass:Jf,deps:[]},{provide:Nf,useClass:cc,deps:[P,uc,ts]},{provide:cc,useClass:cc,deps:[P,uc,ts]}],LR=[{provide:Gl,useValue:"root"},{provide:un,useFactory:OR,deps:[]},{provide:Xf,useClass:SR,multi:!0,deps:[we,P,Pe]},{provide:Xf,useClass:NR,multi:!0,deps:[we]},Xb,iw,nw,{provide:Rr,useExisting:Xb},{provide:zr,useClass:bR,deps:[]},[]],aw=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:Xl,useValue:n.appId}]}}static{this.\u0275fac=function(i){return new(i||e)(_(PR,12))}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({providers:[...LR,...FR],imports:[jb,Ab]})}}return e})();var lw=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(i){return new(i||e)(_(we))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var V="primary",Ds=Symbol("RouteTitle"),sp=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Xr(e){return new sp(e)}function jR(e,t,n){let i=n.path.split("/");if(i.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||i.length<e.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],a=e[o];if(s[0]===":")r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,i.length),posParams:r}}function BR(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Kt(e[n],t[n]))return!1;return!0}function Kt(e,t){let n=e?ap(e):void 0,i=t?ap(t):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let o=0;o<n.length;o++)if(r=n[o],!bw(e[r],t[r]))return!1;return!0}function ap(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function bw(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),i=[...t].sort();return n.every((r,o)=>i[o]===r)}else return e===t}function ww(e){return e.length>0?e[e.length-1]:null}function Xn(e){return Sd(e)?e:Pi(e)?ee(Promise.resolve(e)):C(e)}var UR={exact:Cw,subset:Ew},Dw={exact:$R,subset:HR,ignored:()=>!0};function uw(e,t,n){return UR[n.paths](e.root,t.root,n.matrixParams)&&Dw[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function $R(e,t){return Kt(e,t)}function Cw(e,t,n){if(!ji(e.segments,t.segments)||!Ac(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let i in t.children)if(!e.children[i]||!Cw(e.children[i],t.children[i],n))return!1;return!0}function HR(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>bw(e[n],t[n]))}function Ew(e,t,n){return Iw(e,t,t.segments,n)}function Iw(e,t,n,i){if(e.segments.length>n.length){let r=e.segments.slice(0,n.length);return!(!ji(r,n)||t.hasChildren()||!Ac(r,n,i))}else if(e.segments.length===n.length){if(!ji(e.segments,n)||!Ac(e.segments,n,i))return!1;for(let r in t.children)if(!e.children[r]||!Ew(e.children[r],t.children[r],i))return!1;return!0}else{let r=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!ji(e.segments,r)||!Ac(e.segments,r,i)||!e.children[V]?!1:Iw(e.children[V],t,o,i)}}function Ac(e,t,n){return t.every((i,r)=>Dw[n](e[r].parameters,i.parameters))}var Dn=class{constructor(t=new te([],{}),n={},i=null){this.root=t,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Xr(this.queryParams),this._queryParamMap}toString(){return WR.serialize(this)}},te=class{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Nc(this)}},Vi=class{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=Xr(this.parameters),this._parameterMap}toString(){return Sw(this)}};function GR(e,t){return ji(e,t)&&e.every((n,i)=>Kt(n.parameters,t[i].parameters))}function ji(e,t){return e.length!==t.length?!1:e.every((n,i)=>n.path===t[i].path)}function zR(e,t){let n=[];return Object.entries(e.children).forEach(([i,r])=>{i===V&&(n=n.concat(t(r,i)))}),Object.entries(e.children).forEach(([i,r])=>{i!==V&&(n=n.concat(t(r,i)))}),n}var Cs=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:()=>new eo,providedIn:"root"})}}return e})(),eo=class{parse(t){let n=new cp(t);return new Dn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${cs(t.root,!0)}`,i=YR(t.queryParams),r=typeof t.fragment=="string"?`#${KR(t.fragment)}`:"";return`${n}${i}${r}`}},WR=new eo;function Nc(e){return e.segments.map(t=>Sw(t)).join("/")}function cs(e,t){if(!e.hasChildren())return Nc(e);if(t){let n=e.children[V]?cs(e.children[V],!1):"",i=[];return Object.entries(e.children).forEach(([r,o])=>{r!==V&&i.push(`${r}:${cs(o,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}else{let n=zR(e,(i,r)=>r===V?[cs(e.children[V],!1)]:[`${r}:${cs(i,!1)}`]);return Object.keys(e.children).length===1&&e.children[V]!=null?`${Nc(e)}/${n[0]}`:`${Nc(e)}/(${n.join("//")})`}}function Tw(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Sc(e){return Tw(e).replace(/%3B/gi,";")}function KR(e){return encodeURI(e)}function lp(e){return Tw(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Rc(e){return decodeURIComponent(e)}function dw(e){return Rc(e.replace(/\+/g,"%20"))}function Sw(e){return`${lp(e.path)}${qR(e.parameters)}`}function qR(e){return Object.entries(e).map(([t,n])=>`;${lp(t)}=${lp(n)}`).join("")}function YR(e){let t=Object.entries(e).map(([n,i])=>Array.isArray(i)?i.map(r=>`${Sc(n)}=${Sc(r)}`).join("&"):`${Sc(n)}=${Sc(i)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var QR=/^[^\/()?;#]+/;function np(e){let t=e.match(QR);return t?t[0]:""}var ZR=/^[^\/()?;=#]+/;function JR(e){let t=e.match(ZR);return t?t[0]:""}var XR=/^[^=?&#]+/;function eO(e){let t=e.match(XR);return t?t[0]:""}var tO=/^[^&#]+/;function nO(e){let t=e.match(tO);return t?t[0]:""}var cp=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new te([],{}):new te([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(i[V]=new te(t,n)),i}parseSegment(){let t=np(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new I(4009,!1);return this.capture(t),new Vi(Rc(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=JR(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let r=np(this.remaining);r&&(i=r,this.capture(i))}t[Rc(n)]=Rc(i)}parseQueryParam(t){let n=eO(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let s=nO(this.remaining);s&&(i=s,this.capture(i))}let r=dw(n),o=dw(i);if(t.hasOwnProperty(r)){let s=t[r];Array.isArray(s)||(s=[s],t[r]=s),s.push(o)}else t[r]=o}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=np(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new I(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=V);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[V]:new te([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new I(4011,!1)}};function Mw(e){return e.segments.length>0?new te([],{[V]:e}):e}function Aw(e){let t={};for(let[i,r]of Object.entries(e.children)){let o=Aw(r);if(i===V&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[i]=o)}let n=new te(e.segments,t);return iO(n)}function iO(e){if(e.numberOfChildren===1&&e.children[V]){let t=e.children[V];return new te(e.segments.concat(t.segments),t.children)}return e}function Bi(e){return e instanceof Dn}function rO(e,t,n=null,i=null){let r=Nw(e);return Rw(r,t,n,i)}function Nw(e){let t;function n(o){let s={};for(let l of o.children){let c=n(l);s[l.outlet]=c}let a=new te(o.url,s);return o===e&&(t=a),a}let i=n(e.root),r=Mw(i);return t??r}function Rw(e,t,n,i){let r=e;for(;r.parent;)r=r.parent;if(t.length===0)return ip(r,r,r,n,i);let o=oO(t);if(o.toRoot())return ip(r,r,new te([],{}),n,i);let s=sO(o,r,e),a=s.processChildren?hs(s.segmentGroup,s.index,o.commands):xw(s.segmentGroup,s.index,o.commands);return ip(r,s.segmentGroup,a,n,i)}function Oc(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function gs(e){return typeof e=="object"&&e!=null&&e.outlets}function ip(e,t,n,i,r){let o={};i&&Object.entries(i).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let s;e===t?s=n:s=Ow(e,t,n);let a=Mw(Aw(s));return new Dn(a,o,r)}function Ow(e,t,n){let i={};return Object.entries(e.children).forEach(([r,o])=>{o===t?i[r]=n:i[r]=Ow(o,t,n)}),new te(e.segments,i)}var xc=class{constructor(t,n,i){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=i,t&&i.length>0&&Oc(i[0]))throw new I(4003,!1);let r=i.find(gs);if(r&&r!==ww(i))throw new I(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function oO(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new xc(!0,0,e);let t=0,n=!1,i=e.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?n=!0:a===".."?t++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new xc(n,t,i)}var Qr=class{constructor(t,n,i){this.segmentGroup=t,this.processChildren=n,this.index=i}};function sO(e,t,n){if(e.isAbsolute)return new Qr(t,!0,0);if(!n)return new Qr(t,!1,NaN);if(n.parent===null)return new Qr(n,!0,0);let i=Oc(e.commands[0])?0:1,r=n.segments.length-1+i;return aO(n,r,e.numberOfDoubleDots)}function aO(e,t,n){let i=e,r=t,o=n;for(;o>r;){if(o-=r,i=i.parent,!i)throw new I(4005,!1);r=i.segments.length}return new Qr(i,!1,r-o)}function lO(e){return gs(e[0])?e[0].outlets:{[V]:e}}function xw(e,t,n){if(e??=new te([],{}),e.segments.length===0&&e.hasChildren())return hs(e,t,n);let i=cO(e,t,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){let o=new te(e.segments.slice(0,i.pathIndex),{});return o.children[V]=new te(e.segments.slice(i.pathIndex),e.children),hs(o,0,r)}else return i.match&&r.length===0?new te(e.segments,{}):i.match&&!e.hasChildren()?up(e,t,n):i.match?hs(e,0,r):up(e,t,n)}function hs(e,t,n){if(n.length===0)return new te(e.segments,{});{let i=lO(n),r={};if(Object.keys(i).some(o=>o!==V)&&e.children[V]&&e.numberOfChildren===1&&e.children[V].segments.length===0){let o=hs(e.children[V],t,n);return new te(e.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=xw(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new te(e.segments,r)}}function cO(e,t,n){let i=0,r=t,o={match:!1,pathIndex:0,commandIndex:0};for(;r<e.segments.length;){if(i>=n.length)return o;let s=e.segments[r],a=n[i];if(gs(a))break;let l=`${a}`,c=i<n.length-1?n[i+1]:null;if(r>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!fw(l,c,s))return o;i+=2}else{if(!fw(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function up(e,t,n){let i=e.segments.slice(0,t),r=0;for(;r<n.length;){let o=n[r];if(gs(o)){let l=uO(o.outlets);return new te(i,l)}if(r===0&&Oc(n[0])){let l=e.segments[t];i.push(new Vi(l.path,hw(n[0]))),r++;continue}let s=gs(o)?o.outlets[V]:`${o}`,a=r<n.length-1?n[r+1]:null;s&&a&&Oc(a)?(i.push(new Vi(s,hw(a))),r+=2):(i.push(new Vi(s,{})),r++)}return new te(i,{})}function uO(e){let t={};return Object.entries(e).forEach(([n,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(t[n]=up(new te([],{}),0,i))}),t}function hw(e){let t={};return Object.entries(e).forEach(([n,i])=>t[n]=`${i}`),t}function fw(e,t,n){return e==n.path&&Kt(t,n.parameters)}var fs="imperative",Ne=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(Ne||{}),Dt=class{constructor(t,n){this.id=t,this.url=n}},to=class extends Dt{constructor(t,n,i="imperative",r=null){super(t,n),this.type=Ne.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},qt=class extends Dt{constructor(t,n,i){super(t,n),this.urlAfterRedirects=i,this.type=Ne.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},st=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(st||{}),kc=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(kc||{}),wn=class extends Dt{constructor(t,n,i,r){super(t,n),this.reason=i,this.code=r,this.type=Ne.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Zn=class extends Dt{constructor(t,n,i,r){super(t,n),this.reason=i,this.code=r,this.type=Ne.NavigationSkipped}},ms=class extends Dt{constructor(t,n,i,r){super(t,n),this.error=i,this.target=r,this.type=Ne.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Pc=class extends Dt{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=Ne.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},dp=class extends Dt{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=Ne.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},hp=class extends Dt{constructor(t,n,i,r,o){super(t,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=Ne.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},fp=class extends Dt{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=Ne.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},pp=class extends Dt{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=Ne.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},gp=class{constructor(t){this.route=t,this.type=Ne.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},mp=class{constructor(t){this.route=t,this.type=Ne.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},_p=class{constructor(t){this.snapshot=t,this.type=Ne.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},vp=class{constructor(t){this.snapshot=t,this.type=Ne.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},yp=class{constructor(t){this.snapshot=t,this.type=Ne.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},bp=class{constructor(t){this.snapshot=t,this.type=Ne.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Fc=class{constructor(t,n,i){this.routerEvent=t,this.position=n,this.anchor=i,this.type=Ne.Scroll}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},_s=class{},no=class{constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function dO(e,t){return e.providers&&!e._injector&&(e._injector=oc(e.providers,t,`Route: ${e.path}`)),e._injector??t}function kt(e){return e.outlet||V}function hO(e,t){let n=e.filter(i=>kt(i)===t);return n.push(...e.filter(i=>kt(i)!==t)),n}function Es(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var wp=class{get injector(){return Es(this.route?.snapshot)??this.rootInjector}set injector(t){}constructor(t){this.rootInjector=t,this.outlet=null,this.route=null,this.children=new Is(this.rootInjector),this.attachRef=null}},Is=(()=>{class e{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,i){let r=this.getOrCreateContext(n);r.outlet=i,this.contexts.set(n,r)}onChildOutletDestroyed(n){let i=this.getContext(n);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let i=this.getContext(n);return i||(i=new wp(this.rootInjector),this.contexts.set(n,i)),i}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(i){return new(i||e)(_(Me))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Lc=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=Dp(t,this._root);return n?n.children.map(i=>i.value):[]}firstChild(t){let n=Dp(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=Cp(t,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Cp(t,this._root).map(n=>n.value)}};function Dp(e,t){if(e===t.value)return t;for(let n of t.children){let i=Dp(e,n);if(i)return i}return null}function Cp(e,t){if(e===t.value)return[t];for(let n of t.children){let i=Cp(e,n);if(i.length)return i.unshift(t),i}return[]}var ot=class{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function Yr(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var Vc=class extends Lc{constructor(t,n){super(t),this.snapshot=n,Op(this,t)}toString(){return this.snapshot.toString()}};function kw(e){let t=fO(e),n=new be([new Vi("",{})]),i=new be({}),r=new be({}),o=new be({}),s=new be(""),a=new Ui(n,i,o,s,r,V,e,t.root);return a.snapshot=t.root,new Vc(new ot(a,[]),t)}function fO(e){let t={},n={},i={},r="",o=new Zr([],t,i,r,n,V,e,null,{});return new Bc("",new ot(o,[]))}var Ui=class{constructor(t,n,i,r,o,s,a,l){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(S(c=>c[Ds]))??C(void 0),this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(S(t=>Xr(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(S(t=>Xr(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function jc(e,t,n="emptyOnly"){let i,{routeConfig:r}=e;return t!==null&&(n==="always"||r?.path===""||!t.component&&!t.routeConfig?.loadComponent)?i={params:y(y({},t.params),e.params),data:y(y({},t.data),e.data),resolve:y(y(y(y({},e.data),t.data),r?.data),e._resolvedData)}:i={params:y({},e.params),data:y({},e.data),resolve:y(y({},e.data),e._resolvedData??{})},r&&Fw(r)&&(i.resolve[Ds]=r.title),i}var Zr=class{get title(){return this.data?.[Ds]}constructor(t,n,i,r,o,s,a,l,c){this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Xr(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Xr(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(i=>i.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},Bc=class extends Lc{constructor(t,n){super(n),this.url=t,Op(this,n)}toString(){return Pw(this._root)}};function Op(e,t){t.value._routerState=e,t.children.forEach(n=>Op(e,n))}function Pw(e){let t=e.children.length>0?` { ${e.children.map(Pw).join(", ")} } `:"";return`${e.value}${t}`}function rp(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Kt(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),Kt(t.params,n.params)||e.paramsSubject.next(n.params),BR(t.url,n.url)||e.urlSubject.next(n.url),Kt(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Ep(e,t){let n=Kt(e.params,t.params)&&GR(e.url,t.url),i=!e.parent!=!t.parent;return n&&!i&&(!e.parent||Ep(e.parent,t.parent))}function Fw(e){return typeof e.title=="string"||e.title===null}var xp=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=V,this.activateEvents=new ae,this.deactivateEvents=new ae,this.attachEvents=new ae,this.detachEvents=new ae,this.parentContexts=g(Is),this.location=g(zn),this.changeDetector=g(_n),this.inputBinder=g(zc,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:i,previousValue:r}=n.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new I(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new I(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new I(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,i){this.activated=n,this._activatedRoute=i,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,i){if(this.isActivated)throw new I(4013,!1);this._activatedRoute=n;let r=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new Ip(n,a,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275dir=rt({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Un]})}}return e})(),Ip=class e{__ngOutletInjector(t){return new e(this.route,this.childContexts,t)}constructor(t,n,i){this.route=t,this.childContexts=n,this.parent=i}get(t,n){return t===Ui?this.route:t===Is?this.childContexts:this.parent.get(t,n)}},zc=new w(""),pw=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:i}=n,r=pr([i.queryParams,i.params,i.data]).pipe(ie(([o,s,a],l)=>(a=y(y(y({},o),s),a),l===0?C(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(n);return}let s=Nb(i.component);if(!s){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(n,r)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac})}}return e})();function pO(e,t,n){let i=vs(e,t._root,n?n._root:void 0);return new Vc(i,t)}function vs(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let i=n.value;i._futureSnapshot=t.value;let r=gO(e,t,n);return new ot(i,r)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>vs(e,a)),s}}let i=mO(t.value),r=t.children.map(o=>vs(e,o));return new ot(i,r)}}function gO(e,t,n){return t.children.map(i=>{for(let r of n.children)if(e.shouldReuseRoute(i.value,r.value.snapshot))return vs(e,i,r);return vs(e,i)})}function mO(e){return new Ui(new be(e.url),new be(e.params),new be(e.queryParams),new be(e.fragment),new be(e.data),e.outlet,e.component,e)}var ys=class{constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},Lw="ngNavigationCancelingError";function Uc(e,t){let{redirectTo:n,navigationBehaviorOptions:i}=Bi(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=Vw(!1,st.Redirect);return r.url=n,r.navigationBehaviorOptions=i,r}function Vw(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[Lw]=!0,n.cancellationCode=t,n}function _O(e){return jw(e)&&Bi(e.url)}function jw(e){return!!e&&e[Lw]}var vO=(e,t,n,i)=>S(r=>(new Tp(t,r.targetRouterState,r.currentRouterState,n,i).activate(e),r)),Tp=class{constructor(t,n,i,r,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(t){let n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,t),rp(this.futureState.root),this.activateChildRoutes(n,i,t)}deactivateChildRoutes(t,n,i){let r=Yr(n);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,n,i){let r=t.value,o=n?n.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,i);else o&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let i=n.getContext(t.value.outlet),r=i&&t.value.component?i.children:n,o=Yr(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){let i=n.getContext(t.value.outlet),r=i&&t.value.component?i.children:n,o=Yr(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,n,i){let r=Yr(n);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new bp(o.value.snapshot))}),t.children.length&&this.forwardEvent(new vp(t.value.snapshot))}activateRoutes(t,n,i){let r=t.value,o=n?n.value:null;if(rp(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),rp(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,i)}},$c=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Jr=class{constructor(t,n){this.component=t,this.route=n}};function yO(e,t,n){let i=e._root,r=t?t._root:null;return us(i,r,n,[i.value])}function bO(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function ro(e,t){let n=Symbol(),i=t.get(e,n);return i===n?typeof e=="function"&&!Kv(e)?e:t.get(e):i}function us(e,t,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=Yr(t);return e.children.forEach(s=>{wO(s,o[s.value.outlet],n,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>ps(a,n.getContext(s),r)),r}function wO(e,t,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=DO(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new $c(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?us(e,t,a?a.children:null,i,r):us(e,t,n,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Jr(a.outlet.component,s))}else s&&ps(t,a,r),r.canActivateChecks.push(new $c(i)),o.component?us(e,null,a?a.children:null,i,r):us(e,null,n,i,r);return r}function DO(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!ji(e.url,t.url);case"pathParamsOrQueryParamsChange":return!ji(e.url,t.url)||!Kt(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ep(e,t)||!Kt(e.queryParams,t.queryParams);case"paramsChange":default:return!Ep(e,t)}}function ps(e,t,n){let i=Yr(e),r=e.value;Object.entries(i).forEach(([o,s])=>{r.component?t?ps(s,t.children.getContext(o),n):ps(s,null,n):ps(s,t,n)}),r.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new Jr(t.outlet.component,r)):n.canDeactivateChecks.push(new Jr(null,r)):n.canDeactivateChecks.push(new Jr(null,r))}function Ts(e){return typeof e=="function"}function CO(e){return typeof e=="boolean"}function EO(e){return e&&Ts(e.canLoad)}function IO(e){return e&&Ts(e.canActivate)}function TO(e){return e&&Ts(e.canActivateChild)}function SO(e){return e&&Ts(e.canDeactivate)}function MO(e){return e&&Ts(e.canMatch)}function Bw(e){return e instanceof on||e?.name==="EmptyError"}var Mc=Symbol("INITIAL_VALUE");function io(){return ie(e=>pr(e.map(t=>t.pipe(pt(1),el(Mc)))).pipe(S(t=>{for(let n of t)if(n!==!0){if(n===Mc)return Mc;if(n===!1||AO(n))return n}return!0}),_e(t=>t!==Mc),pt(1)))}function AO(e){return Bi(e)||e instanceof ys}function NO(e,t){return he(n=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?C(U(y({},n),{guardsResult:!0})):RO(s,i,r,e).pipe(he(a=>a&&CO(a)?OO(i,o,e,t):C(a)),S(a=>U(y({},n),{guardsResult:a})))})}function RO(e,t,n,i){return ee(e).pipe(he(r=>LO(r.component,r.route,n,t,i)),gt(r=>r!==!0,!0))}function OO(e,t,n,i){return ee(t).pipe(sn(r=>Nn(kO(r.route.parent,i),xO(r.route,i),FO(e,r.path,n),PO(e,r.route,n))),gt(r=>r!==!0,!0))}function xO(e,t){return e!==null&&t&&t(new yp(e)),C(!0)}function kO(e,t){return e!==null&&t&&t(new _p(e)),C(!0)}function PO(e,t,n){let i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||i.length===0)return C(!0);let r=i.map(o=>Ya(()=>{let s=Es(t)??n,a=ro(o,s),l=IO(a)?a.canActivate(t,e):yt(s,()=>a(t,e));return Xn(l).pipe(gt())}));return C(r).pipe(io())}function FO(e,t,n){let i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>bO(s)).filter(s=>s!==null).map(s=>Ya(()=>{let a=s.guards.map(l=>{let c=Es(s.node)??n,u=ro(l,c),d=TO(u)?u.canActivateChild(i,e):yt(c,()=>u(i,e));return Xn(d).pipe(gt())});return C(a).pipe(io())}));return C(o).pipe(io())}function LO(e,t,n,i,r){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return C(!0);let s=o.map(a=>{let l=Es(t)??r,c=ro(a,l),u=SO(c)?c.canDeactivate(e,t,n,i):yt(l,()=>c(e,t,n,i));return Xn(u).pipe(gt())});return C(s).pipe(io())}function VO(e,t,n,i){let r=t.canLoad;if(r===void 0||r.length===0)return C(!0);let o=r.map(s=>{let a=ro(s,e),l=EO(a)?a.canLoad(t,n):yt(e,()=>a(t,n));return Xn(l)});return C(o).pipe(io(),Uw(i))}function Uw(e){return bd(me(t=>{if(typeof t!="boolean")throw Uc(e,t)}),S(t=>t===!0))}function jO(e,t,n,i){let r=t.canMatch;if(!r||r.length===0)return C(!0);let o=r.map(s=>{let a=ro(s,e),l=MO(a)?a.canMatch(t,n):yt(e,()=>a(t,n));return Xn(l)});return C(o).pipe(io(),Uw(i))}var bs=class{constructor(t){this.segmentGroup=t||null}},ws=class extends Error{constructor(t){super(),this.urlTree=t}};function qr(e){return hr(new bs(e))}function BO(e){return hr(new I(4e3,!1))}function UO(e){return hr(Vw(!1,st.GuardRejected))}var Sp=class{constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return C(i);if(r.numberOfChildren>1||!r.children[V])return BO(`${t.redirectTo}`);r=r.children[V]}}applyRedirectCommands(t,n,i,r,o){if(typeof n!="string"){let a=n,{queryParams:l,fragment:c,routeConfig:u,url:d,outlet:h,params:f,data:p,title:m}=r,b=yt(o,()=>a({params:f,data:p,queryParams:l,fragment:c,routeConfig:u,url:d,outlet:h,title:m}));if(b instanceof Dn)throw new ws(b);n=b}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,i);if(n[0]==="/")throw new ws(s);return s}applyRedirectCreateUrlTree(t,n,i,r){let o=this.createSegmentGroup(t,n.root,i,r);return new Dn(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let i={};return Object.entries(t).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);i[r]=n[a]}else i[r]=o}),i}createSegmentGroup(t,n,i,r){let o=this.createSegments(t,n.segments,i,r),s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,i,r)}),new te(o,s)}createSegments(t,n,i,r){return n.map(o=>o.path[0]===":"?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,n,i){let r=i[n.path.substring(1)];if(!r)throw new I(4001,!1);return r}findOrReturn(t,n){let i=0;for(let r of n){if(r.path===t.path)return n.splice(i),r;i++}return t}},Mp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function $O(e,t,n,i,r){let o=$w(e,t,n);return o.matched?(i=dO(t,i),jO(i,t,n,r).pipe(S(s=>s===!0?o:y({},Mp)))):C(o)}function $w(e,t,n){if(t.path==="**")return HO(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?y({},Mp):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let r=(t.matcher||jR)(n,e,t);if(!r)return y({},Mp);let o={};Object.entries(r.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=r.consumed.length>0?y(y({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function HO(e){return{matched:!0,parameters:e.length>0?ww(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function gw(e,t,n,i){return n.length>0&&WO(e,n,i)?{segmentGroup:new te(t,zO(i,new te(n,e.children))),slicedSegments:[]}:n.length===0&&KO(e,n,i)?{segmentGroup:new te(e.segments,GO(e,n,i,e.children)),slicedSegments:n}:{segmentGroup:new te(e.segments,e.children),slicedSegments:n}}function GO(e,t,n,i){let r={};for(let o of n)if(Wc(e,t,o)&&!i[kt(o)]){let s=new te([],{});r[kt(o)]=s}return y(y({},i),r)}function zO(e,t){let n={};n[V]=t;for(let i of e)if(i.path===""&&kt(i)!==V){let r=new te([],{});n[kt(i)]=r}return n}function WO(e,t,n){return n.some(i=>Wc(e,t,i)&&kt(i)!==V)}function KO(e,t,n){return n.some(i=>Wc(e,t,i))}function Wc(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function qO(e,t,n){return t.length===0&&!e.children[n]}var Ap=class{};function YO(e,t,n,i,r,o,s="emptyOnly"){return new Np(e,t,n,i,r,s,o).recognize()}var QO=31,Np=class{constructor(t,n,i,r,o,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Sp(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new I(4002,`'${t.segmentGroup}'`)}recognize(){let t=gw(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(S(({children:n,rootSnapshot:i})=>{let r=new ot(i,n),o=new Bc("",r),s=rO(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(t){let n=new Zr([],Object.freeze({}),Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),V,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,V,n).pipe(S(i=>({children:i,rootSnapshot:n})),Rn(i=>{if(i instanceof ws)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof bs?this.noMatchError(i):i}))}processSegmentGroup(t,n,i,r,o){return i.segments.length===0&&i.hasChildren()?this.processChildren(t,n,i,o):this.processSegment(t,n,i,i.segments,r,!0,o).pipe(S(s=>s instanceof ot?[s]:[]))}processChildren(t,n,i,r){let o=[];for(let s of Object.keys(i.children))s==="primary"?o.unshift(s):o.push(s);return ee(o).pipe(sn(s=>{let a=i.children[s],l=hO(n,s);return this.processSegmentGroup(t,l,a,s,r)}),mr((s,a)=>(s.push(...a),s)),On(null),xd(),he(s=>{if(s===null)return qr(i);let a=Hw(s);return ZO(a),C(a)}))}processSegment(t,n,i,r,o,s,a){return ee(n).pipe(sn(l=>this.processSegmentAgainstRoute(l._injector??t,n,l,i,r,o,s,a).pipe(Rn(c=>{if(c instanceof bs)return C(null);throw c}))),gt(l=>!!l),Rn(l=>{if(Bw(l))return qO(i,r,o)?C(new Ap):qr(i);throw l}))}processSegmentAgainstRoute(t,n,i,r,o,s,a,l){return kt(i)!==s&&(s===V||!Wc(r,o,i))?qr(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(t,r,i,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,r,n,i,o,s,l):qr(r)}expandSegmentAgainstRouteUsingRedirect(t,n,i,r,o,s,a){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:d,remainingSegments:h}=$w(n,r,o);if(!l)return qr(n);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>QO&&(this.allowRedirects=!1));let f=new Zr(o,c,Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,mw(r),kt(r),r.component??r._loadedComponent??null,r,_w(r)),p=jc(f,a,this.paramsInheritanceStrategy);f.params=Object.freeze(p.params),f.data=Object.freeze(p.data);let m=this.applyRedirects.applyRedirectCommands(u,r.redirectTo,d,f,t);return this.applyRedirects.lineralizeSegments(r,m).pipe(he(b=>this.processSegment(t,i,n,b.concat(h),s,!1,a)))}matchSegmentAgainstRoute(t,n,i,r,o,s){let a=$O(n,i,r,t,this.urlSerializer);return i.path==="**"&&(n.children={}),a.pipe(ie(l=>l.matched?(t=i._injector??t,this.getChildConfig(t,i,r).pipe(ie(({routes:c})=>{let u=i._loadedInjector??t,{parameters:d,consumedSegments:h,remainingSegments:f}=l,p=new Zr(h,d,Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,mw(i),kt(i),i.component??i._loadedComponent??null,i,_w(i)),m=jc(p,s,this.paramsInheritanceStrategy);p.params=Object.freeze(m.params),p.data=Object.freeze(m.data);let{segmentGroup:b,slicedSegments:T}=gw(n,h,f,c);if(T.length===0&&b.hasChildren())return this.processChildren(u,c,b,p).pipe(S(E=>new ot(p,E)));if(c.length===0&&T.length===0)return C(new ot(p,[]));let j=kt(i)===o;return this.processSegment(u,c,b,T,j?V:o,!0,p).pipe(S(E=>new ot(p,E instanceof ot?[E]:[])))}))):qr(n)))}getChildConfig(t,n,i){return n.children?C({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?C({routes:n._loadedRoutes,injector:n._loadedInjector}):VO(t,n,i,this.urlSerializer).pipe(he(r=>r?this.configLoader.loadChildren(t,n).pipe(me(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):UO(n))):C({routes:[],injector:t})}};function ZO(e){e.sort((t,n)=>t.value.outlet===V?-1:n.value.outlet===V?1:t.value.outlet.localeCompare(n.value.outlet))}function JO(e){let t=e.value.routeConfig;return t&&t.path===""}function Hw(e){let t=[],n=new Set;for(let i of e){if(!JO(i)){t.push(i);continue}let r=t.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),n.add(r)):t.push(i)}for(let i of n){let r=Hw(i.children);t.push(new ot(i.value,r))}return t.filter(i=>!n.has(i))}function mw(e){return e.data||{}}function _w(e){return e.resolve||{}}function XO(e,t,n,i,r,o){return he(s=>YO(e,t,n,i,s.extractedUrl,r,o).pipe(S(({state:a,tree:l})=>U(y({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function ex(e,t){return he(n=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return C(n);let o=new Set(r.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of Gw(l))s.add(c);let a=0;return ee(s).pipe(sn(l=>o.has(l)?tx(l,i,e,t):(l.data=jc(l,l.parent,e).resolve,C(void 0))),me(()=>a++),gr(1),he(l=>a===s.size?C(n):Ie))})}function Gw(e){let t=e.children.map(n=>Gw(n)).flat();return[e,...t]}function tx(e,t,n,i){let r=e.routeConfig,o=e._resolve;return r?.title!==void 0&&!Fw(r)&&(o[Ds]=r.title),nx(o,e,t,i).pipe(S(s=>(e._resolvedData=s,e.data=jc(e,e.parent,n).resolve,null)))}function nx(e,t,n,i){let r=ap(e);if(r.length===0)return C({});let o={};return ee(r).pipe(he(s=>ix(e[s],t,n,i).pipe(gt(),me(a=>{if(a instanceof ys)throw Uc(new eo,a);o[s]=a}))),gr(1),Rd(o),Rn(s=>Bw(s)?Ie:hr(s)))}function ix(e,t,n,i){let r=Es(t)??i,o=ro(e,r),s=o.resolve?o.resolve(t,n):yt(r,()=>o(t,n));return Xn(s)}function op(e){return ie(t=>{let n=e(t);return n?ee(n).pipe(S(()=>t)):C(t)})}var zw=(()=>{class e{buildTitle(n){let i,r=n.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===V);return i}getResolvedTitleForRoute(n){return n.data[Ds]}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:()=>g(rx),providedIn:"root"})}}return e})(),rx=(()=>{class e extends zw{constructor(n){super(),this.title=n}updateTitle(n){let i=this.buildTitle(n);i!==void 0&&this.title.setTitle(i)}static{this.\u0275fac=function(i){return new(i||e)(_(lw))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Ss=new w("",{providedIn:"root",factory:()=>({})}),ox=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=it({type:e,selectors:[["ng-component"]],standalone:!0,features:[es],decls:1,vars:0,template:function(i,r){i&1&&mn(0,"router-outlet")},dependencies:[xp],encapsulation:2})}}return e})();function kp(e){let t=e.children&&e.children.map(kp),n=t?U(y({},e),{children:t}):y({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==V&&(n.component=ox),n}var Hc=new w(""),Pp=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=g(fc)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return C(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let i=Xn(n.loadComponent()).pipe(S(Ww),me(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),xn(()=>{this.componentLoaders.delete(n)})),r=new sr(i,()=>new K).pipe(or());return this.componentLoaders.set(n,r),r}loadChildren(n,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return C({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=sx(i,this.compiler,n,this.onLoadEndListener).pipe(xn(()=>{this.childrenLoaders.delete(i)})),s=new sr(o,()=>new K).pipe(or());return this.childrenLoaders.set(i,s),s}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function sx(e,t,n,i){return Xn(e.loadChildren()).pipe(S(Ww),he(r=>r instanceof Ko||Array.isArray(r)?C(r):ee(t.compileModuleAsync(r))),S(r=>{i&&i(e);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(n).injector,s=o.get(Hc,[],{optional:!0,self:!0}).flat()),{routes:s.map(kp),injector:o}}))}function ax(e){return e&&typeof e=="object"&&"default"in e}function Ww(e){return ax(e)?e.default:e}var Fp=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:()=>g(lx),providedIn:"root"})}}return e})(),lx=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,i){return n}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Kw=new w(""),qw=new w("");function cx(e,t,n){let i=e.get(qw),r=e.get(we);return e.get(P).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(c=>setTimeout(c));let o,s=new Promise(c=>{o=c}),a=r.startViewTransition(()=>(o(),ux(e))),{onViewTransitionCreated:l}=i;return l&&yt(e,()=>l({transition:a,from:t,to:n})),s})}function ux(e){return new Promise(t=>{Ur({read:()=>setTimeout(t)},{injector:e})})}var dx=new w(""),Lp=(()=>{class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new K,this.transitionAbortSubject=new K,this.configLoader=g(Pp),this.environmentInjector=g(Me),this.urlSerializer=g(Cs),this.rootContexts=g(Is),this.location=g(Wr),this.inputBindingEnabled=g(zc,{optional:!0})!==null,this.titleStrategy=g(zw),this.options=g(Ss,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=g(Fp),this.createViewTransition=g(Kw,{optional:!0}),this.navigationErrorHandler=g(dx,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>C(void 0),this.rootComponentType=null;let n=r=>this.events.next(new gp(r)),i=r=>this.events.next(new mp(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let i=++this.navigationId;this.transitions?.next(U(y(y({},this.transitions.value),n),{id:i}))}setupNavigations(n,i,r){return this.transitions=new be({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:fs,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(_e(o=>o.id!==0),S(o=>U(y({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),ie(o=>{let s=!1,a=!1;return C(o).pipe(ie(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",st.SupersededByNewNavigation),Ie;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?U(y({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=l.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!c&&u!=="reload"){let d="";return this.events.next(new Zn(l.id,this.urlSerializer.serialize(l.rawUrl),d,kc.IgnoredSameUrlNavigation)),l.resolve(!1),Ie}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return C(l).pipe(ie(d=>{let h=this.transitions?.getValue();return this.events.next(new to(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions?.getValue()?Ie:Promise.resolve(d)}),XO(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),me(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=U(y({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let h=new Pc(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:d,extractedUrl:h,source:f,restoredState:p,extras:m}=l,b=new to(d,this.urlSerializer.serialize(h),f,p);this.events.next(b);let T=kw(this.rootComponentType).snapshot;return this.currentTransition=o=U(y({},l),{targetSnapshot:T,urlAfterRedirects:h,extras:U(y({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,C(o)}else{let d="";return this.events.next(new Zn(l.id,this.urlSerializer.serialize(l.extractedUrl),d,kc.IgnoredByUrlHandlingStrategy)),l.resolve(!1),Ie}}),me(l=>{let c=new dp(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),S(l=>(this.currentTransition=o=U(y({},l),{guards:yO(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),NO(this.environmentInjector,l=>this.events.next(l)),me(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw Uc(this.urlSerializer,l.guardsResult);let c=new hp(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),_e(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",st.GuardRejected),!1)),op(l=>{if(l.guards.canActivateChecks.length)return C(l).pipe(me(c=>{let u=new fp(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),ie(c=>{let u=!1;return C(c).pipe(ex(this.paramsInheritanceStrategy,this.environmentInjector),me({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",st.NoDataFromResolver)}}))}),me(c=>{let u=new pp(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),op(l=>{let c=u=>{let d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(me(h=>{u.component=h}),S(()=>{})));for(let h of u.children)d.push(...c(h));return d};return pr(c(l.targetSnapshot.root)).pipe(On(null),pt(1))}),op(()=>this.afterPreactivation()),ie(()=>{let{currentSnapshot:l,targetSnapshot:c}=o,u=this.createViewTransition?.(this.environmentInjector,l.root,c.root);return u?ee(u).pipe(S(()=>o)):C(o)}),S(l=>{let c=pO(n.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=U(y({},l),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,o}),me(()=>{this.events.next(new _s)}),vO(this.rootContexts,n.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),pt(1),me({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new qt(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),Fe(this.transitionAbortSubject.pipe(me(l=>{throw l}))),xn(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",st.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Rn(l=>{if(a=!0,jw(l))this.events.next(new wn(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),_O(l)?this.events.next(new no(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let c=new ms(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let u=yt(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(u instanceof ys){let{message:d,cancellationCode:h}=Uc(this.urlSerializer,u);this.events.next(new wn(o.id,this.urlSerializer.serialize(o.extractedUrl),d,h)),this.events.next(new no(u.redirectTo,u.navigationBehaviorOptions))}else{this.events.next(c);let d=n.errorHandler(l);o.resolve(!!d)}}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return Ie}))}))}cancelNavigationTransition(n,i,r){let o=new wn(n.id,this.urlSerializer.serialize(n.extractedUrl),i,r);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function hx(e){return e!==fs}var fx=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:()=>g(px),providedIn:"root"})}}return e})(),Rp=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},px=(()=>{class e extends Rp{static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=Fr(e)))(r||e)}})()}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Yw=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:()=>g(gx),providedIn:"root"})}}return e})(),gx=(()=>{class e extends Yw{constructor(){super(...arguments),this.location=g(Wr),this.urlSerializer=g(Cs),this.options=g(Ss,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=g(Fp),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Dn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=kw(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(i=>{i.type==="popstate"&&n(i.url,i.state)})}handleRouterEvent(n,i){if(n instanceof to)this.stateMemento=this.createStateMemento();else if(n instanceof Zn)this.rawUrlTree=i.initialUrl;else if(n instanceof Pc){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??r,i)}}else n instanceof _s?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):n instanceof wn&&(n.code===st.GuardRejected||n.code===st.NoDataFromResolver)?this.restoreHistory(i):n instanceof ms?this.restoreHistory(i,!0):n instanceof qt&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,i){let r=n instanceof Dn?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){let o=this.browserPageId,s=y(y({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(r,"",s)}else{let o=y(y({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(r,"",o)}}restoreHistory(n,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,i){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:i}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=Fr(e)))(r||e)}})()}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),ds=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(ds||{});function Qw(e,t){e.events.pipe(_e(n=>n instanceof qt||n instanceof wn||n instanceof ms||n instanceof Zn),S(n=>n instanceof qt||n instanceof Zn?ds.COMPLETE:(n instanceof wn?n.code===st.Redirect||n.code===st.SupersededByNewNavigation:!1)?ds.REDIRECTING:ds.FAILED),_e(n=>n!==ds.REDIRECTING),pt(1)).subscribe(()=>{t()})}function mx(e){throw e}var _x={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},vx={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Jn=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=g(lc),this.stateManager=g(Yw),this.options=g(Ss,{optional:!0})||{},this.pendingTasks=g(Hn),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=g(Lp),this.urlSerializer=g(Cs),this.location=g(Wr),this.urlHandlingStrategy=g(Fp),this._events=new K,this.errorHandler=this.options.errorHandler||mx,this.navigated=!1,this.routeReuseStrategy=g(fx),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=g(Hc,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!g(zc,{optional:!0}),this.eventsSubscription=new ge,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof wn&&i.code!==st.Redirect&&i.code!==st.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof qt)this.navigated=!0;else if(i instanceof no){let s=i.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),l=y({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||hx(r.source)},s);this.scheduleNavigation(a,fs,null,l,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}bx(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),fs,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",i)},0)})}navigateToSyncWithBrowser(n,i,r){let o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let l=y({},r);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(n);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(kp),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,i={}){let{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=y(y({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let h=r?r.snapshot:this.routerState.snapshot.root;d=Nw(h)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),d=this.currentUrlTree.root}return Rw(d,n,u,c??null)}navigateByUrl(n,i={skipLocationChange:!1}){let r=Bi(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,fs,null,i)}navigate(n,i={skipLocationChange:!1}){return yx(n),this.navigateByUrl(this.createUrlTree(n,i),i)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,i){let r;if(i===!0?r=y({},_x):i===!1?r=y({},vx):r=i,Bi(n))return uw(this.currentUrlTree,n,r);let o=this.parseUrl(n);return uw(this.currentUrlTree,o,r)}removeEmptyProps(n){return Object.entries(n).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(n,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((d,h)=>{a=d,l=h});let u=this.pendingTasks.add();return Qw(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function yx(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new I(4008,!1)}function bx(e){return!(e instanceof _s)&&!(e instanceof no)}var Kc=(()=>{class e{constructor(n,i,r,o,s,a){this.router=n,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.onChanges=new K,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=n.events.subscribe(c=>{c instanceof qt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Bi(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,i,r,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||i||r||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let i=this.href===null?null:f0(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(n,i){let r=this.renderer,o=this.el.nativeElement;i!==null?r.setAttribute(o,n,i):r.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:Bi(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(i){return new(i||e)(Q(Jn),Q(Ui),Zl("tabindex"),Q(Ni),Q(Ge),Q(yn))}}static{this.\u0275dir=rt({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){i&1&&tt("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),i&2&&$r("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Fi],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Fi],replaceUrl:[2,"replaceUrl","replaceUrl",Fi],routerLink:"routerLink"},standalone:!0,features:[Sf,Un]})}}return e})();var Gc=class{};var wx=(()=>{class e{constructor(n,i,r,o,s){this.router=n,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(_e(n=>n instanceof qt),sn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,i){let r=[];for(let o of i){o.providers&&!o._injector&&(o._injector=oc(o.providers,n,`Route: ${o.path}`));let s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return ee(r).pipe(An())}preloadConfig(n,i){return this.preloadingStrategy.preload(i,()=>{let r;i.loadChildren&&i.canLoad===void 0?r=this.loader.loadChildren(n,i):r=C(null);let o=r.pipe(he(s=>s===null?C(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));if(i.loadComponent&&!i._loadedComponent){let s=this.loader.loadComponent(i);return ee([o,s]).pipe(An())}else return o})}static{this.\u0275fac=function(i){return new(i||e)(_(Jn),_(fc),_(Me),_(Gc),_(Pp))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Zw=new w(""),Dx=(()=>{class e{constructor(n,i,r,o,s={}){this.urlSerializer=n,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof to?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof qt?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Zn&&n.code===kc.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Fc&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Fc(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(i){A0()}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac})}}return e})();function Cx(e){return e.routerState.root}function Ms(e,t){return{\u0275kind:e,\u0275providers:t}}function Ex(){let e=g(Te);return t=>{let n=e.get(xt);if(t!==n.components[0])return;let i=e.get(Jn),r=e.get(Jw);e.get(Vp)===1&&i.initialNavigation(),e.get(Xw,null,$.Optional)?.setUpPreloading(),e.get(Zw,null,$.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var Jw=new w("",{factory:()=>new K}),Vp=new w("",{providedIn:"root",factory:()=>1});function Ix(){return Ms(2,[{provide:Vp,useValue:0},{provide:dc,multi:!0,deps:[Te],useFactory:t=>{let n=t.get(Fb,Promise.resolve());return()=>n.then(()=>new Promise(i=>{let r=t.get(Jn),o=t.get(Jw);Qw(r,()=>{i(!0)}),t.get(Lp).afterPreactivation=()=>(i(!0),o.closed?C(void 0):o),r.initialNavigation()}))}}])}function Tx(){return Ms(3,[{provide:dc,multi:!0,useFactory:()=>{let t=g(Jn);return()=>{t.setUpLocationChangeListener()}}},{provide:Vp,useValue:2}])}var Xw=new w("");function Sx(e){return Ms(0,[{provide:Xw,useExisting:wx},{provide:Gc,useExisting:e}])}function Mx(){return Ms(8,[pw,{provide:zc,useExisting:pw}])}function Ax(e){let t=[{provide:Kw,useValue:cx},{provide:qw,useValue:y({skipNextTransition:!!e?.skipInitialTransition},e)}];return Ms(9,t)}var vw=new w("ROUTER_FORROOT_GUARD"),Nx=[Wr,{provide:Cs,useClass:eo},Jn,Is,{provide:Ui,useFactory:Cx,deps:[Jn]},Pp,[]],jp=(()=>{class e{constructor(n){}static forRoot(n,i){return{ngModule:e,providers:[Nx,[],{provide:Hc,multi:!0,useValue:n},{provide:vw,useFactory:kx,deps:[[Jn,new kr,new qh]]},{provide:Ss,useValue:i||{}},i?.useHash?Ox():xx(),Rx(),i?.preloadingStrategy?Sx(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?Px(i):[],i?.bindToComponentInputs?Mx().\u0275providers:[],i?.enableViewTransitions?Ax().\u0275providers:[],Fx()]}}static forChild(n){return{ngModule:e,providers:[{provide:Hc,multi:!0,useValue:n}]}}static{this.\u0275fac=function(i){return new(i||e)(_(vw,8))}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();function Rx(){return{provide:Zw,useFactory:()=>{let e=g(Ub),t=g(P),n=g(Ss),i=g(Lp),r=g(Cs);return n.scrollOffset&&e.setOffset(n.scrollOffset),new Dx(r,i,e,t,n)}}}function Ox(){return{provide:yn,useClass:Vb}}function xx(){return{provide:yn,useClass:Bf}}function kx(e){return"guarded"}function Px(e){return[e.initialNavigation==="disabled"?Tx().\u0275providers:[],e.initialNavigation==="enabledBlocking"?Ix().\u0275providers:[]]}var yw=new w("");function Fx(){return[{provide:yw,useFactory:Ex},{provide:hc,multi:!0,useExisting:yw}]}var qc=class e{constructor(t){this.http=t;this.downloadAll()}url="https://dolgozat-79584-default-rtdb.europe-west1.firebasedatabase.app./";adatSub=new K;getAll(){return this.adatSub}downloadAll(){this.http.get(this.url+".json").subscribe(t=>{let n=[];for(let i in t)n.push(y({azon:i},t[i]));this.adatSub.next(n)})}newData(t){this.http.post(this.url+".json",t).forEach(()=>this.downloadAll())}updateData(t){this.http.put(this.url+t.azon+".json",t).forEach(()=>this.downloadAll())}deleteData(t){this.http.delete(this.url+t.azon+".json").forEach(()=>this.downloadAll())}static \u0275fac=function(n){return new(n||e)(_(Li))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})};var oo=class e{constructor(t){this.http=t;this.loadConfigJson("hu")}menuItems=new be([]);loadConfigJson(t){this.http.get("assets/lang_"+t+".json").subscribe(n=>this.menuItems.next(n))}getLinks(){return this.menuItems}setLang(t){this.loadConfigJson(t)}static \u0275fac=function(n){return new(n||e)(_(Li))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})};var lD=(()=>{class e{constructor(n,i){this._renderer=n,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(n,i){this._renderer.setProperty(this._elementRef.nativeElement,n,i)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(i){return new(i||e)(Q(Ni),Q(Ge))}}static{this.\u0275dir=rt({type:e})}}return e})(),Vx=(()=>{class e extends lD{static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=Fr(e)))(r||e)}})()}static{this.\u0275dir=rt({type:e,features:[Ri]})}}return e})(),cD=new w("");var jx={provide:cD,useExisting:xr(()=>Xc),multi:!0};function Bx(){let e=Wt()?Wt().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var Ux=new w(""),Xc=(()=>{class e extends lD{constructor(n,i,r){super(n,i),this._compositionMode=r,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Bx())}writeValue(n){let i=n??"";this.setProperty("value",i)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(i){return new(i||e)(Q(Ni),Q(Ge),Q(Ux,8))}}static{this.\u0275dir=rt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&tt("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[ac([jx]),Ri]})}}return e})();var $x=new w(""),Hx=new w("");function uD(e){return e!=null}function dD(e){return Pi(e)?ee(e):e}function hD(e){let t={};return e.forEach(n=>{t=n!=null?y(y({},t),n):t}),Object.keys(t).length===0?null:t}function fD(e,t){return t.map(n=>n(e))}function Gx(e){return!e.validate}function pD(e){return e.map(t=>Gx(t)?t:n=>t.validate(n))}function zx(e){if(!e)return null;let t=e.filter(uD);return t.length==0?null:function(n){return hD(fD(n,t))}}function gD(e){return e!=null?zx(pD(e)):null}function Wx(e){if(!e)return null;let t=e.filter(uD);return t.length==0?null:function(n){let i=fD(n,t).map(dD);return Md(i).pipe(S(hD))}}function mD(e){return e!=null?Wx(pD(e)):null}function tD(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function Kx(e){return e._rawValidators}function qx(e){return e._rawAsyncValidators}function Up(e){return e?Array.isArray(e)?e:[e]:[]}function Qc(e,t){return Array.isArray(e)?e.includes(t):e===t}function nD(e,t){let n=Up(t);return Up(e).forEach(r=>{Qc(n,r)||n.push(r)}),n}function iD(e,t){return Up(t).filter(n=>!Qc(e,n))}var Zc=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=gD(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=mD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},$p=class extends Zc{get formDirective(){return null}get path(){return null}},xs=class extends Zc{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Hp=class{constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Yx={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},lz=U(y({},Yx),{"[class.ng-submitted]":"isSubmitted"}),_D=(()=>{class e extends Hp{constructor(n){super(n)}static{this.\u0275fac=function(i){return new(i||e)(Q(xs,2))}}static{this.\u0275dir=rt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&Oi("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Ri]})}}return e})();var As="VALID",Yc="INVALID",so="PENDING",Ns="DISABLED",lo=class{},Jc=class extends lo{constructor(t,n){super(),this.value=t,this.source=n}},Rs=class extends lo{constructor(t,n){super(),this.pristine=t,this.source=n}},Os=class extends lo{constructor(t,n){super(),this.touched=t,this.source=n}},ao=class extends lo{constructor(t,n){super(),this.status=t,this.source=n}};function Qx(e){return(eu(e)?e.validators:e)||null}function Zx(e){return Array.isArray(e)?gD(e):e||null}function Jx(e,t){return(eu(t)?t.asyncValidators:e)||null}function Xx(e){return Array.isArray(e)?mD(e):e||null}function eu(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}var Gp=class{constructor(t,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=gc(()=>this.statusReactive()),this.statusReactive=rc(void 0),this._pristine=gc(()=>this.pristineReactive()),this.pristineReactive=rc(!0),this._touched=gc(()=>this.touchedReactive()),this.touchedReactive=rc(!1),this._events=new K,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Kn(this.statusReactive)}set status(t){Kn(()=>this.statusReactive.set(t))}get valid(){return this.status===As}get invalid(){return this.status===Yc}get pending(){return this.status==so}get disabled(){return this.status===Ns}get enabled(){return this.status!==Ns}get pristine(){return Kn(this.pristineReactive)}set pristine(t){Kn(()=>this.pristineReactive.set(t))}get dirty(){return!this.pristine}get touched(){return Kn(this.touchedReactive)}set touched(t){Kn(()=>this.touchedReactive.set(t))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(nD(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(nD(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(iD(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(iD(t,this._rawAsyncValidators))}hasValidator(t){return Qc(this._rawValidators,t)}hasAsyncValidator(t){return Qc(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let n=this.touched===!1;this.touched=!0;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(U(y({},t),{sourceControl:i})),n&&t.emitEvent!==!1&&this._events.next(new Os(!0,i))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:i})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,i),n&&t.emitEvent!==!1&&this._events.next(new Os(!1,i))}markAsDirty(t={}){let n=this.pristine===!0;this.pristine=!1;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(U(y({},t),{sourceControl:i})),n&&t.emitEvent!==!1&&this._events.next(new Rs(!1,i))}markAsPristine(t={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,i),n&&t.emitEvent!==!1&&this._events.next(new Rs(!0,i))}markAsPending(t={}){this.status=so;let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new ao(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(U(y({},t),{sourceControl:n}))}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=Ns,this.errors=null,this._forEachChild(r=>{r.disable(U(y({},t),{onlySelf:!0}))}),this._updateValue();let i=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Jc(this.value,i)),this._events.next(new ao(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(U(y({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=As,this._forEachChild(i=>{i.enable(U(y({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(U(y({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===As||this.status===so)&&this._runAsyncValidator(i,t.emitEvent)}let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Jc(this.value,n)),this._events.next(new ao(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(U(y({},t),{sourceControl:n}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ns:As}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=so,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let i=dD(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((i,r)=>i&&i._find(r),this)}getError(t,n){let i=n?this.get(n):this;return i&&i.errors?i.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,i){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||i)&&this._events.next(new ao(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,i)}_initObservables(){this.valueChanges=new ae,this.statusChanges=new ae}_calculateStatus(){return this._allControlsDisabled()?Ns:this.errors?Yc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(so)?so:this._anyControlsHaveStatus(Yc)?Yc:As}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),r&&this._events.next(new Rs(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new Os(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){eu(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=Zx(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=Xx(this._rawAsyncValidators)}};var vD=new w("CallSetDisabledState",{providedIn:"root",factory:()=>zp}),zp="always";function ek(e,t){return[...t.path,e]}function tk(e,t,n=zp){ik(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),rk(e,t),sk(e,t),ok(e,t),nk(e,t)}function rD(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function nk(e,t){if(t.valueAccessor.setDisabledState){let n=i=>{t.valueAccessor.setDisabledState(i)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function ik(e,t){let n=Kx(e);t.validator!==null?e.setValidators(tD(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let i=qx(e);t.asyncValidator!==null?e.setAsyncValidators(tD(i,t.asyncValidator)):typeof i=="function"&&e.setAsyncValidators([i]);let r=()=>e.updateValueAndValidity();rD(t._rawValidators,r),rD(t._rawAsyncValidators,r)}function rk(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&yD(e,t)})}function ok(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&yD(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function yD(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function sk(e,t){let n=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function ak(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function lk(e){return Object.getPrototypeOf(e.constructor)===Vx}function ck(e,t){if(!t)return null;Array.isArray(t);let n,i,r;return t.forEach(o=>{o.constructor===Xc?n=o:lk(o)?i=o:r=o}),r||i||n||null}function oD(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function sD(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var uk=class extends Gp{constructor(t=null,n,i){super(Qx(n),Jx(i,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),eu(n)&&(n.nonNullable||n.initialValueIsDefault)&&(sD(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){oD(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){oD(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){sD(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var dk={provide:xs,useExisting:xr(()=>Wp)},aD=Promise.resolve(),Wp=(()=>{class e extends xs{constructor(n,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new uk,this._registered=!1,this.name="",this.update=new ae,this._parent=n,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=ck(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let i=n.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),ak(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){tk(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){aD.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let i=n.isDisabled.currentValue,r=i!==0&&Fi(i);aD.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?ek(n,this._parent):[n]}static{this.\u0275fac=function(i){return new(i||e)(Q($p,9),Q($x,10),Q(Hx,10),Q(cD,10),Q(_n,8),Q(vD,8))}}static{this.\u0275dir=rt({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ac([dk]),Ri,Un]})}}return e})();var hk=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();var bD=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:vD,useValue:n.callSetDisabledState??zp}]}}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({imports:[hk]})}}return e})();function pk(e,t){if(e&1&&(oe(0,"div",3),ze(1),ce()),e&2){let n=t.$implicit;ue(),ki(" ",n.text," ")}}function gk(e,t){if(e&1){let n=xi();oe(0,"div",3)(1,"input",4),Gr("ngModelChange",function(r){let o=Si(n).$implicit,s=wt();return Xo(s.newCikk[o],r)||(s.newCikk[o]=r),Mi(r)}),ce()()}if(e&2){let n=t.$implicit,i=wt();ue(),Hr("ngModel",i.newCikk[n])}}function mk(e,t){if(e&1){let n=xi();oe(0,"div",3)(1,"button",5),tt("click",function(){Si(n);let r=wt();return Mi(r.newData())}),ze(2),ce()()}if(e&2){let n=t.$implicit;ue(),Ve("routerLink",n.link),ue(),Wn(n.text)}}function _k(e,t){if(e&1){let n=xi();oe(0,"div",3)(1,"input",4),Gr("ngModelChange",function(r){let o=Si(n).$implicit,s=wt().$implicit;return Xo(s[o],r)||(s[o]=r),Mi(r)}),ce()()}if(e&2){let n=t.$implicit,i=wt().$implicit;ue(),Hr("ngModel",i[n])}}function vk(e,t){if(e&1){let n=xi();oe(0,"div",3)(1,"button",5),tt("click",function(){Si(n);let r=wt().$implicit,o=wt();return Mi(o.updateData(r))}),ze(2),ce()()}if(e&2){let n=t.$implicit;ue(),Ve("routerLink",n.link),ue(),Wn(n.text)}}function yk(e,t){if(e&1){let n=xi();oe(0,"div",3)(1,"button",5),tt("click",function(){Si(n);let r=wt().$implicit,o=wt();return Mi(o.deleteData(r))}),ze(2),ce()()}if(e&2){let n=t.$implicit;ue(),Ve("routerLink",n.link),ue(),Wn(n.text)}}function bk(e,t){if(e&1&&(oe(0,"div",0),gn(1,_k,2,1,"div",1)(2,vk,3,2,"div",1)(3,yk,3,2,"div",1),ce()),e&2){let n=wt();ue(),Ve("ngForOf",n.oszlopok),ue(),Ve("ngForOf",n.addEditColumn),ue(),Ve("ngForOf",n.addDeleteColumn)}}var ks=class e{constructor(t,n,i){this.base=t;this.config=n;this.http=i;this.base.getAll().subscribe(r=>this.cikkek=r),this.config.getLinks().subscribe(r=>this.addAddColumn=r.HozzaAdasGmb),this.config.getLinks().subscribe(r=>this.addEditColumn=r.ModositasGmb),this.config.getLinks().subscribe(r=>this.addDeleteColumn=r.TorlesGmb),console.log(this.links)}addAddColumn;addEditColumn;addDeleteColumn;items=[];columns=[];oszlopok=["name","category","description","price"];adattomb=[];HozzaAdasSzoveg="Hozz\xE1ad\xE1s";ModositasSzoveg="M\xF3dos\xEDt\xE1s";TorlesSzoveg="T\u0151rl\xE9s";links;dropClose=!0;lang="Magyar";gombAtallit=!0;cikkek;newCikk={};updateData(t){this.base.updateData(t)}deleteData(t){this.base.deleteData(t)}newData(){this.base.newData(this.newCikk),this.newCikk={}}showDatas(){this.base.getAll().subscribe(t=>this.cikkek=t)}gombBeallitasa(t){this.lang=t=="hu"?"Magyar":"English",this.config.setLang(t),this.dropClose=!0,t=="hu"?this.gombAtallit=!0:this.gombAtallit=!1}static \u0275fac=function(n){return new(n||e)(Q(qc),Q(oo),Q(Li))};static \u0275cmp=it({type:e,selectors:[["app-products-list"]],decls:7,vars:4,consts:[[1,"row"],["class","col",4,"ngFor","ngForOf"],["class","row",4,"ngFor","ngForOf"],[1,"col"],["type","text",1,"form-control",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-primary",3,"click","routerLink"]],template:function(n,i){n&1&&(ze(0,`
Ha az adatok nem jelennek meg k\xE9rem friss\xEDtsen r\xE1 az oldalra.
`),oe(1,"div",0),gn(2,pk,2,1,"div",1),ce(),oe(3,"div",0),gn(4,gk,2,1,"div",1)(5,mk,3,2,"div",1),ce(),gn(6,bk,4,3,"div",2)),n&2&&(ue(2),Ve("ngForOf",i.columns),ue(2),Ve("ngForOf",i.oszlopok),ue(),Ve("ngForOf",i.addAddColumn),ue(),Ve("ngForOf",i.cikkek))},dependencies:[yc,Kc,Xc,_D,Wp]})};var Ps=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=it({type:e,selectors:[["app-login"]],decls:2,vars:0,template:function(n,i){n&1&&(oe(0,"p"),ze(1,"login works!"),ce())}})};var wk=[{path:"products",component:ks},{path:"login",component:Ps},{path:"",component:Ps},{path:"**",component:ks}],tu=class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=L({type:e});static \u0275inj=F({imports:[jp.forRoot(wk),jp]})};var Dk=["*"];var Ck=["dialog"];var wD={animation:!0,transitionTimerDelayMs:5},DD=(()=>{class e{constructor(){this.animation=wD.animation}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Ek(e){let{transitionDelay:t,transitionDuration:n}=window.getComputedStyle(e),i=parseFloat(t),r=parseFloat(n);return(i+r)*1e3}function CD(e){return typeof e=="string"}function qp(e){return e!=null}function Ik(e){return e&&e.then}function Zp(e){return(e||document.body).getBoundingClientRect()}function Tk(e){return t=>new N(n=>{let i=s=>e.run(()=>n.next(s)),r=s=>e.run(()=>n.error(s)),o=()=>e.run(()=>n.complete());return t.subscribe({next:i,error:r,complete:o})})}var Sk=()=>{},{transitionTimerDelayMs:Mk}=wD,nu=new Map,ei=(e,t,n,i)=>{let r=i.context||{},o=nu.get(t);if(o)switch(i.runningTransition){case"continue":return Ie;case"stop":e.run(()=>o.transition$.complete()),r=Object.assign(o.context,r),nu.delete(t)}let s=n(t,i.animation,r)||Sk;if(!i.animation||window.getComputedStyle(t).transitionProperty==="none")return e.run(()=>s()),C(void 0).pipe(Tk(e));let a=new K,l=new K,c=a.pipe(Od(!0));nu.set(t,{transition$:a,complete:()=>{l.next(),l.complete()},context:r});let u=Ek(t);return e.runOutsideAngular(()=>{let d=ft(t,"transitionend").pipe(Fe(c),_e(({target:f})=>f===t)),h=Ad(u+Mk).pipe(Fe(c));Nd(h,d,l).pipe(Fe(c)).subscribe(()=>{nu.delete(t),e.run(()=>{s(),a.next(),a.complete()})})}),a.asObservable()};function Ak(e,t){if(typeof navigator>"u")return"0px";let{classList:n}=e,i=n.contains("show");i||n.add("show"),e.style[t]="";let r=e.getBoundingClientRect()[t]+"px";return i||n.remove("show"),r}var Nk=(e,t,n)=>{let{direction:i,maxSize:r,dimension:o}=n,{classList:s}=e;function a(){s.add("collapse"),i==="show"?s.add("show"):s.remove("show")}if(!t){a();return}return r||(r=Ak(e,o),n.maxSize=r,e.style[o]=i!=="show"?r:"0px",s.remove("collapse","collapsing","show"),Zp(e),s.add("collapsing")),e.style[o]=i==="show"?r:"0px",()=>{a(),s.remove("collapsing"),e.style[o]=""}},Rk=(()=>{class e{constructor(){this._ngbConfig=g(DD),this.horizontal=!1}get animation(){return this._animation??this._ngbConfig.animation}set animation(n){this._animation=n}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),ED=(()=>{class e{constructor(){this._config=g(Rk),this._element=g(Ge),this._zone=g(P),this.animation=this._config.animation,this._afterInit=!1,this._isCollapsed=!1,this.ngbCollapseChange=new ae,this.horizontal=this._config.horizontal,this.shown=new ae,this.hidden=new ae}set collapsed(n){this._isCollapsed!==n&&(this._isCollapsed=n,this._afterInit&&this._runTransitionWithEvents(n,this.animation))}ngOnInit(){this._runTransition(this._isCollapsed,!1),this._afterInit=!0}toggle(n=this._isCollapsed){this.collapsed=!n,this.ngbCollapseChange.next(this._isCollapsed)}_runTransition(n,i){return ei(this._zone,this._element.nativeElement,Nk,{animation:i,runningTransition:"stop",context:{direction:n?"hide":"show",dimension:this.horizontal?"width":"height"}})}_runTransitionWithEvents(n,i){this._runTransition(n,i).subscribe(()=>{n?this.hidden.emit():this.shown.emit()})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275dir=rt({type:e,selectors:[["","ngbCollapse",""]],hostVars:2,hostBindings:function(i,r){i&2&&Oi("collapse-horizontal",r.horizontal)},inputs:{animation:"animation",collapsed:[0,"ngbCollapse","collapsed"],horizontal:"horizontal"},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"],standalone:!0})}}return e})();var ID=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();var TD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();var SD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})(),MD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();var lW=(()=>{let e=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2,t=()=>/Android/.test(navigator.userAgent);return typeof navigator<"u"?!!navigator.userAgent&&(e()||t()):!1})();var Ok=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function AD(e){let t=Array.from(e.querySelectorAll(Ok)).filter(n=>n.tabIndex!==-1);return[t[0],t[t.length-1]]}var xk=(e,t,n,i=!1)=>{e.runOutsideAngular(()=>{let r=ft(t,"focusin").pipe(Fe(n),S(o=>o.target));ft(t,"keydown").pipe(Fe(n),_e(o=>o.key==="Tab"),_r(r)).subscribe(([o,s])=>{let[a,l]=AD(t);(s===a||s===t)&&o.shiftKey&&(l.focus(),o.preventDefault()),s===l&&!o.shiftKey&&(a.focus(),o.preventDefault())}),i&&ft(t,"click").pipe(Fe(n),_r(r),S(o=>o[1])).subscribe(o=>o.focus())})};var cW=new Date(1882,10,12),uW=new Date(2174,10,25);var dW=1e3*60*60*24;var Jp=1080,kk=24*Jp,Pk=12*Jp+793,hW=29*kk+Pk,fW=11*Jp+204;var ND=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();var RD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})(),Fk=(()=>{class e{constructor(){this._ngbConfig=g(DD),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(n){this._animation=n}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),co=class{constructor(t,n,i){this.nodes=t,this.viewRef=n,this.componentRef=i}};var Lk=(()=>{class e{constructor(){this._document=g(we)}hide(){let n=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:o,paddingRight:s}=r;if(n>0){let a=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${a+n}px`}return r.overflow="hidden",()=>{n>0&&(r.paddingRight=s),r.overflow=o}}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Vk=(()=>{class e{constructor(){this._nativeElement=g(Ge).nativeElement,this._zone=g(P),this._injector=g(Te)}ngOnInit(){Ur(()=>ei(this._zone,this._nativeElement,(n,i)=>{i&&Zp(n),n.classList.add("show")},{animation:this.animation,runningTransition:"continue"}),{injector:this._injector,phase:an.MixedReadWrite})}hide(){return ei(this._zone,this._nativeElement,({classList:n})=>n.remove("show"),{animation:this.animation,runningTransition:"stop"})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=it({type:e,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(i,r){i&2&&(sc("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),Oi("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[es],decls:0,vars:0,template:function(i,r){},encapsulation:2})}}return e})(),iu=class{update(t){}close(t){}dismiss(t){}},jk=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],Bk=["animation","backdropClass"],Yp=class{_applyWindowOptions(t,n){jk.forEach(i=>{qp(n[i])&&(t[i]=n[i])})}_applyBackdropOptions(t,n){Bk.forEach(i=>{qp(n[i])&&(t[i]=n[i])})}update(t){this._applyWindowOptions(this._windowCmptRef.instance,t),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,t)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Fe(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Fe(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(t,n,i,r){this._windowCmptRef=t,this._contentRef=n,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new K,this._dismissed=new K,this._hidden=new K,t.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,s)=>{this._resolve=o,this._reject=s}),this.result.then(null,()=>{})}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(!this._beforeDismiss)this._dismiss(t);else{let n=this._beforeDismiss();Ik(n)?n.then(i=>{i!==!1&&this._dismiss(t)},()=>{}):n!==!1&&this._dismiss(t)}}_removeModalElements(){let t=this._windowCmptRef.instance.hide(),n=this._backdropCmptRef?this._backdropCmptRef.instance.hide():C(void 0);t.subscribe(()=>{let{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef?.viewRef?.destroy(),this._windowCmptRef=null,this._contentRef=null}),n.subscribe(()=>{if(this._backdropCmptRef){let{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Lo(t,n).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}},Qp=function(e){return e[e.BACKDROP_CLICK=0]="BACKDROP_CLICK",e[e.ESC=1]="ESC",e}(Qp||{}),Uk=(()=>{class e{constructor(){this._document=g(we),this._elRef=g(Ge),this._zone=g(P),this._injector=g(Te),this._closed$=new K,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new ae,this.shown=new K,this.hidden=new K}get fullscreenClass(){return this.fullscreen===!0?" modal-fullscreen":CD(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(n){this.dismissEvent.emit(n)}ngOnInit(){this._elWithFocus=this._document.activeElement,Ur(()=>this._show(),{injector:this._injector,phase:an.MixedReadWrite})}ngOnDestroy(){this._disableEventHandling()}hide(){let{nativeElement:n}=this._elRef,i={animation:this.animation,runningTransition:"stop"},r=ei(this._zone,n,()=>n.classList.remove("show"),i),o=ei(this._zone,this._dialogEl.nativeElement,()=>{},i),s=Lo(r,o);return s.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),s}_show(){let n={animation:this.animation,runningTransition:"continue"},i=ei(this._zone,this._elRef.nativeElement,(o,s)=>{s&&Zp(o),o.classList.add("show")},n),r=ei(this._zone,this._dialogEl.nativeElement,()=>{},n);Lo(i,r).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){let{nativeElement:n}=this._elRef;this._zone.runOutsideAngular(()=>{ft(n,"keydown").pipe(Fe(this._closed$),_e(r=>r.key==="Escape")).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(Qp.ESC))}):this.backdrop==="static"&&this._bumpBackdrop()});let i=!1;ft(this._dialogEl.nativeElement,"mousedown").pipe(Fe(this._closed$),me(()=>i=!1),ie(()=>ft(n,"mouseup").pipe(Fe(this._closed$),pt(1))),_e(({target:r})=>n===r)).subscribe(()=>{i=!0}),ft(n,"click").pipe(Fe(this._closed$)).subscribe(({target:r})=>{n===r&&(this.backdrop==="static"?this._bumpBackdrop():this.backdrop===!0&&!i&&this._zone.run(()=>this.dismiss(Qp.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){let{nativeElement:n}=this._elRef;if(!n.contains(document.activeElement)){let i=n.querySelector("[ngbAutofocus]"),r=AD(n)[0];(i||r||n).focus()}}_restoreFocus(){let n=this._document.body,i=this._elWithFocus,r;i&&i.focus&&n.contains(i)?r=i:r=n,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){this.backdrop==="static"&&ei(this._zone,this._elRef.nativeElement,({classList:n})=>(n.add("modal-static"),()=>n.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=it({type:e,selectors:[["ngb-modal-window"]],viewQuery:function(i,r){if(i&1&&vb(Ck,7),i&2){let o;Mf(o=Af())&&(r._dialogEl=o.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(i,r){i&2&&($r("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),sc("modal d-block"+(r.windowClass?" "+r.windowClass:"")),Oi("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[es],ngContentSelectors:Dk,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(i,r){i&1&&(mb(),oe(0,"div",1,0)(2,"div",2),_b(3),ce()()),i&2&&sc("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:[`ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}
`],encapsulation:2})}}return e})(),$k=(()=>{class e{constructor(){this._applicationRef=g(xt),this._injector=g(Te),this._environmentInjector=g(Me),this._document=g(we),this._scrollBar=g(Lk),this._activeWindowCmptHasChanged=new K,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new ae;let n=g(P);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){let i=this._windowCmpts[this._windowCmpts.length-1];xk(n,i.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(i.location.nativeElement)}})}_restoreScrollBar(){let n=this._scrollBarRestoreFn;n&&(this._scrollBarRestoreFn=null,n())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(n,i,r){let o=r.container instanceof HTMLElement?r.container:qp(r.container)?this._document.querySelector(r.container):this._document.body;if(!o)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);this._hideScrollBar();let s=new iu;n=r.injector||n;let a=n.get(Me,null)||this._environmentInjector,l=this._getContentRef(n,a,i,s,r),c=r.backdrop!==!1?this._attachBackdrop(o):void 0,u=this._attachWindowComponent(o,l.nodes),d=new Yp(u,l,c,r.beforeDismiss);return this._registerModalRef(d),this._registerWindowCmpt(u),d.hidden.pipe(pt(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),s.close=h=>{d.close(h)},s.dismiss=h=>{d.dismiss(h)},s.update=h=>{d.update(h)},d.update(r),this._modalRefs.length===1&&this._document.body.classList.add("modal-open"),c&&c.instance&&c.changeDetectorRef.detectChanges(),u.changeDetectorRef.detectChanges(),d}get activeInstances(){return this._activeInstances}dismissAll(n){this._modalRefs.forEach(i=>i.dismiss(n))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(n){let i=mc(Vk,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),n.appendChild(i.location.nativeElement),i}_attachWindowComponent(n,i){let r=mc(Uk,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(r.hostView),n.appendChild(r.location.nativeElement),r}_getContentRef(n,i,r,o,s){return r?r instanceof jn?this._createFromTemplateRef(r,o):CD(r)?this._createFromString(r):this._createFromComponent(n,i,r,o,s):new co([])}_createFromTemplateRef(n,i){let r={$implicit:i,close(s){i.close(s)},dismiss(s){i.dismiss(s)}},o=n.createEmbeddedView(r);return this._applicationRef.attachView(o),new co([o.rootNodes],o)}_createFromString(n){let i=this._document.createTextNode(`${n}`);return new co([[i]])}_createFromComponent(n,i,r,o,s){let a=Te.create({providers:[{provide:iu,useValue:o}],parent:n}),l=mc(r,{environmentInjector:i,elementInjector:a}),c=l.location.nativeElement;return s.scrollable&&c.classList.add("component-host-scrollable"),this._applicationRef.attachView(l.hostView),new co([[c]],l.hostView,l)}_setAriaHidden(n){let i=n.parentElement;i&&n!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==n&&r.nodeName!=="SCRIPT"&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((n,i)=>{n?i.setAttribute("aria-hidden",n):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(n){let i=()=>{let r=this._modalRefs.indexOf(n);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(n),this._activeInstances.emit(this._modalRefs),n.result.then(i,i)}_registerWindowCmpt(n){this._windowCmpts.push(n),this._activeWindowCmptHasChanged.next(),n.onDestroy(()=>{let i=this._windowCmpts.indexOf(n);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Hk=(()=>{class e{constructor(){this._injector=g(Te),this._modalStack=g($k),this._config=g(Fk)}open(n,i={}){let r=y(U(y({},this._config),{animation:this._config.animation}),i);return this._modalStack.open(this._injector,n,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(n){this._modalStack.dismissAll(n)}hasOpenModals(){return this._modalStack.hasOpenModals()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),OD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({providers:[Hk]})}}return e})();var xD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();var kD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();var PD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();var FD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();var LD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();var VD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();var jD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();var BD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();var UD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();var pW=new w("live announcer delay",{providedIn:"root",factory:()=>100});var $D=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();var HD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})(),Gk=[ID,TD,SD,MD,ND,RD,OD,xD,HD,kD,PD,FD,LD,VD,jD,BD,UD,$D],GD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({imports:[Gk,ID,TD,SD,MD,ND,RD,OD,xD,HD,kD,PD,FD,LD,VD,jD,BD,UD,$D]})}}return e})();function Wk(e,t){if(e&1&&(oe(0,"li",12)(1,"a",13),ze(2),ce()()),e&2){let n=t.$implicit;ue(),Ve("routerLink",n.link),ue(),Wn(n.text)}}var ru=class e{constructor(t){this.config=t;this.config.getLinks().subscribe(n=>this.links=n.menuItems),console.log(this.links)}links;dropClose=!0;lang="Magyar";setLang(t){this.lang=t=="hu"?"Magyar":"English",this.config.setLang(t),this.dropClose=!0}static \u0275fac=function(n){return new(n||e)(Q(oo))};static \u0275cmp=it({type:e,selectors:[["app-nav"]],decls:19,vars:3,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],["class","nav-item",4,"ngFor","ngForOf"],[1,"nav-item","dropdown"],["id","navbarDropdown","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle",3,"click"],["aria-labelledby","navbarDropdown",1,"dropdown-menu",3,"ngbCollapseChange","ngbCollapse"],[1,"dropdown-item",3,"click"],[1,"nav-item"],[1,"nav-link",3,"routerLink"]],template:function(n,i){n&1&&(oe(0,"nav",0)(1,"div",1)(2,"a",2),ze(3,"Navbar"),ce(),oe(4,"button",3),mn(5,"span",4),ce(),oe(6,"div",5)(7,"ul",6),gn(8,Wk,3,2,"li",7),oe(9,"li",8)(10,"button",9),tt("click",function(){return i.dropClose=!i.dropClose}),ze(11),ce(),oe(12,"ul",10),Gr("ngbCollapseChange",function(o){return Xo(i.dropClose,o)||(i.dropClose=o),o}),oe(13,"li")(14,"button",11),tt("click",function(){return i.setLang("hu")}),ze(15,"Magyar"),ce()(),oe(16,"li")(17,"button",11),tt("click",function(){return i.setLang("en")}),ze(18,"English"),ce()()()()()()()()),n&2&&(ue(8),Ve("ngForOf",i.links),ue(3),ki(" ",i.lang," "),ue(),Hr("ngbCollapse",i.dropClose))},dependencies:[yc,Kc,ED]})};var ou=class e{title="Gyaklorlas";static \u0275fac=function(n){return new(n||e)};static \u0275cmp=it({type:e,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"container"]],template:function(n,i){n&1&&(mn(0,"app-nav"),oe(1,"div",0),mn(2,"router-outlet"),ce())},dependencies:[xp,ru]})};var qk="firebase",Yk="10.14.1";Sn(qk,Yk,"app");var Hi=new hn("ANGULARFIRE2_VERSION");var Qk=(e,t)=>{let n=t?[t]:I_(),i=[];return n.forEach(r=>{r.container.getProvider(e).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i},$i=class{constructor(){return Qk(Zk)}},Zk="app-check";function Xp(){}var su=class{zone;delegate;constructor(t,n=Id){this.zone=t,this.delegate=n}now(){return this.delegate.now()}schedule(t,n,i){let r=this.zone,o=function(s){r.runGuarded(()=>{t.apply(this,[s])})};return this.delegate.schedule(o,n,i)}},eg=class{zone;task=null;constructor(t){this.zone=t}call(t,n){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Xp,{},Xp,Xp)),n.pipe(me({next:i,complete:i,error:i})).subscribe(t).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},au=(()=>{class e{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new su(Zone.current)),this.insideAngular=n.run(()=>new su(Zone.current,ur)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||e)(_(P))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Jk(){let e=globalThis.\u0275AngularFireScheduler;if(!e)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return e}function Cn(e){return Xk(Jk())(e)}function Xk(e){return function(n){return n=n.lift(new eg(e.ngZone)),n.pipe(St(e.outsideAngular),ht(e.insideAngular))}}var nP=new Map,iP={activated:!1,tokenObservers:[]},rP={initialized:!1,enabled:!1};function Pt(e){return nP.get(e)||Object.assign({},iP)}function QD(){return rP}var oP="https://content-firebaseappcheck.googleapis.com/v1";var sP="exchangeDebugToken",WD={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},xW=24*60*60*1e3;var ng=class{constructor(t,n,i,r,o){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){return Ye(this,null,function*(){this.stop();try{this.pending=new Se,this.pending.promise.catch(n=>{}),yield aP(this.getNextRun(t)),this.pending.resolve(),yield this.pending.promise,this.pending=new Se,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function aP(e){return new Promise(t=>{setTimeout(t,e)})}var lP={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},ti=new __("appCheck","AppCheck",lP);function ZD(e){if(!Pt(e).activated)throw ti.create("use-before-activation",{appName:e.name})}function JD(i,r){return Ye(this,arguments,function*({url:e,body:t},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let f=yield s.getHeartbeatsHeader();f&&(o["X-Firebase-Client"]=f)}let a={method:"POST",body:JSON.stringify(t),headers:o},l;try{l=yield fetch(e,a)}catch(f){throw ti.create("fetch-network-error",{originalErrorMessage:f?.message})}if(l.status!==200)throw ti.create("fetch-status-error",{httpStatus:l.status});let c;try{c=yield l.json()}catch(f){throw ti.create("fetch-parse-error",{originalErrorMessage:f?.message})}let u=c.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw ti.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});let d=Number(u[1])*1e3,h=Date.now();return{token:c.token,expireTimeMillis:h+d,issuedAtTimeMillis:h}})}function XD(e,t){let{projectId:n,appId:i,apiKey:r}=e.options;return{url:`${oP}/projects/${n}/apps/${i}:${sP}?key=${r}`,body:{debug_token:t}}}var cP="firebase-app-check-database",uP=1,ig="firebase-app-check-store";var lu=null;function dP(){return lu||(lu=new Promise((e,t)=>{try{let n=indexedDB.open(cP,uP);n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{var r;t(ti.create("storage-open",{originalErrorMessage:(r=i.target.error)===null||r===void 0?void 0:r.message}))},n.onupgradeneeded=i=>{let r=i.target.result;switch(i.oldVersion){case 0:r.createObjectStore(ig,{keyPath:"compositeKey"})}}}catch(n){t(ti.create("storage-open",{originalErrorMessage:n?.message}))}}),lu)}function hP(e,t){return fP(pP(e),t)}function fP(e,t){return Ye(this,null,function*(){let i=(yield dP()).transaction(ig,"readwrite"),o=i.objectStore(ig).put({compositeKey:e,value:t});return new Promise((s,a)=>{o.onsuccess=l=>{s()},i.onerror=l=>{var c;a(ti.create("storage-set",{originalErrorMessage:(c=l.target.error)===null||c===void 0?void 0:c.message}))}})})}function pP(e){return`${e.options.appId}-${e.name}`}var rg=new er("@firebase/app-check");function tg(e,t){return m_()?hP(e,t).catch(n=>{rg.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function eC(){return QD().enabled}function tC(){return Ye(this,null,function*(){let e=QD();if(e.enabled&&e.token)return e.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var gP={error:"UNKNOWN_ERROR"};function mP(e){return va.encodeString(JSON.stringify(e),!1)}function og(e,t=!1){return Ye(this,null,function*(){let n=e.app;ZD(n);let i=Pt(n),r=i.token,o;if(r&&!Fs(r)&&(i.token=void 0,r=void 0),!r){let l=yield i.cachedTokenPromise;l&&(Fs(l)?r=l:yield tg(n,void 0))}if(!t&&r&&Fs(r))return{token:r.token};let s=!1;if(eC()){i.exchangeTokenPromise||(i.exchangeTokenPromise=JD(XD(n,yield tC()),e.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),s=!0);let l=yield i.exchangeTokenPromise;return yield tg(n,l),i.token=l,{token:l.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),s=!0),r=yield Pt(n).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?rg.warn(l.message):rg.error(l),o=l}let a;return r?o?Fs(r)?a={token:r.token,internalError:o}:a=qD(o):(a={token:r.token},i.token=r,yield tg(n,r)):a=qD(o),s&&bP(n,a),a})}function _P(e){return Ye(this,null,function*(){let t=e.app;ZD(t);let{provider:n}=Pt(t);if(eC()){let i=yield tC(),{token:r}=yield JD(XD(t,i),e.heartbeatServiceProvider);return{token:r}}else{let{token:i}=yield n.getToken();return{token:i}}})}function vP(e,t,n,i){let{app:r}=e,o=Pt(r),s={next:n,error:i,type:t};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Fs(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),KD(e)}).catch(()=>{})}o.cachedTokenPromise.then(()=>KD(e))}function nC(e,t){let n=Pt(e),i=n.tokenObservers.filter(r=>r.next!==t);i.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=i}function KD(e){let{app:t}=e,n=Pt(t),i=n.tokenRefresher;i||(i=yP(e),n.tokenRefresher=i),!i.isRunning()&&n.isTokenAutoRefreshEnabled&&i.start()}function yP(e){let{app:t}=e;return new ng(()=>Ye(this,null,function*(){let n=Pt(t),i;if(n.token?i=yield og(e,!0):i=yield og(e),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{let n=Pt(t);if(n.token){let i=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,r=n.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,r),Math.max(0,i-Date.now())}else return 0},WD.RETRIAL_MIN_WAIT,WD.RETRIAL_MAX_WAIT)}function bP(e,t){let n=Pt(e).tokenObservers;for(let i of n)try{i.type==="EXTERNAL"&&t.error!=null?i.error(t.error):i.next(t)}catch{}}function Fs(e){return e.expireTimeMillis-Date.now()>0}function qD(e){return{token:mP(gP),error:e}}var sg=class{constructor(t,n){this.app=t,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:t}=Pt(this.app);for(let n of t)nC(this.app,n.next);return Promise.resolve()}};function wP(e,t){return new sg(e,t)}function DP(e){return{getToken:t=>og(e,t),getLimitedUseToken:()=>_P(e),addTokenListener:t=>vP(e,"INTERNAL",t),removeTokenListener:t=>nC(e.app,t)}}var CP="@firebase/app-check",EP="0.8.8";var IP="app-check",YD="app-check-internal";function TP(){Oo(new tn(IP,e=>{let t=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat");return wP(t,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(YD).initialize()})),Oo(new tn(YD,e=>{let t=e.getProvider("app-check").getImmediate();return DP(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),Sn(CP,EP)}TP();var SP=["localhost","0.0.0.0","127.0.0.1"],zW=typeof window<"u"&&SP.includes(window.location.hostname);var MP="firebase",AP="10.14.1";Ue.registerVersion(MP,AP,"app-compat");var NP=["ngOnDestroy"],oC=(e,t,n,i={})=>new Proxy(e,{get:(r,o)=>n.runOutsideAngular(()=>{if(e[o])return i?.spy?.get&&i.spy.get(o,e[o]),e[o];if(NP.indexOf(o)>-1)return()=>{};let s=t.toPromise().then(a=>{let l=a?.[o];return typeof l=="function"?l.bind(a):l?.then?l.then(c=>n.run(()=>c)):n.run(()=>l)});return new Proxy(()=>{},{get:(a,l)=>s[l],apply:(a,l,c)=>s.then(u=>{let d=u?.(...c);return i?.spy?.apply&&i.spy.apply(o,c,d),d})})})});var cu=class{constructor(t){return t}},uo=new w("angularfire2.app.options"),ho=new w("angularfire2.app.name");function Ls(e,t,n){let i=typeof n=="string"&&n||"[DEFAULT]",r=typeof n=="object"&&n||{};r.name=r.name||i;let s=Ue.apps.filter(a=>a&&a.name===r.name)[0]||t.runOutsideAngular(()=>Ue.initializeApp(e,r));try{if(JSON.stringify(e)!==JSON.stringify(s.options)){let a=!!module.hot;RP("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new cu(s)}var RP=(e,...t)=>{xf()&&typeof console<"u"&&console[e](...t)},OP={provide:cu,useFactory:Ls,deps:[uo,P,[new kr,ho]]},sC=(()=>{class e{static initializeApp(n,i){return{ngModule:e,providers:[{provide:uo,useValue:n},{provide:ho,useValue:i}]}}constructor(n){Ue.registerVersion("angularfire",Hi.full,"core"),Ue.registerVersion("angularfire",Hi.full,"app-compat"),Ue.registerVersion("angular",bb.full,n.toString())}static \u0275fac=function(i){return new(i||e)(_(Pe))};static \u0275mod=L({type:e});static \u0275inj=F({providers:[OP]})}return e})();function uu(e,t,n,i,r){let[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===e)||[];if(o)return xP(r,s)||(rC("error",`${t} was already initialized on the ${n} Firebase App with different settings.${kP?" You may need to reload as Firebase is not HMR aware.":""}`),rC("warn",{is:r,was:s})),o;{let a=i();return globalThis.\u0275AngularfireInstanceCache.push([e,a,r]),a}}function xP(e,t){try{return e.toString()===t.toString()}catch{return e===t}}var kP=typeof module<"u"&&!!module.hot,rC=(e,...t)=>{xf()&&typeof console<"u"&&console[e](...t)};globalThis.\u0275AngularfireInstanceCache||=[];var ag=new w("angularfire2.auth.use-emulator"),lg=new w("angularfire2.auth.settings"),cg=new w("angularfire2.auth.tenant-id"),ug=new w("angularfire2.auth.langugage-code"),dg=new w("angularfire2.auth.use-device-language"),hg=new w("angularfire.auth.persistence"),fg=(e,t,n,i,r,o,s,a)=>uu(`${e.name}.auth`,"AngularFireAuth",e.name,()=>{let l=t.runOutsideAngular(()=>e.auth());if(n&&l.useEmulator(...n),i&&(l.tenantId=i),l.languageCode=r,o&&l.useDeviceLanguage(),s)for(let[c,u]of Object.entries(s))l.settings[c]=u;return a&&l.setPersistence(a),l},[n,i,r,o,s,a]),pg=(()=>{class e{authState;idToken;user;idTokenResult;credential;constructor(n,i,r,o,s,a,l,c,u,d,h,f){let p=new K,m=C(void 0).pipe(ht(s.outsideAngular),ie(()=>o.runOutsideAngular(()=>import("./chunk-HFG2JIZC.js"))),S(()=>Ls(n,o,i)),S(b=>fg(b,o,a,c,u,d,l,h)),Xa({bufferSize:1,refCount:!1}));if(Kr(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=C(null);else{m.pipe(gt()).subscribe();let b=m.pipe(ie(E=>E.getRedirectResult().then(ne=>ne,()=>null)),Cn,Xa({bufferSize:1,refCount:!1})),T=m.pipe(ie(E=>new N(ne=>({unsubscribe:o.runOutsideAngular(()=>E.onAuthStateChanged(pe=>ne.next(pe),pe=>ne.error(pe),()=>ne.complete()))})))),j=m.pipe(ie(E=>new N(ne=>({unsubscribe:o.runOutsideAngular(()=>E.onIdTokenChanged(pe=>ne.next(pe),pe=>ne.error(pe),()=>ne.complete()))}))));this.authState=b.pipe(tl(T),St(s.outsideAngular),ht(s.insideAngular)),this.user=b.pipe(tl(j),St(s.outsideAngular),ht(s.insideAngular)),this.idToken=this.user.pipe(ie(E=>E?ee(E.getIdToken()):C(null))),this.idTokenResult=this.user.pipe(ie(E=>E?ee(E.getIdTokenResult()):C(null))),this.credential=gi(b,p,this.authState.pipe(_e(E=>!E))).pipe(S(E=>E?.user?E:null),St(s.outsideAngular),ht(s.insideAngular))}return oC(this,m,o,{spy:{apply:(b,T,j)=>{(b.startsWith("signIn")||b.startsWith("createUser"))&&j.then(E=>p.next(E))}}})}static \u0275fac=function(i){return new(i||e)(_(uo),_(ho,8),_(Pe),_(P),_(au),_(ag,8),_(lg,8),_(cg,8),_(ug,8),_(dg,8),_(hg,8),_($i,8))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"any"})}return e})(),aC=(()=>{class e{constructor(){Ue.registerVersion("angularfire",Hi.full,"auth-compat")}static \u0275fac=function(i){return new(i||e)};static \u0275mod=L({type:e});static \u0275inj=F({providers:[pg]})}return e})();var lC="@firebase/database",cC="1.0.8";var Tm="";function Sm(e){Tm=e}var Dg=class{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),ye(n))}get(t){let n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:ya(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}};var Cg=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return dt(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}};var BC=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){let t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Dg(t)}}catch{}return new Cg},zi=BC("localStorage"),Eg=BC("sessionStorage");var mo=new er("@firebase/database"),UC=function(){let e=1;return function(){return e++}}(),$C=function(e){let t=D_(e),n=new w_;n.update(t);let i=n.digest();return va.encodeByteArray(i)},aa=function(...e){let t="";for(let n=0;n<e.length;n++){let i=e[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?t+=aa.apply(null,i):typeof i=="object"?t+=ye(i):t+=i,t+=" "}return t},Wi=null,uC=!0,HC=function(e,t){v(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(mo.logLevel=C_.VERBOSE,Wi=mo.log.bind(mo),t&&Eg.set("logging_enabled",!0)):typeof e=="function"?Wi=e:(Wi=null,Eg.remove("logging_enabled"))},Re=function(...e){if(uC===!0&&(uC=!1,Wi===null&&Eg.get("logging_enabled")===!0&&HC(!0)),Wi){let t=aa.apply(null,e);Wi(t)}},la=function(e){return function(...t){Re(e,...t)}},Ig=function(...e){let t="FIREBASE INTERNAL ERROR: "+aa(...e);mo.error(t)},Zt=function(...e){let t=`FIREBASE FATAL ERROR: ${aa(...e)}`;throw mo.error(t),new Error(t)},je=function(...e){let t="FIREBASE WARNING: "+aa(...e);mo.warn(t)},FP=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&je("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Vu=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},LP=function(e){if(Vt()||document.readyState==="complete")e();else{let t=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},oi="[MIN_NAME]",En="[MAX_NAME]",qi=function(e,t){if(e===t)return 0;if(e===oi||t===En)return-1;if(t===oi||e===En)return 1;{let n=dC(e),i=dC(t);return n!==null?i!==null?n-i===0?e.length-t.length:n-i:-1:i!==null?1:e<t?-1:1}},VP=function(e,t){return e===t?0:e<t?-1:1},Vs=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+ye(t))},Mm=function(e){if(typeof e!="object"||e===null)return ye(e);let t=[];for(let i in e)t.push(i);t.sort();let n="{";for(let i=0;i<t.length;i++)i!==0&&(n+=","),n+=ye(t[i]),n+=":",n+=Mm(e[t[i]]);return n+="}",n},GC=function(e,t){let n=e.length;if(n<=t)return[e];let i=[];for(let r=0;r<n;r+=t)r+t>n?i.push(e.substring(r,n)):i.push(e.substring(r,r+t));return i};function Oe(e,t){for(let n in e)e.hasOwnProperty(n)&&t(n,e[n])}var zC=function(e){v(!Vu(e),"Invalid JSON number");let t=11,n=52,i=(1<<t-1)-1,r,o,s,a,l;e===0?(o=0,s=0,r=1/e===-1/0?1:0):(r=e<0,e=Math.abs(e),e>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(e)/Math.LN2),i),o=a+i,s=Math.round(e*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(e/Math.pow(2,1-i-n))));let c=[];for(l=n;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);for(l=t;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);c.push(r?1:0),c.reverse();let u=c.join(""),d="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},jP=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},BP=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function UP(e,t){let n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");let i=new Error(e+" at "+t._path.toString()+": "+n);return i.code=e.toUpperCase(),i}var $P=new RegExp("^-?(0*)\\d{1,10}$"),HP=-2147483648,GP=2147483647,dC=function(e){if($P.test(e)){let t=Number(e);if(t>=HP&&t<=GP)return t}return null},Io=function(e){try{e()}catch(t){setTimeout(()=>{let n=t.stack||"";throw je("Exception was thrown by user callback.",n),t},Math.floor(0))}},zP=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},$s=function(e,t){let n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var Tg=class{constructor(t,n){this.appName_=t,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,i):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){je(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var Sg=class{constructor(t,n,i){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(Re("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,i):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',je(t)}},Hs=(()=>{class e{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}e.OWNER="owner";return e})(),hu="5",WC="v",KC="s",qC="r",YC="f",QC=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ZC="ls",JC="p",Mg="ac",XC="websocket",eE="long_polling";var fu=class{constructor(t,n,i,r,o=!1,s="",a=!1,l=!1){this.secure=n,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=zi.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&zi.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){let t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}};function WP(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function tE(e,t,n){v(typeof t=="string","typeof type must == string"),v(typeof n=="object","typeof params must == object");let i;if(t===XC)i=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===eE)i=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);WP(e)&&(n.ns=e.namespace);let r=[];return Oe(n,(o,s)=>{r.push(o+"="+s)}),i+r.join("&")}var Ag=class{constructor(){this.counters_={}}incrementCounter(t,n=1){dt(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return f_(this.counters_)}};var gg={},mg={};function Am(e){let t=e.toString();return gg[t]||(gg[t]=new Ag),gg[t]}function KP(e,t){let n=e.toString();return mg[n]||(mg[n]=t()),mg[n]}var Ng=class{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){let i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Io(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var hC="start",qP="close",YP="pLPCommand",QP="pRTLPCB",nE="id",iE="pw",rE="ser",ZP="cb",JP="seg",XP="ts",eF="d",tF="dframe",oE=1870,sE=30,nF=oE-sE,iF=25e3,rF=3e4,Ks=class e{constructor(t,n,i,r,o,s,a){this.connId=t,this.repoInfo=n,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=la(t),this.stats_=Am(n),this.urlFn=l=>(this.appCheckToken&&(l[Mg]=this.appCheckToken),tE(n,eE,l))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Ng(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(rF)),LP(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Rg((...o)=>{let[s,a,l,c,u]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===hC)this.id=a,this.password=l;else if(s===qP)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{let[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let i={};i[hC]="t",i[rE]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[ZP]=this.scriptTagHolder.uniqueCallbackIdentifier),i[WC]=hu,this.transportSessionId&&(i[KC]=this.transportSessionId),this.lastSessionId&&(i[ZC]=this.lastSessionId),this.applicationId&&(i[JC]=this.applicationId),this.appCheckToken&&(i[Mg]=this.appCheckToken),typeof location<"u"&&location.hostname&&QC.test(location.hostname)&&(i[qC]=YC);let r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){e.forceAllow_=!0}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){return Vt()?!1:e.forceAllow_?!0:!e.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!jP()&&!BP()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){let n=ye(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let i=h_(n),r=GC(i,nF);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(t,n){if(Vt())return;this.myDisconnFrame=document.createElement("iframe");let i={};i[tF]="t",i[nE]=t,i[iE]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){let n=ye(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},Rg=class e{constructor(t,n,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,Vt())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=UC(),window[YP+this.uniqueCallbackIdentifier]=t,window[QP+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Re("frame writing exception"),a.stack&&Re(a.stack),Re(a)}}}static createIFrame_(){let t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||Re("No IE domain setting required")}catch{let i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let t={};t[nE]=this.myID,t[iE]=this.myPW,t[rE]=this.currentSerial;let n=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+sE+i.length<=oE;){let s=this.pendingSegs.shift();i=i+"&"+JP+r+"="+s.seg+"&"+XP+r+"="+s.ts+"&"+eF+r+"="+s.d,r++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,i){this.pendingSegs.push({seg:t,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);let i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},r=setTimeout(i,Math.floor(iF)),o=()=>{clearTimeout(r),i()};this.addTag(t,o)}addTag(t,n){Vt()?this.doNodeLongPoll(t,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){let r=i.readyState;(!r||r==="loaded"||r==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{Re("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}};var oF=16384,sF=45e3,pu=null;typeof MozWebSocket<"u"?pu=MozWebSocket:typeof WebSocket<"u"&&(pu=WebSocket);var po=(()=>{class e{constructor(n,i,r,o,s,a,l){this.connId=n,this.applicationId=r,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=la(this.connId),this.stats_=Am(i),this.connURL=e.connectionURL_(i,a,l,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(n,i,r,o,s){let a={};return a[WC]=hu,!Vt()&&typeof location<"u"&&location.hostname&&QC.test(location.hostname)&&(a[qC]=YC),i&&(a[KC]=i),r&&(a[ZC]=r),o&&(a[Mg]=o),s&&(a[JC]=s),tE(n,XC,a)}open(n,i){this.onDisconnect=i,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,zi.set("previous_websocket_failure",!0);try{let r;if(Vt()){let o=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":`Firebase/${hu}/${Tm}/${process.platform}/${o}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(r.proxy={origin:a})}this.mySock=new pu(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");let o=r.message||r.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");let o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let i=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(i);r&&r.length>1&&parseFloat(r[1])<4.4&&(n=!0)}return!n&&pu!==null&&!e.forceDisallow_}static previouslyFailed(){return zi.isInMemoryStorage||zi.get("previous_websocket_failure")===!0}markConnectionHealthy(){zi.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let i=this.frames.join("");this.frames=null;let r=ya(i);this.onMessage(r)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(v(this.frames===null,"We already have a frame buffer"),n.length<=6){let i=Number(n);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let i=n.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{let r=this.extractFrameCount_(i);r!==null&&this.appendFrame_(r)}}send(n){this.resetKeepAlive();let i=ye(n);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);let r=GC(i,oF);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(sF))}sendString_(n){try{this.mySock.send(n)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4;return e})(),aE=(()=>{class e{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[Ks,po]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){let i=po&&po.isAvailable(),r=i&&!po.previouslyFailed();if(n.webSocketOnly&&(i||je("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[po];else{let o=this.transports_=[];for(let s of e.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);e.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}e.globalTransportInitialized_=!1;return e})(),aF=6e4,lF=5e3,cF=10*1024,uF=100*1024,_g="t",fC="d",dF="s",pC="r",hF="e",gC="o",mC="a",_C="n",vC="p",fF="h",Og=class{constructor(t,n,i,r,o,s,a,l,c,u){this.id=t,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=la("c:"+this.id+":"),this.transportManager_=new aE(n),this.log_("Connection created"),this.start_()}start_(){let t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));let r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=$s(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>uF?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>cF?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){let n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(_g in t){let n=t[_g];n===mC?this.upgradeIfSecondaryHealthy_():n===pC?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===gC&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){let n=Vs("t",t),i=Vs("d",t);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:vC,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:mC,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:_C,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){let n=Vs("t",t),i=Vs("d",t);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){let n=Vs(_g,t);if(fC in t){let i=t[fC];if(n===fF){let r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(n===_C){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===dF?this.onConnectionShutdown_(i):n===pC?this.onReset_(i):n===hF?Ig("Server Error: "+i):n===gC?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ig("Unknown control packet command: "+n)}}onHandshake_(t){let n=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),hu!==i&&je("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),$s(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(aF))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):$s(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(lF))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:vC,d:{}}}))}onSecondaryConnectionLost_(){let t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(zi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var gu=class{put(t,n,i,r){}merge(t,n,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,i){}onDisconnectMerge(t,n,i){}onDisconnectCancel(t,n){}reportStats(t){}};var mu=class{constructor(t){this.allowedEvents_=t,this.listeners_={},v(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){let i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,n)}}on(t,n,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:i});let r=this.getInitialEvent(t);r&&n.apply(i,r)}off(t,n,i){this.validateEventType_(t);let r=this.listeners_[t]||[];for(let o=0;o<r.length;o++)if(r[o].callback===n&&(!i||i===r[o].context)){r.splice(o,1);return}}validateEventType_(t){v(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}};var _u=class e extends mu{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!od()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new e}getInitialEvent(t){return v(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}};var yC=32,bC=768,J=class{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}};function Z(){return new J("")}function H(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function si(e){return e.pieces_.length-e.pieceNum_}function se(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new J(e.pieces_,t)}function Nm(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function pF(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function qs(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function lE(e){if(e.pieceNum_>=e.pieces_.length)return null;let t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new J(t,0)}function de(e,t){let n=[];for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);if(t instanceof J)for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else{let i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new J(n,0)}function G(e){return e.pieceNum_>=e.pieces_.length}function We(e,t){let n=H(e),i=H(t);if(n===null)return t;if(n===i)return We(se(e),se(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function gF(e,t){let n=qs(e,0),i=qs(t,0);for(let r=0;r<n.length&&r<i.length;r++){let o=qi(n[r],i[r]);if(o!==0)return o}return n.length===i.length?0:n.length<i.length?-1:1}function Rm(e,t){if(si(e)!==si(t))return!1;for(let n=e.pieceNum_,i=t.pieceNum_;n<=e.pieces_.length;n++,i++)if(e.pieces_[n]!==t.pieces_[i])return!1;return!0}function Ct(e,t){let n=e.pieceNum_,i=t.pieceNum_;if(si(e)>si(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[i])return!1;++n,++i}return!0}var xg=class{constructor(t,n){this.errorPrefix_=n,this.parts_=qs(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=Ro(this.parts_[i]);cE(this)}};function mF(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Ro(t),cE(e)}function _F(e){let t=e.parts_.pop();e.byteLength_-=Ro(t),e.parts_.length>0&&(e.byteLength_-=1)}function cE(e){if(e.byteLength_>bC)throw new Error(e.errorPrefix_+"has a key path longer than "+bC+" bytes ("+e.byteLength_+").");if(e.parts_.length>yC)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+yC+") or object contains a cycle "+Gi(e))}function Gi(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}var kg=class e extends mu{constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new e}getInitialEvent(t){return v(t==="visible","Unknown event type: "+t),[this.visible_]}};var js=1e3,vF=60*5*1e3,wC=30*1e3,yF=1.3,bF=3e4,wF="server_kill",DC=3,Om=(()=>{class e extends gu{constructor(n,i,r,o,s,a,l,c){if(super(),this.repoInfo_=n,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=e.nextPersistentConnectionId_++,this.log_=la("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=js,this.maxReconnectDelay_=vF,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!Vt())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");kg.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&_u.getInstance().on("online",this.onOnline_,this)}sendRequest(n,i,r){let o=++this.requestNumber_,s={r:o,a:n,b:i};this.log_(ye(s)),v(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[o]=r)}get(n){this.initConnection_();let i=new Se,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let l=a.d;a.s==="ok"?i.resolve(l):i.reject(l)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),i.promise}listen(n,i,r,o){this.initConnection_();let s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),v(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),v(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let l={onComplete:o,hashFn:i,query:n,tag:r};this.listens.get(a).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(n){let i=this.outstandingGets_[n];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(n){let i=n.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);let s={p:r},a="q";n.tag&&(s.q=i._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest(a,s,l=>{let c=l.d,u=l.s;e.warnOnListenWarnings_(c,i),(this.listens.get(r)&&this.listens.get(r).get(o))===n&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(r,o),n.onComplete&&n.onComplete(u,c))})}static warnOnListenWarnings_(n,i){if(n&&typeof n=="object"&&dt(n,"w")){let r=Tn(n,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){let o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',s=i._path.toString();je(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||y_(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=wC)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,i=v_(n)?"auth":"gauth",r={cred:n};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{let s=o.s,a=o.d||"error";this.authToken_===n&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let i=n.s,r=n.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(n,i){let r=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),v(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,n._queryObject,i)}sendUnlisten_(n,i,r,o){this.log_("Unlisten on "+n+" for "+i);let s={p:n},a="n";o&&(s.q=r,s.t=o),this.sendRequest(a,s)}onDisconnectPut(n,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,i,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:i,onComplete:r})}onDisconnectMerge(n,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,i,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:i,onComplete:r})}onDisconnectCancel(n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(n,i,r,o){let s={p:i,d:r};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,i,r,o){this.putInternal("p",n,i,r,o)}merge(n,i,r,o){this.putInternal("m",n,i,r,o)}putInternal(n,i,r,o,s){this.initConnection_();let a={p:i,d:r};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++;let l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+i)}sendPut_(n){let i=this.outstandingPuts_[n].action,r=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(i,r,s=>{this.log_(i+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){let i={c:n};this.log_("reportStats",i),this.sendRequest("s",i,r=>{if(r.s!=="ok"){let s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+ye(n));let i=n.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,i){this.log_("handleServerMessage",n,i),n==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):n==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):n==="c"?this.onListenRevoked_(i.p,i.q):n==="ac"?this.onAuthRevoked_(i.s,i.d):n==="apc"?this.onAppCheckRevoked_(i.s,i.d):n==="sd"?this.onSecurityDebugPacket_(i):Ig("Unrecognized action received from server: "+ye(n)+`
Are you using the latest client?`)}onReady_(n,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){v(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=js,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=js,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>bF&&(this.reconnectDelay_=js),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=new Date().getTime()-this.lastConnectionAttemptTime_,i=Math.max(0,this.reconnectDelay_-n);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*yF)}this.onConnectStatus_(!1)}establishConnection_(){return Ye(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+e.nextConnectionId_++,s=this.lastSessionId,a=!1,l=null,c=function(){l?l.close():(a=!0,r())},u=function(h){v(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(h)};this.realtime_={close:c,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[h,f]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?Re("getToken() completed but was canceled"):(Re("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=f&&f.token,l=new Og(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,i,r,p=>{je(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(wF)},s))}catch(h){this.log_("Failed to get token: "+h),a||(this.repoInfo_.nodeAdmin&&je(h),c())}}})}interrupt(n){Re("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Re("Resuming connection for reason: "+n),delete this.interruptReasons_[n],ba(this.interruptReasons_)&&(this.reconnectDelay_=js,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let i=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let i=this.outstandingPuts_[n];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,i){let r;i?r=i.map(s=>Mm(s)).join("$"):r="default";let o=this.removeListen_(n,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,i){let r=new J(n).toString(),o;if(this.listens.has(r)){let s=this.listens.get(r);o=s.get(i),s.delete(i),s.size===0&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(n,i){Re("Auth token revoked: "+n+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=DC&&(this.reconnectDelay_=wC,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,i){Re("App check token revoked: "+n+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=DC&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let i of n.values())this.sendListen_(i);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},i="js";Vt()&&(this.repoInfo_.nodeAdmin?i="admin_node":i="node"),n["sdk."+i+"."+Tm.replace(/\./g,"-")]=1,od()?n["framework.cordova"]=1:g_()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=_u.getInstance().currentlyOnline();return ba(this.interruptReasons_)&&n}}e.nextPersistentConnectionId_=0,e.nextConnectionId_=0;return e})(),z=class e{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new e(t,n)}};var _o=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){let i=new z(oi,t),r=new z(oi,n);return this.compare(i,r)!==0}minPost(){return z.MIN}};var du,vu=class extends _o{static get __EMPTY_NODE(){return du}static set __EMPTY_NODE(t){du=t}compare(t,n){return qi(t.name,n.name)}isDefinedOn(t){throw Xi("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return z.MIN}maxPost(){return new z(En,du)}makePost(t,n){return v(typeof t=="string","KeyIndex indexValue must always be a string."),new z(t,du)}toString(){return".key"}},Qt=new vu;var go=class{constructor(t,n,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!t.isEmpty();)if(t=t,s=n?i(t.key,n):1,r&&(s*=-1),s<0)this.isReverse_?t=t.left:t=t.right;else if(s===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}},Ft=(()=>{class e{constructor(n,i,r,o,s){this.key=n,this.value=i,this.color=r??e.RED,this.left=o??Et.EMPTY_NODE,this.right=s??Et.EMPTY_NODE}copy(n,i,r,o,s){return new e(n??this.key,i??this.value,r??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,i,r){let o=this,s=r(n,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(n,i,r),null):s===0?o=o.copy(null,i,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Et.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,i){let r,o;if(r=this,i(n,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(n,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),i(n,r.key)===0){if(r.right.isEmpty())return Et.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(n,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,i)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return e.RED=!0,e.BLACK=!1,e})(),Pg=class{copy(t,n,i,r,o){return this}insert(t,n,i){return new Ft(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},Et=class e{constructor(t,n=e.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Ft.BLACK,null,null))}remove(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Ft.BLACK,null,null))}get(t){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(t,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(t){let n,i=this.root_,r=null;for(;!i.isEmpty();)if(n=this.comparator_(t,i.key),n===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(r=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new go(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new go(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new go(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new go(this.root_,null,this.comparator_,!0,t)}};Et.EMPTY_NODE=new Pg;function DF(e,t){return qi(e.name,t.name)}function xm(e,t){return qi(e,t)}var Fg;function CF(e){Fg=e}var uE=function(e){return typeof e=="number"?"number:"+zC(e):"string:"+e},dE=function(e){if(e.isLeafNode()){let t=e.val();v(typeof t=="string"||typeof t=="number"||typeof t=="object"&&dt(t,".sv"),"Priority must be a string or number.")}else v(e===Fg||e.isEmpty(),"priority of unexpected type.");v(e===Fg||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var CC,vo=(()=>{class e{constructor(n,i=e.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=i,this.lazyHash_=null,v(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),dE(this.priorityNode_)}static set __childrenNodeConstructor(n){CC=n}static get __childrenNodeConstructor(){return CC}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new e(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return G(n)?this:H(n)===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,i){return null}updateImmediateChild(n,i){return n===".priority"?this.updatePriority(i):i.isEmpty()&&n!==".priority"?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,i).updatePriority(this.priorityNode_)}updateChild(n,i){let r=H(n);return r===null?i:i.isEmpty()&&r!==".priority"?this:(v(r!==".priority"||si(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(se(n),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,i){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+uE(this.priorityNode_.val())+":");let i=typeof this.value_;n+=i+":",i==="number"?n+=zC(this.value_):n+=this.value_,this.lazyHash_=$C(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===e.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof e.__childrenNodeConstructor?-1:(v(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let i=typeof n.value_,r=typeof this.value_,o=e.VALUE_TYPE_ORDER.indexOf(i),s=e.VALUE_TYPE_ORDER.indexOf(r);return v(o>=0,"Unknown leaf type: "+i),v(s>=0,"Unknown leaf type: "+r),o===s?r==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let i=n;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}e.VALUE_TYPE_ORDER=["object","boolean","number","string"];return e})(),hE,fE;function EF(e){hE=e}function IF(e){fE=e}var Lg=class extends _o{compare(t,n){let i=t.node.getPriority(),r=n.node.getPriority(),o=i.compareTo(r);return o===0?qi(t.name,n.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return z.MIN}maxPost(){return new z(En,new vo("[PRIORITY-POST]",fE))}makePost(t,n){let i=hE(t);return new z(n,new vo("[PRIORITY-POST]",i))}toString(){return".priority"}},le=new Lg;var TF=Math.log(2),Vg=class{constructor(t){let n=o=>parseInt(Math.log(o)/TF,10),i=o=>parseInt(Array(o+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;let r=i(this.count);this.bits_=t+1&r}nextBitIsOne(){let t=!(this.bits_&1<<this.current_);return this.current_--,t}},yu=function(e,t,n,i){e.sort(t);let r=function(l,c){let u=c-l,d,h;if(u===0)return null;if(u===1)return d=e[l],h=n?n(d):d,new Ft(h,d.node,Ft.BLACK,null,null);{let f=parseInt(u/2,10)+l,p=r(l,f),m=r(f+1,c);return d=e[f],h=n?n(d):d,new Ft(h,d.node,Ft.BLACK,p,m)}},o=function(l){let c=null,u=null,d=e.length,h=function(p,m){let b=d-p,T=d;d-=p;let j=r(b+1,T),E=e[b],ne=n?n(E):E;f(new Ft(ne,E.node,m,null,j))},f=function(p){c?(c.left=p,c=p):(u=p,c=p)};for(let p=0;p<l.count;++p){let m=l.nextBitIsOne(),b=Math.pow(2,l.count-(p+1));m?h(b,Ft.BLACK):(h(b,Ft.BLACK),h(b,Ft.RED))}return u},s=new Vg(e.length),a=o(s);return new Et(i||t,a)};var vg,fo={},yo=class e{constructor(t,n){this.indexes_=t,this.indexSet_=n}static get Default(){return v(fo&&le,"ChildrenNode.ts has not been loaded"),vg=vg||new e({".priority":fo},{".priority":le}),vg}get(t){let n=Tn(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof Et?n:null}hasIndex(t){return dt(this.indexSet_,t.toString())}addIndex(t,n){v(t!==Qt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let i=[],r=!1,o=n.getIterator(z.Wrap),s=o.getNext();for(;s;)r=r||t.isDefinedOn(s.node),i.push(s),s=o.getNext();let a;r?a=yu(i,t.getCompare()):a=fo;let l=t.toString(),c=Object.assign({},this.indexSet_);c[l]=t;let u=Object.assign({},this.indexes_);return u[l]=a,new e(u,c)}addToIndexes(t,n){let i=No(this.indexes_,(r,o)=>{let s=Tn(this.indexSet_,o);if(v(s,"Missing index implementation for "+o),r===fo)if(s.isDefinedOn(t.node)){let a=[],l=n.getIterator(z.Wrap),c=l.getNext();for(;c;)c.name!==t.name&&a.push(c),c=l.getNext();return a.push(t),yu(a,s.getCompare())}else return fo;else{let a=n.get(t.name),l=r;return a&&(l=l.remove(new z(t.name,a))),l.insert(t,t.node)}});return new e(i,this.indexSet_)}removeFromIndexes(t,n){let i=No(this.indexes_,r=>{if(r===fo)return r;{let o=n.get(t.name);return o?r.remove(new z(t.name,o)):r}});return new e(i,this.indexSet_)}};var Bs,x=(()=>{class e{constructor(n,i,r){this.children_=n,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&dE(this.priorityNode_),this.children_.isEmpty()&&v(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Bs||(Bs=new e(new Et(xm),null,yo.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Bs}updatePriority(n){return this.children_.isEmpty()?this:new e(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let i=this.children_.get(n);return i===null?Bs:i}}getChild(n){let i=H(n);return i===null?this:this.getImmediateChild(i).getChild(se(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,i){if(v(i,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(i);{let r=new z(n,i),o,s;i.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(n,i),s=this.indexMap_.addToIndexes(r,this.children_));let a=o.isEmpty()?Bs:this.priorityNode_;return new e(o,a,s)}}updateChild(n,i){let r=H(n);if(r===null)return i;{v(H(n)!==".priority"||si(n)===1,".priority must be the last token in a path");let o=this.getImmediateChild(r).updateChild(se(n),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let i={},r=0,o=0,s=!0;if(this.forEachChild(le,(a,l)=>{i[a]=l.val(n),r++,s&&e.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*r){let a=[];for(let l in i)a[l]=i[l];return a}else return n&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+uE(this.getPriority().val())+":"),this.forEachChild(le,(i,r)=>{let o=r.hash();o!==""&&(n+=":"+i+":"+o)}),this.lazyHash_=n===""?"":$C(n)}return this.lazyHash_}getPredecessorChildName(n,i,r){let o=this.resolveIndex_(r);if(o){let s=o.getPredecessorKey(new z(n,i));return s?s.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let i=this.resolveIndex_(n);if(i){let r=i.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(n){let i=this.getFirstChildName(n);return i?new z(i,this.children_.get(i)):null}getLastChildName(n){let i=this.resolveIndex_(n);if(i){let r=i.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(n){let i=this.getLastChildName(n);return i?new z(i,this.children_.get(i)):null}forEachChild(n,i){let r=this.resolveIndex_(n);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,i){let r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(n,o=>o);{let o=this.children_.getIteratorFrom(n.name,z.Wrap),s=o.peek();for(;s!=null&&i.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,i){let r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(n,o=>o);{let o=this.children_.getReverseIteratorFrom(n.name,z.Wrap),s=o.peek();for(;s!=null&&i.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===ca?-1:0}withIndex(n){if(n===Qt||this.indexMap_.hasIndex(n))return this;{let i=this.indexMap_.addIndex(n,this.children_);return new e(this.children_,this.priorityNode_,i)}}isIndexed(n){return n===Qt||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let i=n;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){let r=this.getIterator(le),o=i.getIterator(le),s=r.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=o.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===Qt?null:this.indexMap_.get(n.toString())}}return e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e})(),jg=class extends x{constructor(){super(new Et(xm),x.EMPTY_NODE,yo.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return x.EMPTY_NODE}isEmpty(){return!1}},ca=new jg;Object.defineProperties(z,{MIN:{value:new z(oi,x.EMPTY_NODE)},MAX:{value:new z(En,ca)}});vu.__EMPTY_NODE=x.EMPTY_NODE;vo.__childrenNodeConstructor=x;CF(ca);IF(ca);var SF=!0;function fe(e,t=null){if(e===null)return x.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),v(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){let n=e;return new vo(n,fe(t))}if(!(e instanceof Array)&&SF){let n=[],i=!1;if(Oe(e,(s,a)=>{if(s.substring(0,1)!=="."){let l=fe(a);l.isEmpty()||(i=i||!l.getPriority().isEmpty(),n.push(new z(s,l)))}}),n.length===0)return x.EMPTY_NODE;let o=yu(n,DF,s=>s.name,xm);if(i){let s=yu(n,le.getCompare());return new x(o,fe(t),new yo({".priority":s},{".priority":le}))}else return new x(o,fe(t),yo.Default)}else{let n=x.EMPTY_NODE;return Oe(e,(i,r)=>{if(dt(e,i)&&i.substring(0,1)!=="."){let o=fe(r);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(i,o))}}),n.updatePriority(fe(t))}}EF(fe);var Ys=class extends _o{constructor(t){super(),this.indexPath_=t,v(!G(t)&&H(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){let i=this.extractChild(t.node),r=this.extractChild(n.node),o=i.compareTo(r);return o===0?qi(t.name,n.name):o}makePost(t,n){let i=fe(t),r=x.EMPTY_NODE.updateChild(this.indexPath_,i);return new z(n,r)}maxPost(){let t=x.EMPTY_NODE.updateChild(this.indexPath_,ca);return new z(En,t)}toString(){return qs(this.indexPath_,0).join("/")}};var Bg=class extends _o{compare(t,n){let i=t.node.compareTo(n.node);return i===0?qi(t.name,n.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return z.MIN}maxPost(){return z.MAX}makePost(t,n){let i=fe(t);return new z(n,i)}toString(){return".value"}},km=new Bg;function pE(e){return{type:"value",snapshotNode:e}}function bo(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Qs(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Zs(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function MF(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}var Js=class{constructor(t){this.index_=t}updateChild(t,n,i,r,o,s){v(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=t.getImmediateChild(n);return a.getChild(r).equals(i.getChild(r))&&a.isEmpty()===i.isEmpty()||(s!=null&&(i.isEmpty()?t.hasChild(n)?s.trackChildChange(Qs(n,a)):v(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(bo(n,i)):s.trackChildChange(Zs(n,i,a))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(t,n,i){return i!=null&&(t.isLeafNode()||t.forEachChild(le,(r,o)=>{n.hasChild(r)||i.trackChildChange(Qs(r,o))}),n.isLeafNode()||n.forEachChild(le,(r,o)=>{if(t.hasChild(r)){let s=t.getImmediateChild(r);s.equals(o)||i.trackChildChange(Zs(r,o,s))}else i.trackChildChange(bo(r,o))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?x.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var bu=class e{constructor(t){this.indexedFilter_=new Js(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,i=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&i}updateChild(t,n,i,r,o,s){return this.matches(new z(n,i))||(i=x.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,i,r,o,s)}updateFullNode(t,n,i){n.isLeafNode()&&(n=x.EMPTY_NODE);let r=n.withIndex(this.index_);r=r.updatePriority(x.EMPTY_NODE);let o=this;return n.forEachChild(le,(s,a)=>{o.matches(new z(s,a))||(r=r.updateImmediateChild(s,x.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){let n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){let n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}};var Ug=class{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{let i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new bu(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,i,r,o,s){return this.rangedFilter_.matches(new z(n,i))||(i=x.EMPTY_NODE),t.getImmediateChild(n).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,i,r,o,s):this.fullLimitUpdateChild_(t,n,i,o,s)}updateFullNode(t,n,i){let r;if(n.isLeafNode()||n.isEmpty())r=x.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){r=x.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){let a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))r=r.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{r=n.withIndex(this.index_),r=r.updatePriority(x.EMPTY_NODE);let o;this.reverse_?o=r.getReverseIterator(this.index_):o=r.getIterator(this.index_);let s=0;for(;o.hasNext();){let a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:r=r.updateImmediateChild(a.name,x.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,i,r,o){let s;if(this.reverse_){let d=this.index_.getCompare();s=(h,f)=>d(f,h)}else s=this.index_.getCompare();let a=t;v(a.numChildren()===this.limit_,"");let l=new z(n,i),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){let d=a.getImmediateChild(n),h=r.getChildAfterChild(this.index_,c,this.reverse_);for(;h!=null&&(h.name===n||a.hasChild(h.name));)h=r.getChildAfterChild(this.index_,h,this.reverse_);let f=h==null?1:s(h,l);if(u&&!i.isEmpty()&&f>=0)return o?.trackChildChange(Zs(n,i,d)),a.updateImmediateChild(n,i);{o?.trackChildChange(Qs(n,d));let m=a.updateImmediateChild(n,x.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(o?.trackChildChange(bo(h.name,h.node)),m.updateImmediateChild(h.name,h.node)):m}}else return i.isEmpty()?t:u&&s(c,l)>=0?(o!=null&&(o.trackChildChange(Qs(c.name,c.node)),o.trackChildChange(bo(n,i))),a.updateImmediateChild(n,i).updateImmediateChild(c.name,x.EMPTY_NODE)):t}};var Xs=class e{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=le}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return v(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return v(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:oi}hasEnd(){return this.endSet_}getIndexEndValue(){return v(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return v(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:En}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return v(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===le}copy(){let t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}};function AF(e){return e.loadsAllData()?new Js(e.getIndex()):e.hasLimit()?new Ug(e):new bu(e)}function NF(e,t){let n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}function RF(e,t){let n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}function $g(e,t,n){let i=e.copy();return i.startSet_=!0,t===void 0&&(t=null),i.indexStartValue_=t,n!=null?(i.startNameSet_=!0,i.indexStartName_=n):(i.startNameSet_=!1,i.indexStartName_=""),i}function OF(e,t,n){let i;return e.index_===Qt||n?i=$g(e,t,n):i=$g(e,t,En),i.startAfterSet_=!0,i}function Hg(e,t,n){let i=e.copy();return i.endSet_=!0,t===void 0&&(t=null),i.indexEndValue_=t,n!==void 0?(i.endNameSet_=!0,i.indexEndName_=n):(i.endNameSet_=!1,i.indexEndName_=""),i}function xF(e,t,n){let i;return e.index_===Qt||n?i=Hg(e,t,n):i=Hg(e,t,oi),i.endBeforeSet_=!0,i}function ju(e,t){let n=e.copy();return n.index_=t,n}function EC(e){let t={};if(e.isDefault())return t;let n;if(e.index_===le?n="$priority":e.index_===km?n="$value":e.index_===Qt?n="$key":(v(e.index_ instanceof Ys,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=ye(n),e.startSet_){let i=e.startAfterSet_?"startAfter":"startAt";t[i]=ye(e.indexStartValue_),e.startNameSet_&&(t[i]+=","+ye(e.indexStartName_))}if(e.endSet_){let i=e.endBeforeSet_?"endBefore":"endAt";t[i]=ye(e.indexEndValue_),e.endNameSet_&&(t[i]+=","+ye(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function IC(e){let t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==le&&(t.i=e.index_.toString()),t}var Gg=class e extends gu{constructor(t,n,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=la("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(v(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,n,i,r){let o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);let s=e.getListenId_(t,i),a={};this.listens_[s]=a;let l=EC(t._queryParams);this.restRequest_(o+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(o,d,!1,i),Tn(this.listens_,s)===a){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",r(h,null)}})}unlisten(t,n){let i=e.getListenId_(t,n);delete this.listens_[i]}get(t){let n=EC(t._queryParams),i=t._path.toString(),r=new Se;return this.restRequest_(i+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(i,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(t){}restRequest_(t,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(n.auth=r.accessToken),o&&o.token&&(n.ac=o.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+b_(n);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=ya(a.responseText)}catch{je("Failed to parse JSON response for "+s+": "+a.responseText)}i(null,l)}else a.status!==401&&a.status!==404&&je("Got unsuccessful REST response for "+s+" Status: "+a.status),i(a.status);i=null}},a.open("GET",s,!0),a.send()})}};var zg=class{constructor(){this.rootNode_=x.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}};function wu(){return{value:null,children:new Map}}function To(e,t,n){if(G(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{let i=H(t);e.children.has(i)||e.children.set(i,wu());let r=e.children.get(i);t=se(t),To(r,t,n)}}function Wg(e,t){if(G(t))return e.value=null,e.children.clear(),!0;if(e.value!==null){if(e.value.isLeafNode())return!1;{let n=e.value;return e.value=null,n.forEachChild(le,(i,r)=>{To(e,new J(i),r)}),Wg(e,t)}}else if(e.children.size>0){let n=H(t);return t=se(t),e.children.has(n)&&Wg(e.children.get(n),t)&&e.children.delete(n),e.children.size===0}else return!0}function Kg(e,t,n){e.value!==null?n(t,e.value):kF(e,(i,r)=>{let o=new J(t.toString()+"/"+i);Kg(r,o,n)})}function kF(e,t){e.children.forEach((n,i)=>{t(i,n)})}var qg=class{constructor(t){this.collection_=t,this.last_=null}get(){let t=this.collection_.get(),n=Object.assign({},t);return this.last_&&Oe(this.last_,(i,r)=>{n[i]=n[i]-r}),this.last_=t,n}};var TC=10*1e3,PF=30*1e3,FF=5*60*1e3,Yg=class{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new qg(t);let i=TC+(PF-TC)*Math.random();$s(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){let t=this.statsListener_.get(),n={},i=!1;Oe(t,(r,o)=>{o>0&&dt(this.statsToReport_,r)&&(n[r]=o,i=!0)}),i&&this.server_.reportStats(n),$s(this.reportStats_.bind(this),Math.floor(Math.random()*2*FF))}};var Yt=function(e){return e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",e}(Yt||{});function Pm(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Fm(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Lm(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}var Qg=class e{constructor(t,n,i){this.path=t,this.affectedTree=n,this.revert=i,this.type=Yt.ACK_USER_WRITE,this.source=Pm()}operationForChild(t){if(G(this.path)){if(this.affectedTree.value!=null)return v(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new J(t));return new e(Z(),n,this.revert)}}else return v(H(this.path)===t,"operationForChild called for unrelated child."),new e(se(this.path),this.affectedTree,this.revert)}};var Du=class e{constructor(t,n){this.source=t,this.path=n,this.type=Yt.LISTEN_COMPLETE}operationForChild(t){return G(this.path)?new e(this.source,Z()):new e(this.source,se(this.path))}};var wo=class e{constructor(t,n,i){this.source=t,this.path=n,this.snap=i,this.type=Yt.OVERWRITE}operationForChild(t){return G(this.path)?new e(this.source,Z(),this.snap.getImmediateChild(t)):new e(this.source,se(this.path),this.snap)}};var ea=class e{constructor(t,n,i){this.source=t,this.path=n,this.children=i,this.type=Yt.MERGE}operationForChild(t){if(G(this.path)){let n=this.children.subtree(new J(t));return n.isEmpty()?null:n.value?new wo(this.source,Z(),n.value):new e(this.source,Z(),n)}else return v(H(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,se(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var Jt=class{constructor(t,n,i){this.node_=t,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(G(t))return this.isFullyInitialized()&&!this.filtered_;let n=H(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}};var Zg=class{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}};function LF(e,t,n,i){let r=[],o=[];return t.forEach(s=>{s.type==="child_changed"&&e.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(MF(s.childName,s.snapshotNode))}),Us(e,r,"child_removed",t,i,n),Us(e,r,"child_added",t,i,n),Us(e,r,"child_moved",o,i,n),Us(e,r,"child_changed",t,i,n),Us(e,r,"value",t,i,n),r}function Us(e,t,n,i,r,o){let s=i.filter(a=>a.type===n);s.sort((a,l)=>jF(e,a,l)),s.forEach(a=>{let l=VF(e,a,o);r.forEach(c=>{c.respondsTo(a.type)&&t.push(c.createEvent(l,e.query_))})})}function VF(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function jF(e,t,n){if(t.childName==null||n.childName==null)throw Xi("Should only compare child_ events.");let i=new z(t.childName,t.snapshotNode),r=new z(n.childName,n.snapshotNode);return e.index_.compare(i,r)}function Bu(e,t){return{eventCache:e,serverCache:t}}function Gs(e,t,n,i){return Bu(new Jt(t,n,i),e.serverCache)}function gE(e,t,n,i){return Bu(e.eventCache,new Jt(t,n,i))}function Cu(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Ki(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var yg,BF=()=>(yg||(yg=new Et(VP)),yg),Ke=class e{constructor(t,n=BF()){this.value=t,this.children=n}static fromObject(t){let n=new e(null);return Oe(t,(i,r)=>{n=n.set(new J(i),r)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:Z(),value:this.value};if(G(t))return null;{let i=H(t),r=this.children.get(i);if(r!==null){let o=r.findRootMostMatchingPathAndValue(se(t),n);return o!=null?{path:de(new J(i),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(G(t))return this;{let n=H(t),i=this.children.get(n);return i!==null?i.subtree(se(t)):new e(null)}}set(t,n){if(G(t))return new e(n,this.children);{let i=H(t),o=(this.children.get(i)||new e(null)).set(se(t),n),s=this.children.insert(i,o);return new e(this.value,s)}}remove(t){if(G(t))return this.children.isEmpty()?new e(null):new e(null,this.children);{let n=H(t),i=this.children.get(n);if(i){let r=i.remove(se(t)),o;return r.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,r),this.value===null&&o.isEmpty()?new e(null):new e(this.value,o)}else return this}}get(t){if(G(t))return this.value;{let n=H(t),i=this.children.get(n);return i?i.get(se(t)):null}}setTree(t,n){if(G(t))return n;{let i=H(t),o=(this.children.get(i)||new e(null)).setTree(se(t),n),s;return o.isEmpty()?s=this.children.remove(i):s=this.children.insert(i,o),new e(this.value,s)}}fold(t){return this.fold_(Z(),t)}fold_(t,n){let i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(de(t,r),n)}),n(t,this.value,i)}findOnPath(t,n){return this.findOnPath_(t,Z(),n)}findOnPath_(t,n,i){let r=this.value?i(n,this.value):!1;if(r)return r;if(G(t))return null;{let o=H(t),s=this.children.get(o);return s?s.findOnPath_(se(t),de(n,o),i):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,Z(),n)}foreachOnPath_(t,n,i){if(G(t))return this;{this.value&&i(n,this.value);let r=H(t),o=this.children.get(r);return o?o.foreachOnPath_(se(t),de(n,r),i):new e(null)}}foreach(t){this.foreach_(Z(),t)}foreach_(t,n){this.children.inorderTraversal((i,r)=>{r.foreach_(de(t,i),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,i)=>{i.value&&t(n,i.value)})}};var Lt=class e{constructor(t){this.writeTree_=t}static empty(){return new e(new Ke(null))}};function zs(e,t,n){if(G(t))return new Lt(new Ke(n));{let i=e.writeTree_.findRootMostValueAndPath(t);if(i!=null){let r=i.path,o=i.value,s=We(r,t);return o=o.updateChild(s,n),new Lt(e.writeTree_.set(r,o))}else{let r=new Ke(n),o=e.writeTree_.setTree(t,r);return new Lt(o)}}}function Jg(e,t,n){let i=e;return Oe(n,(r,o)=>{i=zs(i,de(t,r),o)}),i}function SC(e,t){if(G(t))return Lt.empty();{let n=e.writeTree_.setTree(t,new Ke(null));return new Lt(n)}}function Xg(e,t){return Yi(e,t)!=null}function Yi(e,t){let n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(We(n.path,t)):null}function MC(e){let t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(le,(i,r)=>{t.push(new z(i,r))}):e.writeTree_.children.inorderTraversal((i,r)=>{r.value!=null&&t.push(new z(i,r.value))}),t}function ii(e,t){if(G(t))return e;{let n=Yi(e,t);return n!=null?new Lt(new Ke(n)):new Lt(e.writeTree_.subtree(t))}}function em(e){return e.writeTree_.isEmpty()}function Do(e,t){return mE(Z(),e.writeTree_,t)}function mE(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let i=null;return t.children.inorderTraversal((r,o)=>{r===".priority"?(v(o.value!==null,"Priority writes must always be leaf nodes"),i=o.value):n=mE(de(e,r),o,n)}),!n.getChild(e).isEmpty()&&i!==null&&(n=n.updateChild(de(e,".priority"),i)),n}}function Uu(e,t){return bE(t,e)}function UF(e,t,n,i,r){v(i>e.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),e.allWrites.push({path:t,snap:n,writeId:i,visible:r}),r&&(e.visibleWrites=zs(e.visibleWrites,t,n)),e.lastWriteId=i}function $F(e,t,n,i){v(i>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:i,visible:!0}),e.visibleWrites=Jg(e.visibleWrites,t,n),e.lastWriteId=i}function HF(e,t){for(let n=0;n<e.allWrites.length;n++){let i=e.allWrites[n];if(i.writeId===t)return i}return null}function GF(e,t){let n=e.allWrites.findIndex(a=>a.writeId===t);v(n>=0,"removeWrite called with nonexistent writeId.");let i=e.allWrites[n];e.allWrites.splice(n,1);let r=i.visible,o=!1,s=e.allWrites.length-1;for(;r&&s>=0;){let a=e.allWrites[s];a.visible&&(s>=n&&zF(a,i.path)?r=!1:Ct(i.path,a.path)&&(o=!0)),s--}if(r){if(o)return WF(e),!0;if(i.snap)e.visibleWrites=SC(e.visibleWrites,i.path);else{let a=i.children;Oe(a,l=>{e.visibleWrites=SC(e.visibleWrites,de(i.path,l))})}return!0}else return!1}function zF(e,t){if(e.snap)return Ct(e.path,t);for(let n in e.children)if(e.children.hasOwnProperty(n)&&Ct(de(e.path,n),t))return!0;return!1}function WF(e){e.visibleWrites=_E(e.allWrites,KF,Z()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function KF(e){return e.visible}function _E(e,t,n){let i=Lt.empty();for(let r=0;r<e.length;++r){let o=e[r];if(t(o)){let s=o.path,a;if(o.snap)Ct(n,s)?(a=We(n,s),i=zs(i,a,o.snap)):Ct(s,n)&&(a=We(s,n),i=zs(i,Z(),o.snap.getChild(a)));else if(o.children){if(Ct(n,s))a=We(n,s),i=Jg(i,a,o.children);else if(Ct(s,n))if(a=We(s,n),G(a))i=Jg(i,Z(),o.children);else{let l=Tn(o.children,H(a));if(l){let c=l.getChild(se(a));i=zs(i,Z(),c)}}}else throw Xi("WriteRecord should have .snap or .children")}}return i}function vE(e,t,n,i,r){if(!i&&!r){let o=Yi(e.visibleWrites,t);if(o!=null)return o;{let s=ii(e.visibleWrites,t);if(em(s))return n;if(n==null&&!Xg(s,Z()))return null;{let a=n||x.EMPTY_NODE;return Do(s,a)}}}else{let o=ii(e.visibleWrites,t);if(!r&&em(o))return n;if(!r&&n==null&&!Xg(o,Z()))return null;{let s=function(c){return(c.visible||r)&&(!i||!~i.indexOf(c.writeId))&&(Ct(c.path,t)||Ct(t,c.path))},a=_E(e.allWrites,s,t),l=n||x.EMPTY_NODE;return Do(a,l)}}}function qF(e,t,n){let i=x.EMPTY_NODE,r=Yi(e.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(le,(o,s)=>{i=i.updateImmediateChild(o,s)}),i;if(n){let o=ii(e.visibleWrites,t);return n.forEachChild(le,(s,a)=>{let l=Do(ii(o,new J(s)),a);i=i.updateImmediateChild(s,l)}),MC(o).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}else{let o=ii(e.visibleWrites,t);return MC(o).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}}function YF(e,t,n,i,r){v(i||r,"Either existingEventSnap or existingServerSnap must exist");let o=de(t,n);if(Xg(e.visibleWrites,o))return null;{let s=ii(e.visibleWrites,o);return em(s)?r.getChild(n):Do(s,r.getChild(n))}}function QF(e,t,n,i){let r=de(t,n),o=Yi(e.visibleWrites,r);if(o!=null)return o;if(i.isCompleteForChild(n)){let s=ii(e.visibleWrites,r);return Do(s,i.getNode().getImmediateChild(n))}else return null}function ZF(e,t){return Yi(e.visibleWrites,t)}function JF(e,t,n,i,r,o,s){let a,l=ii(e.visibleWrites,t),c=Yi(l,Z());if(c!=null)a=c;else if(n!=null)a=Do(l,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=s.getCompare(),h=o?a.getReverseIteratorFrom(i,s):a.getIteratorFrom(i,s),f=h.getNext();for(;f&&u.length<r;)d(f,i)!==0&&u.push(f),f=h.getNext();return u}else return[]}function XF(){return{visibleWrites:Lt.empty(),allWrites:[],lastWriteId:-1}}function Eu(e,t,n,i){return vE(e.writeTree,e.treePath,t,n,i)}function Vm(e,t){return qF(e.writeTree,e.treePath,t)}function AC(e,t,n,i){return YF(e.writeTree,e.treePath,t,n,i)}function Iu(e,t){return ZF(e.writeTree,de(e.treePath,t))}function eL(e,t,n,i,r,o){return JF(e.writeTree,e.treePath,t,n,i,r,o)}function jm(e,t,n){return QF(e.writeTree,e.treePath,t,n)}function yE(e,t){return bE(de(e.treePath,t),e.writeTree)}function bE(e,t){return{treePath:e,writeTree:t}}var tm=class{constructor(){this.changeMap=new Map}trackChildChange(t){let n=t.type,i=t.childName;v(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),v(i!==".priority","Only non-priority child changes can be tracked.");let r=this.changeMap.get(i);if(r){let o=r.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(i,Zs(i,t.snapshotNode,r.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(i,Qs(i,r.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(i,bo(i,t.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(i,Zs(i,t.snapshotNode,r.oldSnap));else throw Xi("Illegal combination of changes: "+t+" occurred after "+r)}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}};var nm=class{getCompleteChild(t){return null}getChildAfterChild(t,n,i){return null}},wE=new nm,ta=class{constructor(t,n,i=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(t){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{let i=this.optCompleteServerCache_!=null?new Jt(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return jm(this.writes_,t,i)}}getChildAfterChild(t,n,i){let r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ki(this.viewCache_),o=eL(this.writes_,r,n,1,i,t);return o.length===0?null:o[0]}};function tL(e){return{filter:e}}function nL(e,t){v(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),v(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function iL(e,t,n,i,r){let o=new tm,s,a;if(n.type===Yt.OVERWRITE){let c=n;c.source.fromUser?s=im(e,t,c.path,c.snap,i,r,o):(v(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.serverCache.isFiltered()&&!G(c.path),s=Tu(e,t,c.path,c.snap,i,r,a,o))}else if(n.type===Yt.MERGE){let c=n;c.source.fromUser?s=oL(e,t,c.path,c.children,i,r,o):(v(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.serverCache.isFiltered(),s=rm(e,t,c.path,c.children,i,r,a,o))}else if(n.type===Yt.ACK_USER_WRITE){let c=n;c.revert?s=lL(e,t,c.path,i,r,o):s=sL(e,t,c.path,c.affectedTree,i,r,o)}else if(n.type===Yt.LISTEN_COMPLETE)s=aL(e,t,n.path,i,o);else throw Xi("Unknown operation type: "+n.type);let l=o.getChanges();return rL(t,s,l),{viewCache:s,changes:l}}function rL(e,t,n){let i=t.eventCache;if(i.isFullyInitialized()){let r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=Cu(e);(n.length>0||!e.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&n.push(pE(Cu(t)))}}function DE(e,t,n,i,r,o){let s=t.eventCache;if(Iu(i,n)!=null)return t;{let a,l;if(G(n))if(v(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){let c=Ki(t),u=c instanceof x?c:x.EMPTY_NODE,d=Vm(i,u);a=e.filter.updateFullNode(t.eventCache.getNode(),d,o)}else{let c=Eu(i,Ki(t));a=e.filter.updateFullNode(t.eventCache.getNode(),c,o)}else{let c=H(n);if(c===".priority"){v(si(n)===1,"Can't have a priority with additional path components");let u=s.getNode();l=t.serverCache.getNode();let d=AC(i,n,u,l);d!=null?a=e.filter.updatePriority(u,d):a=s.getNode()}else{let u=se(n),d;if(s.isCompleteForChild(c)){l=t.serverCache.getNode();let h=AC(i,n,s.getNode(),l);h!=null?d=s.getNode().getImmediateChild(c).updateChild(u,h):d=s.getNode().getImmediateChild(c)}else d=jm(i,c,t.serverCache);d!=null?a=e.filter.updateChild(s.getNode(),c,d,u,r,o):a=s.getNode()}}return Gs(t,a,s.isFullyInitialized()||G(n),e.filter.filtersNodes())}}function Tu(e,t,n,i,r,o,s,a){let l=t.serverCache,c,u=s?e.filter:e.filter.getIndexedFilter();if(G(n))c=u.updateFullNode(l.getNode(),i,null);else if(u.filtersNodes()&&!l.isFiltered()){let f=l.getNode().updateChild(n,i);c=u.updateFullNode(l.getNode(),f,null)}else{let f=H(n);if(!l.isCompleteForPath(n)&&si(n)>1)return t;let p=se(n),b=l.getNode().getImmediateChild(f).updateChild(p,i);f===".priority"?c=u.updatePriority(l.getNode(),b):c=u.updateChild(l.getNode(),f,b,p,wE,null)}let d=gE(t,c,l.isFullyInitialized()||G(n),u.filtersNodes()),h=new ta(r,d,o);return DE(e,d,n,r,h,a)}function im(e,t,n,i,r,o,s){let a=t.eventCache,l,c,u=new ta(r,t,o);if(G(n))c=e.filter.updateFullNode(t.eventCache.getNode(),i,s),l=Gs(t,c,!0,e.filter.filtersNodes());else{let d=H(n);if(d===".priority")c=e.filter.updatePriority(t.eventCache.getNode(),i),l=Gs(t,c,a.isFullyInitialized(),a.isFiltered());else{let h=se(n),f=a.getNode().getImmediateChild(d),p;if(G(h))p=i;else{let m=u.getCompleteChild(d);m!=null?Nm(h)===".priority"&&m.getChild(lE(h)).isEmpty()?p=m:p=m.updateChild(h,i):p=x.EMPTY_NODE}if(f.equals(p))l=t;else{let m=e.filter.updateChild(a.getNode(),d,p,h,u,s);l=Gs(t,m,a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function NC(e,t){return e.eventCache.isCompleteForChild(t)}function oL(e,t,n,i,r,o,s){let a=t;return i.foreach((l,c)=>{let u=de(n,l);NC(t,H(u))&&(a=im(e,a,u,c,r,o,s))}),i.foreach((l,c)=>{let u=de(n,l);NC(t,H(u))||(a=im(e,a,u,c,r,o,s))}),a}function RC(e,t,n){return n.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function rm(e,t,n,i,r,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l=t,c;G(n)?c=i:c=new Ke(null).setTree(n,i);let u=t.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){let f=t.serverCache.getNode().getImmediateChild(d),p=RC(e,f,h);l=Tu(e,l,new J(d),p,r,o,s,a)}}),c.children.inorderTraversal((d,h)=>{let f=!t.serverCache.isCompleteForChild(d)&&h.value===null;if(!u.hasChild(d)&&!f){let p=t.serverCache.getNode().getImmediateChild(d),m=RC(e,p,h);l=Tu(e,l,new J(d),m,r,o,s,a)}}),l}function sL(e,t,n,i,r,o,s){if(Iu(r,n)!=null)return t;let a=t.serverCache.isFiltered(),l=t.serverCache;if(i.value!=null){if(G(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Tu(e,t,n,l.getNode().getChild(n),r,o,a,s);if(G(n)){let c=new Ke(null);return l.getNode().forEachChild(Qt,(u,d)=>{c=c.set(new J(u),d)}),rm(e,t,n,c,r,o,a,s)}else return t}else{let c=new Ke(null);return i.foreach((u,d)=>{let h=de(n,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),rm(e,t,n,c,r,o,a,s)}}function aL(e,t,n,i,r){let o=t.serverCache,s=gE(t,o.getNode(),o.isFullyInitialized()||G(n),o.isFiltered());return DE(e,s,n,i,wE,r)}function lL(e,t,n,i,r,o){let s;if(Iu(i,n)!=null)return t;{let a=new ta(i,t,r),l=t.eventCache.getNode(),c;if(G(n)||H(n)===".priority"){let u;if(t.serverCache.isFullyInitialized())u=Eu(i,Ki(t));else{let d=t.serverCache.getNode();v(d instanceof x,"serverChildren would be complete if leaf node"),u=Vm(i,d)}u=u,c=e.filter.updateFullNode(l,u,o)}else{let u=H(n),d=jm(i,u,t.serverCache);d==null&&t.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=e.filter.updateChild(l,u,d,se(n),a,o):t.eventCache.getNode().hasChild(u)?c=e.filter.updateChild(l,u,x.EMPTY_NODE,se(n),a,o):c=l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=Eu(i,Ki(t)),s.isLeafNode()&&(c=e.filter.updateFullNode(c,s,o)))}return s=t.serverCache.isFullyInitialized()||Iu(i,Z())!=null,Gs(t,c,s,e.filter.filtersNodes())}}var om=class{constructor(t,n){this.query_=t,this.eventRegistrations_=[];let i=this.query_._queryParams,r=new Js(i.getIndex()),o=AF(i);this.processor_=tL(o);let s=n.serverCache,a=n.eventCache,l=r.updateFullNode(x.EMPTY_NODE,s.getNode(),null),c=o.updateFullNode(x.EMPTY_NODE,a.getNode(),null),u=new Jt(l,s.isFullyInitialized(),r.filtersNodes()),d=new Jt(c,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=Bu(d,u),this.eventGenerator_=new Zg(this.query_)}get query(){return this.query_}};function cL(e){return e.viewCache_.serverCache.getNode()}function uL(e){return Cu(e.viewCache_)}function dL(e,t){let n=Ki(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!G(t)&&!n.getImmediateChild(H(t)).isEmpty())?n.getChild(t):null}function OC(e){return e.eventRegistrations_.length===0}function hL(e,t){e.eventRegistrations_.push(t)}function xC(e,t,n){let i=[];if(n){v(t==null,"A cancel should cancel all event registrations.");let r=e.query._path;e.eventRegistrations_.forEach(o=>{let s=o.createCancelEvent(n,r);s&&i.push(s)})}if(t){let r=[];for(let o=0;o<e.eventRegistrations_.length;++o){let s=e.eventRegistrations_[o];if(!s.matches(t))r.push(s);else if(t.hasAnyCallback()){r=r.concat(e.eventRegistrations_.slice(o+1));break}}e.eventRegistrations_=r}else e.eventRegistrations_=[];return i}function kC(e,t,n,i){t.type===Yt.MERGE&&t.source.queryId!==null&&(v(Ki(e.viewCache_),"We should always have a full cache before handling merges"),v(Cu(e.viewCache_),"Missing event cache, even though we have a server cache"));let r=e.viewCache_,o=iL(e.processor_,r,t,n,i);return nL(e.processor_,o.viewCache),v(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,CE(e,o.changes,o.viewCache.eventCache.getNode(),null)}function fL(e,t){let n=e.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(le,(o,s)=>{i.push(bo(o,s))}),n.isFullyInitialized()&&i.push(pE(n.getNode())),CE(e,i,n.getNode(),t)}function CE(e,t,n,i){let r=i?[i]:e.eventRegistrations_;return LF(e.eventGenerator_,t,n,r)}var Su,Mu=class{constructor(){this.views=new Map}};function pL(e){v(!Su,"__referenceConstructor has already been defined"),Su=e}function gL(){return v(Su,"Reference.ts has not been loaded"),Su}function mL(e){return e.views.size===0}function Bm(e,t,n,i){let r=t.source.queryId;if(r!==null){let o=e.views.get(r);return v(o!=null,"SyncTree gave us an op for an invalid query."),kC(o,t,n,i)}else{let o=[];for(let s of e.views.values())o=o.concat(kC(s,t,n,i));return o}}function EE(e,t,n,i,r){let o=t._queryIdentifier,s=e.views.get(o);if(!s){let a=Eu(n,r?i:null),l=!1;a?l=!0:i instanceof x?(a=Vm(n,i),l=!1):(a=x.EMPTY_NODE,l=!1);let c=Bu(new Jt(a,l,!1),new Jt(i,r,!1));return new om(t,c)}return s}function _L(e,t,n,i,r,o){let s=EE(e,t,i,r,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),hL(s,n),fL(s,n)}function vL(e,t,n,i){let r=t._queryIdentifier,o=[],s=[],a=ai(e);if(r==="default")for(let[l,c]of e.views.entries())s=s.concat(xC(c,n,i)),OC(c)&&(e.views.delete(l),c.query._queryParams.loadsAllData()||o.push(c.query));else{let l=e.views.get(r);l&&(s=s.concat(xC(l,n,i)),OC(l)&&(e.views.delete(r),l.query._queryParams.loadsAllData()||o.push(l.query)))}return a&&!ai(e)&&o.push(new(gL())(t._repo,t._path)),{removed:o,events:s}}function IE(e){let t=[];for(let n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function ri(e,t){let n=null;for(let i of e.views.values())n=n||dL(i,t);return n}function TE(e,t){if(t._queryParams.loadsAllData())return $u(e);{let i=t._queryIdentifier;return e.views.get(i)}}function SE(e,t){return TE(e,t)!=null}function ai(e){return $u(e)!=null}function $u(e){for(let t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}var Au;function yL(e){v(!Au,"__referenceConstructor has already been defined"),Au=e}function bL(){return v(Au,"Reference.ts has not been loaded"),Au}var wL=1,Nu=class{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Ke(null),this.pendingWriteTree_=XF(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function Um(e,t,n,i,r){return UF(e.pendingWriteTree_,t,n,i,r),r?So(e,new wo(Pm(),t,n)):[]}function DL(e,t,n,i){$F(e.pendingWriteTree_,t,n,i);let r=Ke.fromObject(n);return So(e,new ea(Pm(),t,r))}function ni(e,t,n=!1){let i=HF(e.pendingWriteTree_,t);if(GF(e.pendingWriteTree_,t)){let o=new Ke(null);return i.snap!=null?o=o.set(Z(),!0):Oe(i.children,s=>{o=o.set(new J(s),!0)}),So(e,new Qg(i.path,o,n))}else return[]}function ua(e,t,n){return So(e,new wo(Fm(),t,n))}function CL(e,t,n){let i=Ke.fromObject(n);return So(e,new ea(Fm(),t,i))}function EL(e,t){return So(e,new Du(Fm(),t))}function IL(e,t,n){let i=$m(e,n);if(i){let r=Hm(i),o=r.path,s=r.queryId,a=We(o,t),l=new Du(Lm(s),a);return Gm(e,o,l)}else return[]}function Ru(e,t,n,i,r=!1){let o=t._path,s=e.syncPointTree_.get(o),a=[];if(s&&(t._queryIdentifier==="default"||SE(s,t))){let l=vL(s,t,n,i);mL(s)&&(e.syncPointTree_=e.syncPointTree_.remove(o));let c=l.removed;if(a=l.events,!r){let u=c.findIndex(h=>h._queryParams.loadsAllData())!==-1,d=e.syncPointTree_.findOnPath(o,(h,f)=>ai(f));if(u&&!d){let h=e.syncPointTree_.subtree(o);if(!h.isEmpty()){let f=ML(h);for(let p=0;p<f.length;++p){let m=f[p],b=m.query,T=RE(e,m);e.listenProvider_.startListening(Ws(b),na(e,b),T.hashFn,T.onComplete)}}}!d&&c.length>0&&!i&&(u?e.listenProvider_.stopListening(Ws(t),null):c.forEach(h=>{let f=e.queryToTagMap.get(Gu(h));e.listenProvider_.stopListening(Ws(h),f)}))}AL(e,c)}return a}function ME(e,t,n,i){let r=$m(e,i);if(r!=null){let o=Hm(r),s=o.path,a=o.queryId,l=We(s,t),c=new wo(Lm(a),l,n);return Gm(e,s,c)}else return[]}function TL(e,t,n,i){let r=$m(e,i);if(r){let o=Hm(r),s=o.path,a=o.queryId,l=We(s,t),c=Ke.fromObject(n),u=new ea(Lm(a),l,c);return Gm(e,s,u)}else return[]}function sm(e,t,n,i=!1){let r=t._path,o=null,s=!1;e.syncPointTree_.foreachOnPath(r,(h,f)=>{let p=We(h,r);o=o||ri(f,p),s=s||ai(f)});let a=e.syncPointTree_.get(r);a?(s=s||ai(a),o=o||ri(a,Z())):(a=new Mu,e.syncPointTree_=e.syncPointTree_.set(r,a));let l;o!=null?l=!0:(l=!1,o=x.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild((f,p)=>{let m=ri(p,Z());m&&(o=o.updateImmediateChild(f,m))}));let c=SE(a,t);if(!c&&!t._queryParams.loadsAllData()){let h=Gu(t);v(!e.queryToTagMap.has(h),"View does not exist, but we have a tag");let f=NL();e.queryToTagMap.set(h,f),e.tagToQueryMap.set(f,h)}let u=Uu(e.pendingWriteTree_,r),d=_L(a,t,n,u,o,l);if(!c&&!s&&!i){let h=TE(a,t);d=d.concat(RL(e,t,h))}return d}function Hu(e,t,n){let r=e.pendingWriteTree_,o=e.syncPointTree_.findOnPath(t,(s,a)=>{let l=We(s,t),c=ri(a,l);if(c)return c});return vE(r,t,o,n,!0)}function SL(e,t){let n=t._path,i=null;e.syncPointTree_.foreachOnPath(n,(c,u)=>{let d=We(c,n);i=i||ri(u,d)});let r=e.syncPointTree_.get(n);r?i=i||ri(r,Z()):(r=new Mu,e.syncPointTree_=e.syncPointTree_.set(n,r));let o=i!=null,s=o?new Jt(i,!0,!1):null,a=Uu(e.pendingWriteTree_,t._path),l=EE(r,t,a,o?s.getNode():x.EMPTY_NODE,o);return uL(l)}function So(e,t){return AE(t,e.syncPointTree_,null,Uu(e.pendingWriteTree_,Z()))}function AE(e,t,n,i){if(G(e.path))return NE(e,t,n,i);{let r=t.get(Z());n==null&&r!=null&&(n=ri(r,Z()));let o=[],s=H(e.path),a=e.operationForChild(s),l=t.children.get(s);if(l&&a){let c=n?n.getImmediateChild(s):null,u=yE(i,s);o=o.concat(AE(a,l,c,u))}return r&&(o=o.concat(Bm(r,e,i,n))),o}}function NE(e,t,n,i){let r=t.get(Z());n==null&&r!=null&&(n=ri(r,Z()));let o=[];return t.children.inorderTraversal((s,a)=>{let l=n?n.getImmediateChild(s):null,c=yE(i,s),u=e.operationForChild(s);u&&(o=o.concat(NE(u,a,l,c)))}),r&&(o=o.concat(Bm(r,e,i,n))),o}function RE(e,t){let n=t.query,i=na(e,n);return{hashFn:()=>(cL(t)||x.EMPTY_NODE).hash(),onComplete:r=>{if(r==="ok")return i?IL(e,n._path,i):EL(e,n._path);{let o=UP(r,n);return Ru(e,n,null,o)}}}}function na(e,t){let n=Gu(t);return e.queryToTagMap.get(n)}function Gu(e){return e._path.toString()+"$"+e._queryIdentifier}function $m(e,t){return e.tagToQueryMap.get(t)}function Hm(e){let t=e.indexOf("$");return v(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new J(e.substr(0,t))}}function Gm(e,t,n){let i=e.syncPointTree_.get(t);v(i,"Missing sync point for query tag that we're tracking");let r=Uu(e.pendingWriteTree_,t);return Bm(i,n,r,null)}function ML(e){return e.fold((t,n,i)=>{if(n&&ai(n))return[$u(n)];{let r=[];return n&&(r=IE(n)),Oe(i,(o,s)=>{r=r.concat(s)}),r}})}function Ws(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(bL())(e._repo,e._path):e}function AL(e,t){for(let n=0;n<t.length;++n){let i=t[n];if(!i._queryParams.loadsAllData()){let r=Gu(i),o=e.queryToTagMap.get(r);e.queryToTagMap.delete(r),e.tagToQueryMap.delete(o)}}}function NL(){return wL++}function RL(e,t,n){let i=t._path,r=na(e,t),o=RE(e,n),s=e.listenProvider_.startListening(Ws(t),r,o.hashFn,o.onComplete),a=e.syncPointTree_.subtree(i);if(r)v(!ai(a.value),"If we're adding a query, it shouldn't be shadowed");else{let l=a.fold((c,u,d)=>{if(!G(c)&&u&&ai(u))return[$u(u).query];{let h=[];return u&&(h=h.concat(IE(u).map(f=>f.query))),Oe(d,(f,p)=>{h=h.concat(p)}),h}});for(let c=0;c<l.length;++c){let u=l[c];e.listenProvider_.stopListening(Ws(u),na(e,u))}}return s}var am=class e{constructor(t){this.node_=t}getImmediateChild(t){let n=this.node_.getImmediateChild(t);return new e(n)}node(){return this.node_}},lm=class e{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){let n=de(this.path_,t);return new e(this.syncTree_,n)}node(){return Hu(this.syncTree_,this.path_)}},OL=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},PC=function(e,t,n){if(!e||typeof e!="object")return e;if(v(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return xL(e[".sv"],t,n);if(typeof e[".sv"]=="object")return kL(e[".sv"],t);v(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},xL=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:v(!1,"Unexpected server value: "+e)}},kL=function(e,t,n){e.hasOwnProperty("increment")||v(!1,"Unexpected server value: "+JSON.stringify(e,null,2));let i=e.increment;typeof i!="number"&&v(!1,"Unexpected increment value: "+i);let r=t.node();if(v(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;let s=r.getValue();return typeof s!="number"?i:s+i},OE=function(e,t,n,i){return Wm(t,new lm(n,e),i)},zm=function(e,t,n){return Wm(e,new am(t),n)};function Wm(e,t,n){let i=e.getPriority().val(),r=PC(i,t.getImmediateChild(".priority"),n),o;if(e.isLeafNode()){let s=e,a=PC(s.getValue(),t,n);return a!==s.getValue()||r!==s.getPriority().val()?new vo(a,fe(r)):e}else{let s=e;return o=s,r!==s.getPriority().val()&&(o=o.updatePriority(new vo(r))),s.forEachChild(le,(a,l)=>{let c=Wm(l,t.getImmediateChild(a),n);c!==l&&(o=o.updateImmediateChild(a,c))}),o}}var ia=class{constructor(t="",n=null,i={children:{},childCount:0}){this.name=t,this.parent=n,this.node=i}};function zu(e,t){let n=t instanceof J?t:new J(t),i=e,r=H(n);for(;r!==null;){let o=Tn(i.node.children,r)||{children:{},childCount:0};i=new ia(r,i,o),n=se(n),r=H(n)}return i}function Qi(e){return e.node.value}function Km(e,t){e.node.value=t,cm(e)}function xE(e){return e.node.childCount>0}function PL(e){return Qi(e)===void 0&&!xE(e)}function Wu(e,t){Oe(e.node.children,(n,i)=>{t(new ia(n,e,i))})}function kE(e,t,n,i){n&&!i&&t(e),Wu(e,r=>{kE(r,t,!0,i)}),n&&i&&t(e)}function FL(e,t,n){let i=n?e:e.parent;for(;i!==null;){if(t(i))return!0;i=i.parent}return!1}function da(e){return new J(e.parent===null?e.name:da(e.parent)+"/"+e.name)}function cm(e){e.parent!==null&&LL(e.parent,e.name,e)}function LL(e,t,n){let i=PL(n),r=dt(e.node.children,t);i&&r?(delete e.node.children[t],e.node.childCount--,cm(e)):!i&&!r&&(e.node.children[t]=n.node,e.node.childCount++,cm(e))}var VL=/[\[\].#$\/\u0000-\u001F\u007F]/,jL=/[\[\].#$\u0000-\u001F\u007F]/,bg=10*1024*1024,Ku=function(e){return typeof e=="string"&&e.length!==0&&!VL.test(e)},PE=function(e){return typeof e=="string"&&e.length!==0&&!jL.test(e)},BL=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),PE(e)},ra=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!Vu(e)||e&&typeof e=="object"&&dt(e,".sv")},Xt=function(e,t,n,i){i&&t===void 0||ha(Qe(e,"value"),t,n)},ha=function(e,t,n){let i=n instanceof J?new xg(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+Gi(i));if(typeof t=="function")throw new Error(e+"contains a function "+Gi(i)+" with contents = "+t.toString());if(Vu(t))throw new Error(e+"contains "+t.toString()+" "+Gi(i));if(typeof t=="string"&&t.length>bg/3&&Ro(t)>bg)throw new Error(e+"contains a string greater than "+bg+" utf8 bytes "+Gi(i)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let r=!1,o=!1;if(Oe(t,(s,a)=>{if(s===".value")r=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!Ku(s)))throw new Error(e+" contains an invalid key ("+s+") "+Gi(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);mF(i,s),ha(e,a,i),_F(i)}),r&&o)throw new Error(e+' contains ".value" child '+Gi(i)+" in addition to actual children.")}},UL=function(e,t){let n,i;for(n=0;n<t.length;n++){i=t[n];let o=qs(i);for(let s=0;s<o.length;s++)if(!(o[s]===".priority"&&s===o.length-1)){if(!Ku(o[s]))throw new Error(e+"contains an invalid key ("+o[s]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(gF);let r=null;for(n=0;n<t.length;n++){if(i=t[n],r!==null&&Ct(r,i))throw new Error(e+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}},FE=function(e,t,n,i){if(i&&t===void 0)return;let r=Qe(e,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");let o=[];Oe(t,(s,a)=>{let l=new J(s);if(ha(r,a,de(n,l)),Nm(l)===".priority"&&!ra(a))throw new Error(r+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(l)}),UL(r,o)},qm=function(e,t,n){if(!(n&&t===void 0)){if(Vu(t))throw new Error(Qe(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ra(t))throw new Error(Qe(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},fa=function(e,t,n,i){if(!(i&&n===void 0)&&!Ku(n))throw new Error(Qe(e,t)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},Mo=function(e,t,n,i){if(!(i&&n===void 0)&&!PE(n))throw new Error(Qe(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},$L=function(e,t,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Mo(e,t,n,i)},at=function(e,t){if(H(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},LE=function(e,t){let n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!Ku(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!BL(n))throw new Error(Qe(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var um=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function qu(e,t){let n=null;for(let i=0;i<t.length;i++){let r=t[i],o=r.getPath();n!==null&&!Rm(o,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(r)}n&&e.eventLists_.push(n)}function VE(e,t,n){qu(e,n),jE(e,i=>Rm(i,t))}function lt(e,t,n){qu(e,n),jE(e,i=>Ct(i,t)||Ct(t,i))}function jE(e,t){e.recursionDepth_++;let n=!0;for(let i=0;i<e.eventLists_.length;i++){let r=e.eventLists_[i];if(r){let o=r.path;t(o)?(HL(e.eventLists_[i]),e.eventLists_[i]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function HL(e){for(let t=0;t<e.events.length;t++){let n=e.events[t];if(n!==null){e.events[t]=null;let i=n.getEventRunner();Wi&&Re("event: "+n.toString()),Io(i)}}}var BE="repo_interrupt",GL=25,dm=class{constructor(t,n,i,r){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new um,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=wu(),this.transactionQueueTree_=new ia,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function zL(e,t,n){if(e.stats_=Am(e.repoInfo_),e.forceRestClient_||zP())e.server_=new Gg(e.repoInfo_,(i,r,o,s)=>{FC(e,i,r,o,s)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>LC(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ye(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}e.persistentConnection_=new Om(e.repoInfo_,t,(i,r,o,s)=>{FC(e,i,r,o,s)},i=>{LC(e,i)},i=>{WL(e,i)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(i=>{e.server_.refreshAuthToken(i)}),e.appCheckProvider_.addTokenChangeListener(i=>{e.server_.refreshAppCheckToken(i.token)}),e.statsReporter_=KP(e.repoInfo_,()=>new Yg(e.stats_,e.server_)),e.infoData_=new zg,e.infoSyncTree_=new Nu({startListening:(i,r,o,s)=>{let a=[],l=e.infoData_.getNode(i._path);return l.isEmpty()||(a=ua(e.infoSyncTree_,i._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),Ym(e,"connected",!1),e.serverSyncTree_=new Nu({startListening:(i,r,o,s)=>(e.server_.listen(i,o,r,(a,l)=>{let c=s(a,l);lt(e.eventQueue_,i._path,c)}),[]),stopListening:(i,r)=>{e.server_.unlisten(i,r)}})}function UE(e){let n=e.infoData_.getNode(new J(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function pa(e){return OL({timestamp:UE(e)})}function FC(e,t,n,i,r){e.dataUpdateCount++;let o=new J(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(r)if(i){let l=No(n,c=>fe(c));s=TL(e.serverSyncTree_,o,l,r)}else{let l=fe(n);s=ME(e.serverSyncTree_,o,l,r)}else if(i){let l=No(n,c=>fe(c));s=CL(e.serverSyncTree_,o,l)}else{let l=fe(n);s=ua(e.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=Co(e,o)),lt(e.eventQueue_,a,s)}function LC(e,t){Ym(e,"connected",t),t===!1&&YL(e)}function WL(e,t){Oe(t,(n,i)=>{Ym(e,n,i)})}function Ym(e,t,n){let i=new J("/.info/"+t),r=fe(n);e.infoData_.updateSnapshot(i,r);let o=ua(e.infoSyncTree_,i,r);lt(e.eventQueue_,i,o)}function Yu(e){return e.nextWriteId_++}function KL(e,t,n){let i=SL(e.serverSyncTree_,t);return i!=null?Promise.resolve(i):e.server_.get(t).then(r=>{let o=fe(r).withIndex(t._queryParams.getIndex());sm(e.serverSyncTree_,t,n,!0);let s;if(t._queryParams.loadsAllData())s=ua(e.serverSyncTree_,t._path,o);else{let a=na(e.serverSyncTree_,t);s=ME(e.serverSyncTree_,t._path,o,a)}return lt(e.eventQueue_,t._path,s),Ru(e.serverSyncTree_,t,n,null,!0),o},r=>(Ao(e,"get for query "+ye(t)+" failed: "+r),Promise.reject(new Error(r))))}function Qm(e,t,n,i,r){Ao(e,"set",{path:t.toString(),value:n,priority:i});let o=pa(e),s=fe(n,i),a=Hu(e.serverSyncTree_,t),l=zm(s,a,o),c=Yu(e),u=Um(e.serverSyncTree_,t,l,c,!0);qu(e.eventQueue_,u),e.server_.put(t.toString(),s.val(!0),(h,f)=>{let p=h==="ok";p||je("set at "+t+" failed: "+h);let m=ni(e.serverSyncTree_,c,!p);lt(e.eventQueue_,t,m),li(e,r,h,f)});let d=Jm(e,t);Co(e,d),lt(e.eventQueue_,d,[])}function qL(e,t,n,i){Ao(e,"update",{path:t.toString(),value:n});let r=!0,o=pa(e),s={};if(Oe(n,(a,l)=>{r=!1,s[a]=OE(de(t,a),fe(l),e.serverSyncTree_,o)}),r)Re("update() called with empty data.  Don't do anything."),li(e,i,"ok",void 0);else{let a=Yu(e),l=DL(e.serverSyncTree_,t,s,a);qu(e.eventQueue_,l),e.server_.merge(t.toString(),n,(c,u)=>{let d=c==="ok";d||je("update at "+t+" failed: "+c);let h=ni(e.serverSyncTree_,a,!d),f=h.length>0?Co(e,t):t;lt(e.eventQueue_,f,h),li(e,i,c,u)}),Oe(n,c=>{let u=Jm(e,de(t,c));Co(e,u)}),lt(e.eventQueue_,t,[])}}function YL(e){Ao(e,"onDisconnectEvents");let t=pa(e),n=wu();Kg(e.onDisconnect_,Z(),(r,o)=>{let s=OE(r,o,e.serverSyncTree_,t);To(n,r,s)});let i=[];Kg(n,Z(),(r,o)=>{i=i.concat(ua(e.serverSyncTree_,r,o));let s=Jm(e,r);Co(e,s)}),e.onDisconnect_=wu(),lt(e.eventQueue_,Z(),i)}function QL(e,t,n){e.server_.onDisconnectCancel(t.toString(),(i,r)=>{i==="ok"&&Wg(e.onDisconnect_,t),li(e,n,i,r)})}function VC(e,t,n,i){let r=fe(n);e.server_.onDisconnectPut(t.toString(),r.val(!0),(o,s)=>{o==="ok"&&To(e.onDisconnect_,t,r),li(e,i,o,s)})}function ZL(e,t,n,i,r){let o=fe(n,i);e.server_.onDisconnectPut(t.toString(),o.val(!0),(s,a)=>{s==="ok"&&To(e.onDisconnect_,t,o),li(e,r,s,a)})}function JL(e,t,n,i){if(ba(n)){Re("onDisconnect().update() called with empty data.  Don't do anything."),li(e,i,"ok",void 0);return}e.server_.onDisconnectMerge(t.toString(),n,(r,o)=>{r==="ok"&&Oe(n,(s,a)=>{let l=fe(a);To(e.onDisconnect_,de(t,s),l)}),li(e,i,r,o)})}function XL(e,t,n){let i;H(t._path)===".info"?i=sm(e.infoSyncTree_,t,n):i=sm(e.serverSyncTree_,t,n),VE(e.eventQueue_,t._path,i)}function hm(e,t,n){let i;H(t._path)===".info"?i=Ru(e.infoSyncTree_,t,n):i=Ru(e.serverSyncTree_,t,n),VE(e.eventQueue_,t._path,i)}function $E(e){e.persistentConnection_&&e.persistentConnection_.interrupt(BE)}function eV(e){e.persistentConnection_&&e.persistentConnection_.resume(BE)}function Ao(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),Re(n,...t)}function li(e,t,n,i){t&&Io(()=>{if(n==="ok")t(null);else{let r=(n||"error").toUpperCase(),o=r;i&&(o+=": "+i);let s=new Error(o);s.code=r,t(s)}})}function tV(e,t,n,i,r,o){Ao(e,"transaction on "+t);let s={path:t,update:n,onComplete:i,status:null,order:UC(),applyLocally:o,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=Zm(e,t,void 0);s.currentInputSnapshot=a;let l=s.update(a.val());if(l===void 0)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{ha("transaction failed: Data returned ",l,s.path),s.status=0;let c=zu(e.transactionQueueTree_,t),u=Qi(c)||[];u.push(s),Km(c,u);let d;typeof l=="object"&&l!==null&&dt(l,".priority")?(d=Tn(l,".priority"),v(ra(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):d=(Hu(e.serverSyncTree_,t)||x.EMPTY_NODE).getPriority().val();let h=pa(e),f=fe(l,d),p=zm(f,a,h);s.currentOutputSnapshotRaw=f,s.currentOutputSnapshotResolved=p,s.currentWriteId=Yu(e);let m=Um(e.serverSyncTree_,t,p,s.currentWriteId,s.applyLocally);lt(e.eventQueue_,t,m),Qu(e,e.transactionQueueTree_)}}function Zm(e,t,n){return Hu(e.serverSyncTree_,t,n)||x.EMPTY_NODE}function Qu(e,t=e.transactionQueueTree_){if(t||Zu(e,t),Qi(t)){let n=GE(e,t);v(n.length>0,"Sending zero length transaction queue"),n.every(r=>r.status===0)&&nV(e,da(t),n)}else xE(t)&&Wu(t,n=>{Qu(e,n)})}function nV(e,t,n){let i=n.map(c=>c.currentWriteId),r=Zm(e,t,i),o=r,s=r.hash();for(let c=0;c<n.length;c++){let u=n[c];v(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=We(t,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}let a=o.val(!0),l=t;e.server_.put(l.toString(),a,c=>{Ao(e,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){let d=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(ni(e.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();Zu(e,zu(e.transactionQueueTree_,t)),Qu(e,e.transactionQueueTree_),lt(e.eventQueue_,t,u);for(let h=0;h<d.length;h++)Io(d[h])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{je("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}Co(e,t)}},s)}function Co(e,t){let n=HE(e,t),i=da(n),r=GE(e,n);return iV(e,r,i),i}function iV(e,t,n){if(t.length===0)return;let i=[],r=[],s=t.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<t.length;a++){let l=t[a],c=We(n,l.path),u=!1,d;if(v(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,r=r.concat(ni(e.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=GL)u=!0,d="maxretry",r=r.concat(ni(e.serverSyncTree_,l.currentWriteId,!0));else{let h=Zm(e,l.path,s);l.currentInputSnapshot=h;let f=t[a].update(h.val());if(f!==void 0){ha("transaction failed: Data returned ",f,l.path);let p=fe(f);typeof f=="object"&&f!=null&&dt(f,".priority")||(p=p.updatePriority(h.getPriority()));let b=l.currentWriteId,T=pa(e),j=zm(p,h,T);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=j,l.currentWriteId=Yu(e),s.splice(s.indexOf(b),1),r=r.concat(Um(e.serverSyncTree_,l.path,j,l.currentWriteId,l.applyLocally)),r=r.concat(ni(e.serverSyncTree_,b,!0))}else u=!0,d="nodata",r=r.concat(ni(e.serverSyncTree_,l.currentWriteId,!0))}lt(e.eventQueue_,n,r),r=[],u&&(t[a].status=2,function(h){setTimeout(h,Math.floor(0))}(t[a].unwatcher),t[a].onComplete&&(d==="nodata"?i.push(()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot)):i.push(()=>t[a].onComplete(new Error(d),!1,null))))}Zu(e,e.transactionQueueTree_);for(let a=0;a<i.length;a++)Io(i[a]);Qu(e,e.transactionQueueTree_)}function HE(e,t){let n,i=e.transactionQueueTree_;for(n=H(t);n!==null&&Qi(i)===void 0;)i=zu(i,n),t=se(t),n=H(t);return i}function GE(e,t){let n=[];return zE(e,t,n),n.sort((i,r)=>i.order-r.order),n}function zE(e,t,n){let i=Qi(t);if(i)for(let r=0;r<i.length;r++)n.push(i[r]);Wu(t,r=>{zE(e,r,n)})}function Zu(e,t){let n=Qi(t);if(n){let i=0;for(let r=0;r<n.length;r++)n[r].status!==2&&(n[i]=n[r],i++);n.length=i,Km(t,n.length>0?n:void 0)}Wu(t,i=>{Zu(e,i)})}function Jm(e,t){let n=da(HE(e,t)),i=zu(e.transactionQueueTree_,t);return FL(i,r=>{wg(e,r)}),wg(e,i),kE(i,r=>{wg(e,r)}),n}function wg(e,t){let n=Qi(t);if(n){let i=[],r=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(v(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(v(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),r=r.concat(ni(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&i.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?Km(t,void 0):n.length=o+1,lt(e.eventQueue_,da(t),r);for(let s=0;s<i.length;s++)Io(i[s])}}function rV(e){let t="",n=e.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}function oV(e){let t={};e.charAt(0)==="?"&&(e=e.substring(1));for(let n of e.split("&")){if(n.length===0)continue;let i=n.split("=");i.length===2?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):je(`Invalid query segment '${n}' in query '${e}'`)}return t}var fm=function(e,t){let n=sV(e),i=n.namespace;n.domain==="firebase.com"&&Zt(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&Zt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||FP();let r=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new fu(n.host,n.secure,i,r,t,"",i!==n.subdomain),path:new J(n.pathString)}},sV=function(e){let t="",n="",i="",r="",o="",s=!0,a="https",l=443;if(typeof e=="string"){let c=e.indexOf("//");c>=0&&(a=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");u===-1&&(u=e.length);let d=e.indexOf("?");d===-1&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(r=rV(e.substring(u,d)));let h=oV(e.substring(Math.min(e.length,d)));c=t.indexOf(":"),c>=0?(s=a==="https"||a==="wss",l=parseInt(t.substring(c+1),10)):c=t.length;let f=t.slice(0,c);if(f.toLowerCase()==="localhost")n="localhost";else if(f.split(".").length<=2)n=f;else{let p=t.indexOf(".");i=t.substring(0,p).toLowerCase(),n=t.substring(p+1),o=i}"ns"in h&&(o=h.ns)}return{host:t,port:l,domain:n,subdomain:i,secure:s,scheme:a,pathString:r,namespace:o}};var jC="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",aV=function(){let e=0,t=[];return function(n){let i=n===e;e=n;let r,o=new Array(8);for(r=7;r>=0;r--)o[r]=jC.charAt(n%64),n=Math.floor(n/64);v(n===0,"Cannot push at time == 0");let s=o.join("");if(i){for(r=11;r>=0&&t[r]===63;r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(Math.random()*64);for(r=0;r<12;r++)s+=jC.charAt(t[r]);return v(s.length===20,"nextPushId: Length should be 20."),s}}();var Ou=class{constructor(t,n,i,r){this.eventType=t,this.eventRegistration=n,this.snapshot=i,this.prevName=r}getPath(){let t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ye(this.snapshot.exportVal())}},xu=class{constructor(t,n,i){this.eventRegistration=t,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var oa=class{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return v(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}};var ku=class{constructor(t,n){this._repo=t,this._path=n}cancel(){let t=new Se;return QL(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){at("OnDisconnect.remove",this._path);let t=new Se;return VC(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){at("OnDisconnect.set",this._path),Xt("OnDisconnect.set",t,this._path,!1);let n=new Se;return VC(this._repo,this._path,t,n.wrapCallback(()=>{})),n.promise}setWithPriority(t,n){at("OnDisconnect.setWithPriority",this._path),Xt("OnDisconnect.setWithPriority",t,this._path,!1),qm("OnDisconnect.setWithPriority",n,!1);let i=new Se;return ZL(this._repo,this._path,t,n,i.wrapCallback(()=>{})),i.promise}update(t){at("OnDisconnect.update",this._path),FE("OnDisconnect.update",t,this._path,!1);let n=new Se;return JL(this._repo,this._path,t,n.wrapCallback(()=>{})),n.promise}};var qe=class e{constructor(t,n,i,r){this._repo=t,this._path=n,this._queryParams=i,this._orderByCalled=r}get key(){return G(this._path)?null:Nm(this._path)}get ref(){return new ct(this._repo,this._path)}get _queryIdentifier(){let t=IC(this._queryParams),n=Mm(t);return n==="{}"?"default":n}get _queryObject(){return IC(this._queryParams)}isEqual(t){if(t=Be(t),!(t instanceof e))return!1;let n=this._repo===t._repo,i=Rm(this._path,t._path),r=this._queryIdentifier===t._queryIdentifier;return n&&i&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+pF(this._path)}};function Ju(e,t){if(e._orderByCalled===!0)throw new Error(t+": You can't combine multiple orderBy calls.")}function ui(e){let t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Qt){let i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==oi)throw new Error(i);if(typeof t!="string")throw new Error(r)}if(e.hasEnd()){if(e.getIndexEndName()!==En)throw new Error(i);if(typeof n!="string")throw new Error(r)}}else if(e.getIndex()===le){if(t!=null&&!ra(t)||n!=null&&!ra(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(v(e.getIndex()instanceof Ys||e.getIndex()===km,"unknown index type."),t!=null&&typeof t=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Xu(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var ct=class e extends qe{constructor(t,n){super(t,n,new Xs,!1)}get parent(){let t=lE(this._path);return t===null?null:new e(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}},Eo=class e{constructor(t,n,i){this._node=t,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){let n=new J(t),i=ci(this.ref,t);return new e(this._node.getChild(n),i,le)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,r)=>t(new e(r,ci(this.ref,i),le)))}hasChild(t){let n=new J(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function Xm(e,t){return e=Be(e),e._checkNotDeleted("ref"),t!==void 0?ci(e._root,t):e._root}function e_(e,t){e=Be(e),e._checkNotDeleted("refFromURL");let n=fm(t,e._repo.repoInfo_.nodeAdmin);LE("refFromURL",n);let i=n.repoInfo;return!e._repo.repoInfo_.isCustomHost()&&i.host!==e._repo.repoInfo_.host&&Zt("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+e._repo.repoInfo_.host+")"),Xm(e,n.path.toString())}function ci(e,t){return e=Be(e),H(e._path)===null?$L("child","path",t,!1):Mo("child","path",t,!1),new ct(e._repo,de(e._path,t))}function WE(e,t){e=Be(e),at("push",e._path),Xt("push",t,e._path,!0);let n=UE(e._repo),i=aV(n),r=ci(e,i),o=ci(e,i),s;return t!=null?s=ed(o,t).then(()=>o):s=Promise.resolve(o),r.then=s.then.bind(s),r.catch=s.then.bind(s,void 0),r}function KE(e){return at("remove",e._path),ed(e,null)}function ed(e,t){e=Be(e),at("set",e._path),Xt("set",t,e._path,!1);let n=new Se;return Qm(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function qE(e,t){e=Be(e),at("setPriority",e._path),qm("setPriority",t,!1);let n=new Se;return Qm(e._repo,de(e._path,".priority"),t,null,n.wrapCallback(()=>{})),n.promise}function YE(e,t,n){if(at("setWithPriority",e._path),Xt("setWithPriority",t,e._path,!1),qm("setWithPriority",n,!1),e.key===".length"||e.key===".keys")throw"setWithPriority failed: "+e.key+" is a read-only object.";let i=new Se;return Qm(e._repo,e._path,t,n,i.wrapCallback(()=>{})),i.promise}function QE(e,t){FE("update",t,e._path,!1);let n=new Se;return qL(e._repo,e._path,t,n.wrapCallback(()=>{})),n.promise}function ZE(e){e=Be(e);let t=new oa(()=>{}),n=new sa(t);return KL(e._repo,e,n).then(i=>new Eo(i,new ct(e._repo,e._path),e._queryParams.getIndex()))}var sa=class e{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){let i=n._queryParams.getIndex();return new Ou("value",this,new Eo(t.snapshotNode,new ct(n._repo,n._path),i))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new xu(this,t,n):null}matches(t){return t instanceof e?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},Pu=class e{constructor(t,n){this.eventType=t,this.callbackContext=n}respondsTo(t){let n=t==="children_added"?"child_added":t;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new xu(this,t,n):null}createEvent(t,n){v(t.childName!=null,"Child events should have a childName.");let i=ci(new ct(n._repo,n._path),t.childName),r=n._queryParams.getIndex();return new Ou(t.type,this,new Eo(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof e?this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function ga(e,t,n,i,r){let o;if(typeof i=="object"&&(o=void 0,r=i),typeof i=="function"&&(o=i),r&&r.onlyOnce){let l=n,c=(u,d)=>{hm(e._repo,e,a),l(u,d)};c.userCallback=n.userCallback,c.context=n.context,n=c}let s=new oa(n,o||void 0),a=t==="value"?new sa(s):new Pu(t,s);return XL(e._repo,e,a),()=>hm(e._repo,e,a)}function td(e,t,n,i){return ga(e,"value",t,n,i)}function t_(e,t,n,i){return ga(e,"child_added",t,n,i)}function n_(e,t,n,i){return ga(e,"child_changed",t,n,i)}function i_(e,t,n,i){return ga(e,"child_moved",t,n,i)}function r_(e,t,n,i){return ga(e,"child_removed",t,n,i)}function o_(e,t,n){let i=null,r=n?new oa(n):null;t==="value"?i=new sa(r):t&&(i=new Pu(t,r)),hm(e._repo,e,i)}var ut=class{},Fu=class extends ut{constructor(t,n){super(),this._value=t,this._key=n,this.type="endAt"}_apply(t){Xt("endAt",this._value,t._path,!0);let n=Hg(t._queryParams,this._value,this._key);if(Xu(n),ui(n),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new qe(t._repo,t._path,n,t._orderByCalled)}};function JE(e,t){return fa("endAt","key",t,!0),new Fu(e,t)}var pm=class extends ut{constructor(t,n){super(),this._value=t,this._key=n,this.type="endBefore"}_apply(t){Xt("endBefore",this._value,t._path,!1);let n=xF(t._queryParams,this._value,this._key);if(Xu(n),ui(n),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new qe(t._repo,t._path,n,t._orderByCalled)}};function XE(e,t){return fa("endBefore","key",t,!0),new pm(e,t)}var Lu=class extends ut{constructor(t,n){super(),this._value=t,this._key=n,this.type="startAt"}_apply(t){Xt("startAt",this._value,t._path,!0);let n=$g(t._queryParams,this._value,this._key);if(Xu(n),ui(n),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new qe(t._repo,t._path,n,t._orderByCalled)}};function e1(e=null,t){return fa("startAt","key",t,!0),new Lu(e,t)}var gm=class extends ut{constructor(t,n){super(),this._value=t,this._key=n,this.type="startAfter"}_apply(t){Xt("startAfter",this._value,t._path,!1);let n=OF(t._queryParams,this._value,this._key);if(Xu(n),ui(n),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new qe(t._repo,t._path,n,t._orderByCalled)}};function t1(e,t){return fa("startAfter","key",t,!0),new gm(e,t)}var mm=class extends ut{constructor(t){super(),this._limit=t,this.type="limitToFirst"}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new qe(t._repo,t._path,NF(t._queryParams,this._limit),t._orderByCalled)}};function n1(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new mm(e)}var _m=class extends ut{constructor(t){super(),this._limit=t,this.type="limitToLast"}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new qe(t._repo,t._path,RF(t._queryParams,this._limit),t._orderByCalled)}};function i1(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new _m(e)}var vm=class extends ut{constructor(t){super(),this._path=t,this.type="orderByChild"}_apply(t){Ju(t,"orderByChild");let n=new J(this._path);if(G(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");let i=new Ys(n),r=ju(t._queryParams,i);return ui(r),new qe(t._repo,t._path,r,!0)}};function r1(e){if(e==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(e==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(e==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Mo("orderByChild","path",e,!1),new vm(e)}var ym=class extends ut{constructor(){super(...arguments),this.type="orderByKey"}_apply(t){Ju(t,"orderByKey");let n=ju(t._queryParams,Qt);return ui(n),new qe(t._repo,t._path,n,!0)}};function o1(){return new ym}var bm=class extends ut{constructor(){super(...arguments),this.type="orderByPriority"}_apply(t){Ju(t,"orderByPriority");let n=ju(t._queryParams,le);return ui(n),new qe(t._repo,t._path,n,!0)}};function s1(){return new bm}var wm=class extends ut{constructor(){super(...arguments),this.type="orderByValue"}_apply(t){Ju(t,"orderByValue");let n=ju(t._queryParams,km);return ui(n),new qe(t._repo,t._path,n,!0)}};function a1(){return new wm}var Dm=class extends ut{constructor(t,n){super(),this._value=t,this._key=n,this.type="equalTo"}_apply(t){if(Xt("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Fu(this._value,this._key)._apply(new Lu(this._value,this._key)._apply(t))}};function l1(e,t){return fa("equalTo","key",t,!0),new Dm(e,t)}function It(e,...t){let n=Be(e);for(let i of t)n=i._apply(n);return n}pL(ct);yL(ct);var lV="FIREBASE_DATABASE_EMULATOR_HOST",Cm={},cV=!1;function uV(e,t,n,i){e.repoInfo_=new fu(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),i&&(e.authTokenProvider_=i)}function s_(e,t,n,i,r){let o=i||e.options.databaseURL;o===void 0&&(e.options.projectId||Zt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Re("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let s=fm(o,r),a=s.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[lV]),c?(l=!0,o=`http://${c}?ns=${a.namespace}`,s=fm(o,r),a=s.repoInfo):l=!s.repoInfo.secure;let u=r&&l?new Hs(Hs.OWNER):new Sg(e.name,e.options,t);LE("Invalid Firebase Database URL",s),G(s.path)||Zt("Database URL must point to the root of a Firebase Database (not including a child path).");let d=hV(a,e,u,new Tg(e.name,n));return new Em(d,e)}function dV(e,t){let n=Cm[t];(!n||n[e.key]!==e)&&Zt(`Database ${t}(${e.repoInfo_}) has already been deleted.`),$E(e),delete n[e.key]}function hV(e,t,n,i){let r=Cm[t.name];r||(r={},Cm[t.name]=r);let o=r[e.toURLString()];return o&&Zt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new dm(e,cV,n,i),r[e.toURLString()]=o,o}var Em=class{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(zL(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ct(this._repo,Z())),this._rootInternal}_delete(){return this._rootInternal!==null&&(dV(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&Zt("Cannot call "+t+" on a deleted database.")}};function c1(){aE.IS_TRANSPORT_INITIALIZED&&je("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function u1(){c1(),Ks.forceDisallow()}function d1(){c1(),po.forceDisallow(),Ks.forceAllow()}function h1(e,t,n,i={}){e=Be(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&Zt("Cannot call useEmulator() after instance has already been initialized.");let r=e._repoInternal,o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Zt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Hs(Hs.OWNER);else if(i.mockUserToken){let s=typeof i.mockUserToken=="string"?i.mockUserToken:p_(i.mockUserToken,e.app.options.projectId);o=new Hs(s)}uV(r,t,n,o)}function f1(e){e=Be(e),e._checkNotDeleted("goOffline"),$E(e._repo)}function p1(e){e=Be(e),e._checkNotDeleted("goOnline"),eV(e._repo)}function g1(e,t){HC(e,t)}function fV(e){Sm(E_),Oo(new tn("database",(t,{instanceIdentifier:n})=>{let i=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return s_(i,r,o,n)},"PUBLIC").setMultipleInstances(!0)),Sn(lC,cC,e),Sn(lC,cC,"esm2017")}var pV={".sv":"timestamp"};function m1(){return pV}function _1(e){return{".sv":{increment:e}}}var Im=class{constructor(t,n){this.committed=t,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}};function v1(e,t,n){var i;if(e=Be(e),at("Reference.transaction",e._path),e.key===".length"||e.key===".keys")throw"Reference.transaction failed: "+e.key+" is a read-only object.";let r=(i=n?.applyLocally)!==null&&i!==void 0?i:!0,o=new Se,s=(l,c,u)=>{let d=null;l?o.reject(l):(d=new Eo(u,new ct(e._repo,e._path),le),o.resolve(new Im(c,d)))},a=td(e,()=>{});return tV(e._repo,e._path,t,s,a,r),o.promise}Om.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};Om.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};fV();var gV="@firebase/database-compat",mV="1.0.8";var _V=new er("@firebase/database-compat"),y1=function(e){let t="FIREBASE WARNING: "+e;_V.warn(t)};var vV=function(e,t,n,i){if(!(i&&n===void 0)&&typeof n!="boolean")throw new Error(Qe(e,t)+"must be a boolean.")},yV=function(e,t,n){if(!(n&&t===void 0))switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Qe(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}};var a_=class{constructor(t){this._delegate=t}cancel(t){A("OnDisconnect.cancel",0,1,arguments.length),Ce("OnDisconnect.cancel","onComplete",t,!0);let n=this._delegate.cancel();return t&&n.then(()=>t(null),i=>t(i)),n}remove(t){A("OnDisconnect.remove",0,1,arguments.length),Ce("OnDisconnect.remove","onComplete",t,!0);let n=this._delegate.remove();return t&&n.then(()=>t(null),i=>t(i)),n}set(t,n){A("OnDisconnect.set",1,2,arguments.length),Ce("OnDisconnect.set","onComplete",n,!0);let i=this._delegate.set(t);return n&&i.then(()=>n(null),r=>n(r)),i}setWithPriority(t,n,i){A("OnDisconnect.setWithPriority",2,3,arguments.length),Ce("OnDisconnect.setWithPriority","onComplete",i,!0);let r=this._delegate.setWithPriority(t,n);return i&&r.then(()=>i(null),o=>i(o)),r}update(t,n){if(A("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){let r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,y1("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ce("OnDisconnect.update","onComplete",n,!0);let i=this._delegate.update(t);return n&&i.then(()=>n(null),r=>n(r)),i}};var l_=class{constructor(t,n){this.committed=t,this.snapshot=n}toJSON(){return A("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}};var Zi=class e{constructor(t,n){this._database=t,this._delegate=n}val(){return A("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return A("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return A("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return A("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return A("DataSnapshot.child",0,1,arguments.length),t=String(t),Mo("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))}hasChild(t){return A("DataSnapshot.hasChild",1,1,arguments.length),Mo("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return A("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return A("DataSnapshot.forEach",1,1,arguments.length),Ce("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(n=>t(new e(this._database,n)))}hasChildren(){return A("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return A("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return A("DataSnapshot.ref",0,0,arguments.length),new In(this._database,this._delegate.ref)}get ref(){return this.getRef()}},nd=class e{constructor(t,n){this.database=t,this._delegate=n}on(t,n,i,r){var o;A("Query.on",2,4,arguments.length),Ce("Query.on","callback",n,!1);let s=e.getCancelAndContextArgs_("Query.on",i,r),a=(c,u)=>{n.call(s.context,new Zi(this.database,c),u)};a.userCallback=n,a.context=s.context;let l=(o=s.cancel)===null||o===void 0?void 0:o.bind(s.context);switch(t){case"value":return td(this._delegate,a,l),n;case"child_added":return t_(this._delegate,a,l),n;case"child_removed":return r_(this._delegate,a,l),n;case"child_changed":return n_(this._delegate,a,l),n;case"child_moved":return i_(this._delegate,a,l),n;default:throw new Error(Qe("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,n,i){if(A("Query.off",0,3,arguments.length),yV("Query.off",t,!0),Ce("Query.off","callback",n,!0),sd("Query.off","context",i,!0),n){let r=()=>{};r.userCallback=n,r.context=i,o_(this._delegate,t,r)}else o_(this._delegate,t)}get(){return ZE(this._delegate).then(t=>new Zi(this.database,t))}once(t,n,i,r){A("Query.once",1,4,arguments.length),Ce("Query.once","callback",n,!0);let o=e.getCancelAndContextArgs_("Query.once",i,r),s=new Se,a=(c,u)=>{let d=new Zi(this.database,c);n&&n.call(o.context,d,u),s.resolve(d)};a.userCallback=n,a.context=o.context;let l=c=>{o.cancel&&o.cancel.call(o.context,c),s.reject(c)};switch(t){case"value":td(this._delegate,a,l,{onlyOnce:!0});break;case"child_added":t_(this._delegate,a,l,{onlyOnce:!0});break;case"child_removed":r_(this._delegate,a,l,{onlyOnce:!0});break;case"child_changed":n_(this._delegate,a,l,{onlyOnce:!0});break;case"child_moved":i_(this._delegate,a,l,{onlyOnce:!0});break;default:throw new Error(Qe("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}limitToFirst(t){return A("Query.limitToFirst",1,1,arguments.length),new e(this.database,It(this._delegate,n1(t)))}limitToLast(t){return A("Query.limitToLast",1,1,arguments.length),new e(this.database,It(this._delegate,i1(t)))}orderByChild(t){return A("Query.orderByChild",1,1,arguments.length),new e(this.database,It(this._delegate,r1(t)))}orderByKey(){return A("Query.orderByKey",0,0,arguments.length),new e(this.database,It(this._delegate,o1()))}orderByPriority(){return A("Query.orderByPriority",0,0,arguments.length),new e(this.database,It(this._delegate,s1()))}orderByValue(){return A("Query.orderByValue",0,0,arguments.length),new e(this.database,It(this._delegate,a1()))}startAt(t=null,n){return A("Query.startAt",0,2,arguments.length),new e(this.database,It(this._delegate,e1(t,n)))}startAfter(t=null,n){return A("Query.startAfter",0,2,arguments.length),new e(this.database,It(this._delegate,t1(t,n)))}endAt(t=null,n){return A("Query.endAt",0,2,arguments.length),new e(this.database,It(this._delegate,JE(t,n)))}endBefore(t=null,n){return A("Query.endBefore",0,2,arguments.length),new e(this.database,It(this._delegate,XE(t,n)))}equalTo(t,n){return A("Query.equalTo",1,2,arguments.length),new e(this.database,It(this._delegate,l1(t,n)))}toString(){return A("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return A("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if(A("Query.isEqual",1,1,arguments.length),!(t instanceof e)){let n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,n,i){let r={cancel:void 0,context:void 0};if(n&&i)r.cancel=n,Ce(t,"cancel",r.cancel,!0),r.context=i,sd(t,"context",r.context,!0);else if(n)if(typeof n=="object"&&n!==null)r.context=n;else if(typeof n=="function")r.cancel=n;else throw new Error(Qe(t,"cancelOrContext")+" must either be a cancel callback or a context object.");return r}get ref(){return new In(this.database,new ct(this._delegate._repo,this._delegate._path))}},In=class e extends nd{constructor(t,n){super(t,new qe(n._repo,n._path,new Xs,!1)),this.database=t,this._delegate=n}getKey(){return A("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return A("Reference.child",1,1,arguments.length),typeof t=="number"&&(t=String(t)),new e(this.database,ci(this._delegate,t))}getParent(){A("Reference.parent",0,0,arguments.length);let t=this._delegate.parent;return t?new e(this.database,t):null}getRoot(){return A("Reference.root",0,0,arguments.length),new e(this.database,this._delegate.root)}set(t,n){A("Reference.set",1,2,arguments.length),Ce("Reference.set","onComplete",n,!0);let i=ed(this._delegate,t);return n&&i.then(()=>n(null),r=>n(r)),i}update(t,n){if(A("Reference.update",1,2,arguments.length),Array.isArray(t)){let r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,y1("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}at("Reference.update",this._delegate._path),Ce("Reference.update","onComplete",n,!0);let i=QE(this._delegate,t);return n&&i.then(()=>n(null),r=>n(r)),i}setWithPriority(t,n,i){A("Reference.setWithPriority",2,3,arguments.length),Ce("Reference.setWithPriority","onComplete",i,!0);let r=YE(this._delegate,t,n);return i&&r.then(()=>i(null),o=>i(o)),r}remove(t){A("Reference.remove",0,1,arguments.length),Ce("Reference.remove","onComplete",t,!0);let n=KE(this._delegate);return t&&n.then(()=>t(null),i=>t(i)),n}transaction(t,n,i){A("Reference.transaction",1,3,arguments.length),Ce("Reference.transaction","transactionUpdate",t,!1),Ce("Reference.transaction","onComplete",n,!0),vV("Reference.transaction","applyLocally",i,!0);let r=v1(this._delegate,t,{applyLocally:i}).then(o=>new l_(o.committed,new Zi(this.database,o.snapshot)));return n&&r.then(o=>n(null,o.committed,o.snapshot),o=>n(o,!1,null)),r}setPriority(t,n){A("Reference.setPriority",1,2,arguments.length),Ce("Reference.setPriority","onComplete",n,!0);let i=qE(this._delegate,t);return n&&i.then(()=>n(null),r=>n(r)),i}push(t,n){A("Reference.push",0,2,arguments.length),Ce("Reference.push","onComplete",n,!0);let i=WE(this._delegate,t),r=i.then(s=>new e(this.database,s));n&&r.then(()=>n(null),s=>n(s));let o=new e(this.database,i);return o.then=r.then.bind(r),o.catch=r.catch.bind(r,void 0),o}onDisconnect(){return at("Reference.onDisconnect",this._delegate._path),new a_(new ku(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}};var Ji=class{constructor(t,n){this._delegate=t,this.app=n,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:u1,forceLongPolling:d1}}useEmulator(t,n,i={}){h1(this._delegate,t,n,i)}ref(t){if(A("database.ref",0,1,arguments.length),t instanceof In){let n=e_(this._delegate,t.toString());return new In(this,n)}else{let n=Xm(this._delegate,t);return new In(this,n)}}refFromURL(t){A("database.refFromURL",1,1,arguments.length);let i=e_(this._delegate,t);return new In(this,i)}goOffline(){return A("database.goOffline",0,0,arguments.length),f1(this._delegate)}goOnline(){return A("database.goOnline",0,0,arguments.length),p1(this._delegate)}};Ji.ServerValue={TIMESTAMP:m1(),increment:e=>_1(e)};function bV({app:e,url:t,version:n,customAuthImpl:i,customAppCheckImpl:r,namespace:o,nodeAdmin:s=!1}){Sm(n);let a=new ad("database-standalone"),l=new wa("auth-internal",a);l.setComponent(new tn("auth-internal",()=>i,"PRIVATE"));let c;return r&&(c=new wa("app-check-internal",a),c.setComponent(new tn("app-check-internal",()=>r,"PRIVATE"))),{instance:new Ji(s_(e,l,c,t,s),e),namespace:o}}var wV=Object.freeze({__proto__:null,initStandalone:bV});var DV=Ji.ServerValue;function CV(e){e.INTERNAL.registerComponent(new tn("database-compat",(t,{instanceIdentifier:n})=>{let i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:n});return new Ji(r,i)},"PUBLIC").setServiceProps({Reference:In,Query:nd,Database:Ji,DataSnapshot:Zi,enableLogging:g1,INTERNAL:wV,ServerValue:DV}).setMultipleInstances(!0)),e.registerVersion(gV,mV)}CV(Ue);function ma(e,t,n="on",i=ur){return new N(r=>{let o=null;return o=e[n](t,(s,a)=>{i.schedule(()=>{r.next({snapshot:s,prevKey:a})}),n==="once"&&i.schedule(()=>r.complete())},s=>{i.schedule(()=>r.error(s))}),n==="on"?{unsubscribe(){o!=null&&e.off(t,o)}}:{unsubscribe(){}}}).pipe(S(r=>{let{snapshot:o,prevKey:s}=r,a=null;return o.exists()&&(a=o.key),{type:t,payload:o,prevKey:s,key:a}}),Vo())}function EV(e){return typeof e=="string"}function IV(e){return typeof e.exportVal=="function"}function E1(e){return e==null}function I1(e){return typeof e.set=="function"}function b1(e,t){return I1(t)?t:e.ref(t)}function T1(e,t){if(EV(e))return t.stringCase();if(I1(e))return t.firebaseCase();if(IV(e))return t.snapshotCase();throw new Error(`Expects a string, snapshot, or reference. Got: ${typeof e}`)}function S1(e){return(E1(e)||e.length===0)&&(e=["child_added","child_removed","child_changed","child_moved"]),e}function M1(e,t,n){t=S1(t);let i=t.map(r=>ma(e,r,"on",n));return gi(...i)}function TV(e,t,n){let i=M1(e,t).pipe(mr((r,o)=>[...r,o],[]));return MV(e,i,n)}function SV(e,t){return ma(e,"value","on",t).pipe(S(n=>{let i;return n.payload.forEach(r=>(i=r.key,!1)),{data:n,lastKeyToLoad:i}}))}function MV(e,t,n){return SV(e,n).pipe(_r(t),S(([r,o])=>{let s=r.lastKeyToLoad,a=o.map(l=>l.key);return{actions:o,lastKeyToLoad:s,loadedKeys:a}}),Pd(r=>r.loadedKeys.indexOf(r.lastKeyToLoad)===-1),S(r=>r.actions))}function w1(e,t){return function(i,r){return T1(i,{stringCase:()=>e.child(i)[t](r),firebaseCase:()=>i[t](r),snapshotCase:()=>i.ref[t](r)})}}function AV(e){return function(n){return n?T1(n,{stringCase:()=>e.child(n).remove(),firebaseCase:()=>n.remove(),snapshotCase:()=>n.ref.remove()}):e.remove()}}function NV(e,t,n){return ma(e,"value","once",n).pipe(ie(i=>{let r=[C(i)];return t.forEach(o=>r.push(ma(e,o,"on",n))),gi(...r).pipe(mr(OV,[]))}),Za())}function A1(e,t){let n=e.length;for(let i=0;i<n;i++)if(e[i].payload.key===t)return i;return-1}function RV(e,t){if(E1(t))return 0;{let n=A1(e,t);return n===-1?e.length:n+1}}function OV(e,t){let{payload:n,prevKey:i,key:r}=t,o=A1(e,r),s=RV(e,i);switch(t.type){case"value":if(t.payload?.exists()){let a=null;t.payload.forEach(l=>{let c={payload:l,type:"value",prevKey:a,key:l.key};return a=l.key,e=[...e,c],!1})}return e;case"child_added":if(o>-1)(e[o-1]?.key||null)!==i&&(e=e.filter(l=>l.payload.key!==n.key),e.splice(s,0,t));else{if(i==null)return[t,...e];e=e.slice(),e.splice(s,0,t)}return e;case"child_removed":return e.filter(a=>a.payload.key!==n.key);case"child_changed":return e.map(a=>a.payload.key===r?t:a);case"child_moved":if(o>-1){let a=e.splice(o,1)[0];return e=e.slice(),e.splice(s,0,a),e}return e;default:return e}}function D1(e,t,n){return t=S1(t),NV(e,t,n)}function xV(e,t){let n=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>e.ref);return{query:e,update:w1(i,"update"),set:w1(i,"set"),push:r=>i.push(r),remove:AV(i),snapshotChanges(r){return D1(e,r,n).pipe(Cn)},stateChanges(r){return M1(e,r,n).pipe(Cn)},auditTrail(r){return TV(e,r,n).pipe(Cn)},valueChanges(r,o){return D1(e,r,n).pipe(S(a=>a.map(l=>o&&o.idField?U(y({},l.payload.val()),{[o.idField]:l.key}):l.payload.val())),Cn)}}}function C1(e,t){return function(){return ma(e,"value","on",t)}}function kV(e,t){return{query:e,snapshotChanges(){return C1(e,t.schedulers.outsideAngular)().pipe(Cn)},update(n){return e.ref.update(n)},set(n){return e.ref.set(n)},remove(){return e.ref.remove()},valueChanges(){return C1(e,t.schedulers.outsideAngular)().pipe(Cn,S(i=>i.payload.exists()?i.payload.val():null))}}}var PV=new w("angularfire2.realtimeDatabaseURL"),FV=new w("angularfire2.database.use-emulator"),LV=(()=>{class e{schedulers;database;constructor(n,i,r,o,s,a,l,c,u,d,h,f,p,m,b){this.schedulers=a;let T=l,j=Ls(n,s,i);c&&fg(j,s,u,h,f,p,d,m),this.database=uu(`${j.name}.database.${r}`,"AngularFireDatabase",j.name,()=>{let E=s.runOutsideAngular(()=>j.database(r||void 0));return T&&E.useEmulator(...T),E},[T])}list(n,i){let r=this.schedulers.ngZone.runOutsideAngular(()=>b1(this.database,n)),o=r;return i&&(o=i(r)),xV(o,this)}object(n){let i=this.schedulers.ngZone.runOutsideAngular(()=>b1(this.database,n));return kV(i,this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}static \u0275fac=function(i){return new(i||e)(_(uo),_(ho,8),_(PV,8),_(Pe),_(P),_(au),_(FV,8),_(pg,8),_(ag,8),_(lg,8),_(cg,8),_(ug,8),_(dg,8),_(hg,8),_($i,8))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"any"})}return e})(),N1=(()=>{class e{constructor(){Ue.registerVersion("angularfire",Hi.full,"rtdb-compat")}static \u0275fac=function(i){return new(i||e)};static \u0275mod=L({type:e});static \u0275inj=F({providers:[LV]})}return e})();var R1={production:!0,firebaseConfig:{apiKey:"AIzaSyAmlcOounhaBd9fMyFjs1oM2NJNaSpDuPs",authDomain:"frontenddolgozat2025-01-17.firebaseapp.com",projectId:"frontenddolgozat2025-01-17",storageBucket:"frontenddolgozat2025-01-17.firebasestorage.app",messagingSenderId:"55793260465",appId:"1:55793260465:web:3995cc2b624d8eb736cf90"}};var id=class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=L({type:e,bootstrap:[ou]});static \u0275inj=F({providers:[Jb()],imports:[aw,tu,GD,bD,sC.initializeApp(R1.firebaseConfig),N1,aC]})};sw().bootstrapModule(id,{ngZoneEventCoalescing:!0}).catch(e=>console.error(e));
